---
title: 电机工程创新实践（短学期）
top_img: /image/top3.jpg
mathjax: true
cover: /image/lyy.png
description: 大四了就得是开摆而不是不摆
tags: 
  - 电气
  - 笔记
  - 大四
categories: 课程

post_meta:
  page:
    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示
    date_format: date # date/relative 显示日期还是相对日期
    categories: true # true or false 主页是否显示分类
    tags: true # true or false 主页是否显示标签
    label: true # true or false 显示描述性文字
  post:
    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示
    date_format: date # date/relative 显示日期还是相对日期
    categories: true # true or false 文章页是否显示分类
    tags: true # true or false 文章页是否显示标签
    label: true # true or false 显示描述性文字

copyright_author: Paradox
copyright_author_href: https://github.com/ParadoxTZ
copyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者
---



# 电机工程创新实践

- 这门课本来应该是在寒假一起修的短学期课程，但是hxy老师把它放到冬学期上了。一周一节，一共四节课左右，剩下的时间自己做大作业。但奈何本人最近一直在实习….
- 这门课的要求是设计一个小型电机，体验一下设计流程。不过**真正在工程实践中电机的设计流程并不如此**（以至于黄老师自己都不会用ANSYS），本人也没有进行什么优化，反正看上去还行。本篇文章走一下hxy老师的设计流程。
- 课不用怎么听，基本靠自学
- **本人不会设计电机**

## 1. 基本电机参数设计

​    这块跟大三下学期学的电机设计区别不太大，不过不需要搞得那么复杂，只需要设计几个基本的参数就行了。黄老师的PPT里有流程示范，基本跟着她那个走就行（顺带一提，黄老师基本不看钉钉但是微信秒回，所以催她发文件最好微信）

### 1.1 主要尺寸关系式

先根据设计要求，找到电机的转矩、转速、电压要求。

根据电机基本尺寸关系式（分子6.1那个，详见电机设计）计算电枢外径$D_0$。其中：

- A可以取值在15~50 × 10^3^ A/m
- $B_{\delta}$可以取值在0.6~0.8 T
- $\alpha_p$可以取值在0.7左右
- $K_{nm}$取值在1.1，$K_{dp}$取值在0.92或0.96
- 尺寸比$\lambda$可以取得很小（因为我设计的是机器人关节电机，所以取的0.1左右，D比l大很多）

​    然后确定内转子还是外转子。黄老师设计的是外转子，我是内转子。内转子可以参考电机设计这本书的例程，定子内径（即约为转子外径）大概就是外径的0.6~0.8，反正这个要求不是特别大，最终大概设计出来定子轭部跟定子齿的宽度差不多就行（轭部可以细一点）

​    这里我的参数大概是80,50（仅供参考）。转子内径要求不大，给转子轭部稍微留点空间。一般设计个30以上吧，这个对电机性能影响很小，尽量让转子轭部薄一点。

### 1.2 槽极配合

​    hxy老师的PPT上有两个表格，分别是不同槽极配合下的绕组系数和谐波与噪声（这两个表横纵坐标反了别看岔），谐波选数字稍微大一点（意思就是谐波小），绕组系数大一些。一般都是分数槽集中绕组，一些比较经典的设计比如12s10p，12s9p等等，对这些槽极配合等比例放大（比如我用的24s20p）也是个不错的选择。我看有人说24s20p的波形没有特别好，他用的好像有三十多极，具体我有点记不清了。反正这么大的电机，极数二三十差不多了，电机越大可以把极对数增大。

### 1.3 材料选型

​    我是不会一点，老师选啥我选啥，抄PPT的

### 1.4 槽型设计

​    我是不会一点，《电机设计》选啥我选啥。把他在第十章设计的槽等比缩放一下（按照电枢直径）就是我的槽了！（免责声明：吴立建上课也是这么说的）



好的，现在你就非常粗略的设计完电机了（没事，没设计的部分ANSYS会帮你设计的）



## 2. RMxprt 建模

给一个参考链接，可以跟着他做一下建模，数据用自己的就好：https://www.bilibili.com/video/BV1cN411r7Wu

![](\image\hxy1.png)

- 推荐用参数化建模，如左下角红线所示，这样之后做参数扫描比较方便。
- 如果一些必填的参数你不知道怎么取，可以参考黄老师PPT中的取法（但也不一定对），这里给点参考：永磁体厚度可以在2mm左右，气隙可以在1mm左右（黄老师取的2mm太大了）
- windings的参数设计慎填，因为你可能会设计的一坨屎（没错我一开始就是这样），把必要的几个填一下，比如并联支路数是1还是2，剩下的丢给他自己设计吧，比如匝数、线径啥的。不合适后面再改。

- **黄老师会发一个电机设计报告的word模板，如果第三四节课后还没发，记得找她要。**对着那个报告做会轻松很多。做完上面这几步，你已经可以填写**表1.1和表1.2**了。



## 3. Maxwell 建模与仿真

​    使用setup创建Maxwell2D模型，绝大部分仿真都需要在Maxwell里面跑，**原因是RMxprt里面的仿真只能是 `Constant Power`，但是我们需要的是用电流源来进行仿真**。

不要立刻进行仿真。

### 3.1 磁场：磁密云图、磁力线分布与气隙磁密

​    ctrl+A 全选，右键选择`plot mesh`进行剖分，在左侧的Field Overlays里面可以看到剖分图。如果剖分没有出来的话，双击一下电机模型的左下角，有一个Time=0的东西，双击完成就能看到了。然后分别进行A和B的调用。

![](\image\hxy4.png)

![](\image\hxy9.png)

如下图所示，画一条气隙线，原点在电机圆心，半径刚好穿过气隙。画完后只用保留线，把`coverlines`删了

![](\image\hxy3.png)

​    如下图所示，添加气隙磁密。气隙磁密一共两个，径向$B_r$和切向$B_t$，所以一共添加两次，就是在第二步操作中分别选择切向Target和径向Normal，然后分别命名Bt和Br就行。步骤用蓝色标出。

![](\image\hxy5.png)

​    接着进行仿真设置，右键setup1选择properties进行设置，为了少跑几个周期，可以减小一点总时间。时间设多少随你，大概三个周期就够。上面那个100可以减小点，20,50啥的都行，具体含义自己看英文。

![](\image\hxy2.png)

​    在仿真之前，非常重要的一部是如下图所示进行设置，从电压源改成电流源。**具体数值要根据设计的电机参数进行更改**。BC相减/加三分之二π就行。一开始I0设置成0模拟空载，n设置成额定转速。

![](\image\hxy8.png)

开始仿真！

​    为了查看气隙磁密，分别进行下面两步操作。其中第二张图的7200是取点的数量，越多越慢，我感觉1440之后区别不大了，尽量设成个360的倍数就行。查看气隙磁密并填入**图4.3**中。

![](\image\hxy6.png)

![](\image\hxy7.png)

在左侧的Field Overlays里面可以看到磁密云图、磁力线分布，填入**图4.1，4.2**中。右键Result选择FFT，如下

![](\image\hxy10.png)

最后怎么处理的数据自己去查。



### 3.2 电场：感应电势与电流

​    齿槽转矩就是输入电流为0时的点击转矩，可以直接看自带的Torque曲线就行了

​    感应电压曲线也是。由于本实验要求输入电压最低30V，因此感应电动势**不能超过这个数值**，否则需要额外的控制。如果超过了，则需要减少线圈匝数cond，其可以在左下角的variable里面找到。此外，如果这个比较**不正弦**的话可能需要调整一下其它参数。如果需要减少匝数的话，那就需要增加绕线截面积了（为了确保电流一样）。为了应付教学，可以直接把原来的线径按比例放大（平方关系），但实际中涉及到选型是不能这么做的。

​    磁链、电感和电阻也是一样的，自己去调一下Result里面的数据（低情商：我也是猜的）

​    至于怎么调曲线：Result - Create Transient Report - Create Rectangular Report



### 3.3 负载特性

首先先进行参数扫描，如下

![](\image\hxy11.png)

![](\image\hxy12.png)

​    对新得到的ParameterSetup1进行分析Analyze，由于扫的点数很多，所以可能耗时很久。然后如下图所示进行转矩-电流曲线的扫描。需要注意的是，如果之前更改过cond（匝数），那么他在仿真的时候会把两种cond都仿真一次，所以可以在families里面把cond换成你需要的那个，而不是all

![](\image\hxy13.png)

​    其他的转矩波形、感应电动势直接调出来就行。需要注意的是要手动把电流设置成额定电流（额定电流从上面的转矩-电流曲线中读出），具体操作方法为：

​    右键Result中相应的图表 - Modify - Families - 电流改成额定电流

​    接着，用转矩-电流曲线同样的方法，找到交直轴电感Ld，Lq（记得用Average值）与电流的关系

​    左下角Variable把输入电流改成额定电流，跑一遍Setup1，再去看电机磁密云图



​    正常情况下，Maxwell仿真是不包含涡流损耗和永磁损耗的，要主动选择。步骤如下，选择Core loss和Eddy Current loss之后把所有的都勾上。

![](\image\hxy14.png)

​	不同转速、电流下的数据点下，电机的效率MAP图跟上面的扫描也是类似的，设置类似如下（记得把仿真的间隔调一下，不然得跑很久很久）

![](\image\hxy15.png)



### 3.4 过载

把电机电密调到50，你看下原来的电密，应该会是50的三分之一到二分之一，把电流等比放大就行。然后跑一次。

电流就是正常的电流

磁密云图也不用管温度要求了，就是之前的磁密云图

这个是什么意思呢，就是如果退磁严重的话，需要你把永磁体厚度增厚，也就是说前面重来一遍喵。



