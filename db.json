{"meta":{"version":1,"warehouse":"4.0.2"},"models":{"Asset":[{"_id":"themes/butterfly/source/img/404.jpg","path":"img/404.jpg","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/favicon.png","path":"img/favicon.png","modified":1,"renderable":1},{"_id":"themes/butterfly/source/img/friend_404.gif","path":"img/friend_404.gif","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/main.js","path":"js/main.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/tw_cn.js","path":"js/tw_cn.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/utils.js","path":"js/utils.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/index.styl","path":"css/index.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/css/var.styl","path":"css/var.styl","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/algolia.js","path":"js/search/algolia.js","modified":1,"renderable":1},{"_id":"themes/butterfly/source/js/search/local-search.js","path":"js/search/local-search.js","modified":1,"renderable":1},{"_id":"source/CNAME","path":"CNAME","modified":1,"renderable":0},{"_id":"source/image/Back_Li.jpg","path":"image/Back_Li.jpg","modified":1,"renderable":0},{"_id":"source/image/Jiaran1.png","path":"image/Jiaran1.png","modified":1,"renderable":0},{"_id":"source/image/SDU.png","path":"image/SDU.png","modified":1,"renderable":0},{"_id":"source/image/SE.png","path":"image/SE.png","modified":1,"renderable":0},{"_id":"source/image/after.png","path":"image/after.png","modified":1,"renderable":0},{"_id":"source/image/apple.jpg","path":"image/apple.jpg","modified":1,"renderable":0},{"_id":"source/image/back.png","path":"image/back.png","modified":1,"renderable":0},{"_id":"source/image/before.png","path":"image/before.png","modified":1,"renderable":0},{"_id":"source/image/canny1.png","path":"image/canny1.png","modified":1,"renderable":0},{"_id":"source/image/cyb.png","path":"image/cyb.png","modified":1,"renderable":0},{"_id":"source/image/dog.jpg","path":"image/dog.jpg","modified":1,"renderable":0},{"_id":"source/image/home.png","path":"image/home.png","modified":1,"renderable":0},{"_id":"source/image/image.png","path":"image/image.png","modified":1,"renderable":0},{"_id":"source/image/image2.png","path":"image/image2.png","modified":1,"renderable":0},{"_id":"source/image/image3.png","path":"image/image3.png","modified":1,"renderable":0},{"_id":"source/image/image4.png","path":"image/image4.png","modified":1,"renderable":0},{"_id":"source/image/jiaran2.png","path":"image/jiaran2.png","modified":1,"renderable":0},{"_id":"source/image/s1.png","path":"image/s1.png","modified":1,"renderable":0},{"_id":"source/image/s2.png","path":"image/s2.png","modified":1,"renderable":0},{"_id":"source/image/tmpjp_dhaa1.png","path":"image/tmpjp_dhaa1.png","modified":1,"renderable":0},{"_id":"source/image/top.jpeg","path":"image/top.jpeg","modified":1,"renderable":0},{"_id":"source/image/top2.png","path":"image/top2.png","modified":1,"renderable":0},{"_id":"source/image/wyVe7uLQ_400x400.jpg","path":"image/wyVe7uLQ_400x400.jpg","modified":1,"renderable":0},{"_id":"source/image/top3.jpg","path":"image/top3.jpg","modified":1,"renderable":0},{"_id":"source/image/乌篷船4.png","path":"image/乌篷船4.png","modified":1,"renderable":0},{"_id":"source/image/八重神子立牌.png","path":"image/八重神子立牌.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉2.png","path":"image/农夫山泉2.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉1.png","path":"image/农夫山泉1.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_Deliberate.png","path":"image/农夫山泉_Deliberate.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_DreamLike.png","path":"image/农夫山泉_DreamLike.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_LF.png","path":"image/农夫山泉_LF.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_NED.png","path":"image/农夫山泉_NED.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_NED2.png","path":"image/农夫山泉_NED2.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_国风.png","path":"image/农夫山泉_国风.png","modified":1,"renderable":0},{"_id":"source/image/农夫山泉_深渊橘.png","path":"image/农夫山泉_深渊橘.png","modified":1,"renderable":0},{"_id":"source/image/剑冢4.png","path":"image/剑冢4.png","modified":1,"renderable":0},{"_id":"source/image/双足01.png","path":"image/双足01.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231002123148.png","path":"image/微信图片_20231002123148.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231002125925.png","path":"image/微信图片_20231002125925.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231002133105.png","path":"image/微信图片_20231002133105.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231002153828.png","path":"image/微信图片_20231002153828.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231003143640.png","path":"image/微信图片_20231003143640.png","modified":1,"renderable":0},{"_id":"source/image/微信图片_20231002160402.png","path":"image/微信图片_20231002160402.png","modified":1,"renderable":0},{"_id":"source/image/电机学01.png","path":"image/电机学01.png","modified":1,"renderable":0},{"_id":"source/image/电机学02.png","path":"image/电机学02.png","modified":1,"renderable":0},{"_id":"source/image/电机学03.png","path":"image/电机学03.png","modified":1,"renderable":0},{"_id":"source/image/电机学04.png","path":"image/电机学04.png","modified":1,"renderable":0},{"_id":"source/image/电机学05.png","path":"image/电机学05.png","modified":1,"renderable":0},{"_id":"source/image/电机学06.png","path":"image/电机学06.png","modified":1,"renderable":0},{"_id":"source/image/稳态02.png","path":"image/稳态02.png","modified":1,"renderable":0},{"_id":"source/image/稳态01.png","path":"image/稳态01.png","modified":1,"renderable":0},{"_id":"source/image/稳态04.png","path":"image/稳态04.png","modified":1,"renderable":0},{"_id":"source/image/稳态03.png","path":"image/稳态03.png","modified":1,"renderable":0},{"_id":"source/image/稳态05.png","path":"image/稳态05.png","modified":1,"renderable":0},{"_id":"source/image/稳态06.png","path":"image/稳态06.png","modified":1,"renderable":0},{"_id":"source/image/稳态07.png","path":"image/稳态07.png","modified":1,"renderable":0},{"_id":"source/image/稳态08.png","path":"image/稳态08.png","modified":1,"renderable":0},{"_id":"source/image/稳态09.png","path":"image/稳态09.png","modified":1,"renderable":0},{"_id":"source/image/稳态10.png","path":"image/稳态10.png","modified":1,"renderable":0},{"_id":"source/image/稳态11.png","path":"image/稳态11.png","modified":1,"renderable":0},{"_id":"source/image/风雪1.png","path":"image/风雪1.png","modified":1,"renderable":0},{"_id":"source/myfile/FDS.pdf","path":"myfile/FDS.pdf","modified":1,"renderable":0},{"_id":"source/myfile/《模拟电子技术基础》童诗白  第四版.pdf","path":"myfile/《模拟电子技术基础》童诗白  第四版.pdf","modified":1,"renderable":0},{"_id":"source/myfile/《电路与电子技术II》模电 期末复习.pdf","path":"myfile/《电路与电子技术II》模电 期末复习.pdf","modified":1,"renderable":0},{"_id":"source/myfile/人工智能与物联网CheatSheet.pdf","path":"myfile/人工智能与物联网CheatSheet.pdf","modified":1,"renderable":0},{"_id":"source/myfile/信号.pdf","path":"myfile/信号.pdf","modified":1,"renderable":0},{"_id":"source/myfile/公式附录（考试）.pdf","path":"myfile/公式附录（考试）.pdf","modified":1,"renderable":0},{"_id":"source/myfile/工程电磁场与波.pdf","path":"myfile/工程电磁场与波.pdf","modified":1,"renderable":0},{"_id":"source/myfile/电路与电子技术(2)笔记.pdf","path":"myfile/电路与电子技术(2)笔记.pdf","modified":1,"renderable":0},{"_id":"source/myfile/张健复习PPT.pdf","path":"myfile/张健复习PPT.pdf","modified":1,"renderable":0},{"_id":"source/gallery/new/top.jpeg","path":"gallery/new/top.jpeg","modified":1,"renderable":0},{"_id":"source/gallery/new/top2.png","path":"gallery/new/top2.png","modified":1,"renderable":0},{"_id":"source/gallery/new/top3.jpg","path":"gallery/new/top3.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180015.jpg","path":"gallery/new/微信图片_20230926180015.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_202309261800151.jpg","path":"gallery/new/微信图片_202309261800151.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180016.jpg","path":"gallery/new/微信图片_20230926180016.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180017.jpg","path":"gallery/new/微信图片_20230926180017.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_202309261800181.jpg","path":"gallery/new/微信图片_202309261800181.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180018.jpg","path":"gallery/new/微信图片_20230926180018.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180019.jpg","path":"gallery/new/微信图片_20230926180019.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180020.jpg","path":"gallery/new/微信图片_20230926180020.jpg","modified":1,"renderable":0},{"_id":"source/gallery/new/微信图片_20230926180021.jpg","path":"gallery/new/微信图片_20230926180021.jpg","modified":1,"renderable":0},{"_id":"source/gallery/二次元/剑冢1.png","path":"gallery/二次元/剑冢1.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/剑冢2.png","path":"gallery/二次元/剑冢2.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/剑冢3.png","path":"gallery/二次元/剑冢3.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/剑冢5.png","path":"gallery/二次元/剑冢5.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/剑冢4.png","path":"gallery/二次元/剑冢4.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/嘉然1.png","path":"gallery/二次元/嘉然1.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/嘉然2.png","path":"gallery/二次元/嘉然2.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/嘉然4.png","path":"gallery/二次元/嘉然4.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/嘉然3.png","path":"gallery/二次元/嘉然3.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲1.png","path":"gallery/二次元/机甲1.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲2.png","path":"gallery/二次元/机甲2.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲3.png","path":"gallery/二次元/机甲3.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲4.png","path":"gallery/二次元/机甲4.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲5.png","path":"gallery/二次元/机甲5.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/机甲6.png","path":"gallery/二次元/机甲6.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/泳衣1.png","path":"gallery/二次元/泳衣1.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/泳衣3.png","path":"gallery/二次元/泳衣3.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/泳衣2.png","path":"gallery/二次元/泳衣2.png","modified":1,"renderable":0},{"_id":"source/gallery/二次元/泳衣4.png","path":"gallery/二次元/泳衣4.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子.png","path":"gallery/八重神子/八重神子.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子01.png","path":"gallery/八重神子/八重神子01.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子02.png","path":"gallery/八重神子/八重神子02.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子03.png","path":"gallery/八重神子/八重神子03.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子1.png","path":"gallery/八重神子/八重神子1.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子3.png","path":"gallery/八重神子/八重神子3.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子_真人1.png","path":"gallery/八重神子/八重神子_真人1.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子真人版2.png","path":"gallery/八重神子/八重神子真人版2.png","modified":1,"renderable":0},{"_id":"source/gallery/八重神子/八重神子立牌.png","path":"gallery/八重神子/八重神子立牌.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船1.png","path":"gallery/真实系/乌篷船1.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船2.png","path":"gallery/真实系/乌篷船2.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船3.png","path":"gallery/真实系/乌篷船3.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船4.png","path":"gallery/真实系/乌篷船4.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船5.png","path":"gallery/真实系/乌篷船5.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船6.png","path":"gallery/真实系/乌篷船6.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/乌篷船7.png","path":"gallery/真实系/乌篷船7.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球1.png","path":"gallery/真实系/排球1.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球2.png","path":"gallery/真实系/排球2.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球3.png","path":"gallery/真实系/排球3.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球4.png","path":"gallery/真实系/排球4.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球5.png","path":"gallery/真实系/排球5.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球6.png","path":"gallery/真实系/排球6.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球8.png","path":"gallery/真实系/排球8.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球7.png","path":"gallery/真实系/排球7.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/排球9.png","path":"gallery/真实系/排球9.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室2.png","path":"gallery/真实系/教室2.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室3.png","path":"gallery/真实系/教室3.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室4.png","path":"gallery/真实系/教室4.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室5.png","path":"gallery/真实系/教室5.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室6.png","path":"gallery/真实系/教室6.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/更衣室1.png","path":"gallery/真实系/更衣室1.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新0.png","path":"gallery/真实系/清新0.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/教室7.png","path":"gallery/真实系/教室7.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新1.png","path":"gallery/真实系/清新1.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新2.png","path":"gallery/真实系/清新2.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新4.png","path":"gallery/真实系/清新4.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新3.png","path":"gallery/真实系/清新3.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新5.png","path":"gallery/真实系/清新5.png","modified":1,"renderable":0},{"_id":"source/gallery/真实系/清新6.png","path":"gallery/真实系/清新6.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想1.png","path":"gallery/幻想系/冥想1.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想3.png","path":"gallery/幻想系/冥想3.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想2.png","path":"gallery/幻想系/冥想2.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想4.png","path":"gallery/幻想系/冥想4.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想5.png","path":"gallery/幻想系/冥想5.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想6.png","path":"gallery/幻想系/冥想6.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/冥想7.png","path":"gallery/幻想系/冥想7.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖1.png","path":"gallery/幻想系/山崖1.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖2.png","path":"gallery/幻想系/山崖2.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖3.png","path":"gallery/幻想系/山崖3.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖4.png","path":"gallery/幻想系/山崖4.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖5.png","path":"gallery/幻想系/山崖5.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖6.png","path":"gallery/幻想系/山崖6.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/山崖7.png","path":"gallery/幻想系/山崖7.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/牛仔.png","path":"gallery/幻想系/牛仔.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/教室1.png","path":"gallery/幻想系/教室1.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座1.png","path":"gallery/幻想系/王座1.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座2.png","path":"gallery/幻想系/王座2.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座3.png","path":"gallery/幻想系/王座3.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座4.png","path":"gallery/幻想系/王座4.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座6.png","path":"gallery/幻想系/王座6.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座5.png","path":"gallery/幻想系/王座5.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座8.png","path":"gallery/幻想系/王座8.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/王座7.png","path":"gallery/幻想系/王座7.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/风雪2.png","path":"gallery/幻想系/风雪2.png","modified":1,"renderable":0},{"_id":"source/gallery/幻想系/风雪1.png","path":"gallery/幻想系/风雪1.png","modified":1,"renderable":0}],"Cache":[{"_id":"source/CNAME","hash":"a051280bc125011304bf1247b7d1f192b8159386","modified":1695718598809},{"_id":"source/_data/link.yml","hash":"c86ae47d0fd74453d0b2eba379d0824bd8fb2304","modified":1696741303608},{"_id":"source/_posts/hello-world.md","hash":"af20c11e08473018b20f23ecbce5c525f1ee44a0","modified":1696676007690},{"_id":"source/_posts/AI绘画.md","hash":"21fcfc1f13b29eeb242f1575d278f7d3f7e688d7","modified":1697551294826},{"_id":"source/_posts/双足机器人.md","hash":"2de52a93b27a9bee8c63a068c8f494d8fbd8a05a","modified":1698839576551},{"_id":"source/_posts/FDS.md","hash":"c52aa2751ecb170b72fb6886730c5e1928ab5b86","modified":1696557107451},{"_id":"source/_posts/Read Me.md","hash":"566b10d7c3e247e4ecd9380094e84e9ec7e8f674","modified":1695816280477},{"_id":"source/_posts/工程原理.md","hash":"335ca9b5393fa7d65974b5725cf34161d15a6175","modified":1696557091854},{"_id":"source/_posts/电力系统稳态分析.md","hash":"74160d31f8acc429be6f37e8def43df478aa104c","modified":1699080599152},{"_id":"source/_posts/大二上答案.md","hash":"70af69b61c834c6496b76eae908d72dc788839fe","modified":1695825721766},{"_id":"source/_posts/理.md","hash":"d339b76928facf5f82197bbbe28e5790739dfa81","modified":1695815490386},{"_id":"source/_posts/微机原理（DSP）.md","hash":"8f4be966250c3f748a56be351c633d6c5959cce3","modified":1698897041100},{"_id":"source/categories/index.md","hash":"15f34f1f88e5c731e09d41c6855a3df40b0d062a","modified":1695652733990},{"_id":"source/_posts/电气学院大二下课程汇总.md","hash":"653ec3c2833c9fe4d9a98776e520feb87769a153","modified":1695729619048},{"_id":"source/_posts/电机学.md","hash":"fae379cfacf9b3d1c1450b4d408af328fb2b8cc4","modified":1697786893947},{"_id":"source/image/dog.jpg","hash":"06accaa11a1fb1471a086ccae0c46fa94fb2845a","modified":1629633765964},{"_id":"source/image/image2.png","hash":"c59affae7eedfc9df66562535c3fcaf16d7ca99d","modified":1696259353841},{"_id":"source/image/image.png","hash":"d4b6817f7a1fb28a937bb7cfca560038b0c8a33d","modified":1696258234444},{"_id":"source/artitalk/index.md","hash":"3218567f4902f0a7b046bcaf060611bdeae742b8","modified":1695813369702},{"_id":"source/image/image4.png","hash":"12cbbb23d2b5ada7ead79ba87de89abeb44e6d8b","modified":1696260633006},{"_id":"source/image/tmpjp_dhaa1.png","hash":"6e2810f5add38cd6e6a6de055499e8301b7ecdde","modified":1696234993932},{"_id":"source/image/wyVe7uLQ_400x400.jpg","hash":"919f0c904b204f8eb48f4449c8314f8a14a2d43f","modified":1696741292429},{"_id":"source/image/双足01.png","hash":"bf0b1900d5b026fa6134b9c347a10759bc1793dd","modified":1697349636127},{"_id":"source/image/微信图片_20231002133105.png","hash":"e07650c8911df5f4bb91c01a4d2f7906ca1daa44","modified":1696224666472},{"_id":"source/image/电机学02.png","hash":"72213980f1d73abef73aae8fdad2567604b69d1e","modified":1696691840716},{"_id":"source/image/电机学06.png","hash":"00fb1e933ea094183b5a9ad9d7bc6ad509c4da62","modified":1697786464781},{"_id":"source/image/稳态02.png","hash":"014a09a31e1cb2caf08312d0c84a3679be90a900","modified":1696928559977},{"_id":"source/image/稳态01.png","hash":"7f01690fae51c17662988d27e42679c33d0add62","modified":1696928442383},{"_id":"source/image/稳态03.png","hash":"31fa2c5dc4f9be7dbb63adc76da97c5d7ba5a69d","modified":1696933083571},{"_id":"source/image/稳态05.png","hash":"c2c6afcd9bde7c59889b97b1c2fac3d83cc95a58","modified":1696933830080},{"_id":"source/image/稳态07.png","hash":"de8aca74fa0ccffd5a0f53e2670dea4a06dbadda","modified":1699068473635},{"_id":"source/image/稳态11.png","hash":"beff9e3aae63d3dbca701be7f1a25c7268748278","modified":1699079536266},{"_id":"source/image/稳态06.png","hash":"6bac9ce1ec291a5e0c1d9b123632128a73c05144","modified":1696935984758},{"_id":"source/image/稳态08.png","hash":"f455a0fcd686237bb4128594acae87c16d3a3cc7","modified":1699069741242},{"_id":"source/link/index.md","hash":"2b3f48403b465f6d30db89be6f414accd6e12822","modified":1695652746935},{"_id":"source/image/稳态09.png","hash":"1c9d46cbca6a75556e1b4f067a44d8c4d309299b","modified":1699071740754},{"_id":"source/tags/index.md","hash":"51705c587eddc100a30a1c5650e55da7345391bb","modified":1695706036936},{"_id":"source/gallery/index.md","hash":"b35ba6f7349205233538e2a4f76fdce389d3c32d","modified":1696858170964},{"_id":"source/gallery/new/index.md","hash":"352fa0f87f1018a0d5d226412548c23c007ed01d","modified":1695809548472},{"_id":"source/gallery/二次元/index.md","hash":"94d562ea44fbf8d47873ce40253f343e3ba1dd6b","modified":1697530166513},{"_id":"source/gallery/八重神子/index.md","hash":"f9ec8abcfd8b77e14a5a068bfada44f549443782","modified":1696676288372},{"_id":"source/gallery/真实系/index.md","hash":"f6b8c8cbebcb8bf4e904898cbbef68751f74ced6","modified":1697555655404},{"_id":"source/gallery/幻想系/index.md","hash":"21c7bc14f57a193856e7e680e9ff6484888d25a0","modified":1697555140406},{"_id":"source/image/apple.jpg","hash":"de6ca3952913df483ff8c7bf0183645ab62d3cdd","modified":1687434560766},{"_id":"source/image/微信图片_20231002125925.png","hash":"4a0eccd99cf35f3faaae5a2b23a38c2f0ee0108f","modified":1696222767483},{"_id":"source/image/微信图片_20231002153828.png","hash":"251dca52fb1d4ddfec3c8e027647aabdffa966f2","modified":1696232322015},{"_id":"source/image/稳态04.png","hash":"b780124826c4affb677e464c2492ea1b1641e107","modified":1696933142480},{"_id":"source/image/稳态10.png","hash":"2682bc225cdb6417becf662cacc4d4edcfceb367","modified":1699078897042},{"_id":"source/image/微信图片_20231002123148.png","hash":"f5886883b2d0f93f91e29cfc3051822e1b267723","modified":1696221120578},{"_id":"source/image/电机学05.png","hash":"d24306ba6363353d600f1a9300fbfbdadd5c0f67","modified":1696737944247},{"_id":"source/gallery/new/微信图片_20230926180017.jpg","hash":"748630359182e3d62d8e52e9992f713cd7f511ce","modified":1695722449265},{"_id":"source/gallery/new/微信图片_20230926180016.jpg","hash":"ae4c8ebae1241a755048ba17a244ebef6b0c4110","modified":1695722449263},{"_id":"source/gallery/new/微信图片_20230926180018.jpg","hash":"6b474ed7d9b4b1692d35b708d6f3219389a33678","modified":1695722449267},{"_id":"source/gallery/new/微信图片_20230926180020.jpg","hash":"030d3d622cbbc4efa6f7f821b1c332ae5668033b","modified":1695722449273},{"_id":"source/image/image3.png","hash":"02a9757722a4b8fd610e220f9c4da5d4e2faba13","modified":1696260004405},{"_id":"source/image/s2.png","hash":"1fffd9731767b4698ec316658500701b5c9b24bc","modified":1696234912787},{"_id":"source/gallery/new/微信图片_202309261800181.jpg","hash":"c5ab90b5409be4c22d2963f94509885f86dc4506","modified":1695722449269},{"_id":"source/image/SE.png","hash":"3c7772943af98a2c462bc872d2d360e09b2d3a27","modified":1696259997684},{"_id":"source/image/微信图片_20231003143640.png","hash":"4c11b00e2637e867ae7262e8d27f7b514e1da3ef","modified":1696315009232},{"_id":"source/gallery/new/微信图片_20230926180015.jpg","hash":"a6b9e4eacfe50776cbf14f0c60377338ddae0c4f","modified":1695722449215},{"_id":"source/gallery/new/微信图片_202309261800151.jpg","hash":"bb93a8112844f00678e9dc9f9caa323d57cc51c0","modified":1695722449261},{"_id":"source/gallery/new/微信图片_20230926180019.jpg","hash":"1778694313815a9aba3b114297c5c99ad3676afe","modified":1695722449271},{"_id":"source/image/after.png","hash":"5470c121fc439fe3414ac1fdd4858c52323c2600","modified":1696218320311},{"_id":"source/gallery/new/微信图片_20230926180021.jpg","hash":"df327663ad4ccb894e8d3d8878057ff1de0c88e0","modified":1695722449276},{"_id":"source/image/before.png","hash":"81ce2a90e259a6fff701ff617f5909e51dcc8470","modified":1696218287881},{"_id":"source/image/home.png","hash":"1ee83a73396fd9282fba229659920a135ea31951","modified":1696258211238},{"_id":"source/image/电机学01.png","hash":"888d68d6a60369115775faa8727dc6470b74b3e5","modified":1696737401717},{"_id":"source/image/电机学03.png","hash":"d9c5c66ec49cf6f7e93349aa73561bc245d3fa37","modified":1696692957321},{"_id":"source/myfile/信号.pdf","hash":"cda6b86ff24b44d2f5afe98453011530062b7df5","modified":1685012428565},{"_id":"source/myfile/工程电磁场与波.pdf","hash":"ab3d994c2e26cbd4010e781819c86fad5439b8e6","modified":1686801756022},{"_id":"themes/butterfly/README_CN.md","hash":"f6ae7f38d016135340fd25c5fd1be65452b6773d","modified":1695552733080},{"_id":"themes/butterfly/LICENSE","hash":"c8bc7df08db9dd3b39c2c2259a163a36cf2f6808","modified":1695552733079},{"_id":"themes/butterfly/package.json","hash":"a6a032654a36408d7b7274bc9cfe21f89946d29c","modified":1695552733107},{"_id":"themes/butterfly/README.md","hash":"5ca893c78f8971f512da55c785b8ccbfa9d37cfc","modified":1695552733080},{"_id":"themes/butterfly/_config.yml","hash":"b684e7cc1100d22a59a13ec48d09b1eef0610e34","modified":1695552733080},{"_id":"themes/butterfly/plugins.yml","hash":"6d68dab3b79accb1bceb4710c8aaab724a45053a","modified":1695552733107},{"_id":"themes/butterfly/languages/zh-CN.yml","hash":"cc8672dc0c2762b694f689cbeb6e34810f1c194e","modified":1695552733081},{"_id":"themes/butterfly/languages/zh-TW.yml","hash":"145ec301db185c8a06de1f34a77ca391e1d2729b","modified":1695552733082},{"_id":"themes/butterfly/languages/default.yml","hash":"d444cbb5c5456aaf27f3fb1b4308634689c7bb53","modified":1695552733081},{"_id":"themes/butterfly/languages/en.yml","hash":"4957fd976c99745d3aa24000a85b2955e8d1cf81","modified":1695552733081},{"_id":"themes/butterfly/layout/archive.pug","hash":"115fa5ee8864e5c97549eff91a17c66101d724ab","modified":1695552733082},{"_id":"themes/butterfly/layout/category.pug","hash":"bf979aec88d78b644fc5d31518f8679ad7625792","modified":1695552733082},{"_id":"themes/butterfly/layout/index.pug","hash":"648dcbdb3d145a710de81c909e000e8664d2ac9c","modified":1695552733106},{"_id":"themes/butterfly/layout/tag.pug","hash":"4bb5efc6dabdf1626685bf6771aaa1467155ae86","modified":1695552733107},{"_id":"themes/butterfly/layout/page.pug","hash":"bf2d6c6d2d156777b55292e51be02b0b3acf0af8","modified":1695552733106},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/config.yml","hash":"d9ff4bad9c9664e12729c7a531169a05698a3fd1","modified":1695552733078},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/feature_request.yml","hash":"6e0f9470b18bd37d4891282ac73d61676b040e8c","modified":1695552733079},{"_id":"themes/butterfly/.github/workflows/publish.yml","hash":"e320b40c051bae1549156cd5ea4a51383cf78598","modified":1695552733079},{"_id":"themes/butterfly/scripts/events/404.js","hash":"f1d1c378356b776e9b2a8411e6dca88dc8c3245c","modified":1695552733108},{"_id":"themes/butterfly/scripts/events/cdn.js","hash":"7864ba45716c51aef8d8b04fd4bc212e0008ce3b","modified":1695552733108},{"_id":"themes/butterfly/scripts/events/init.js","hash":"ce68e84a9ccfcf91100befbaa9afc392a0cd93bb","modified":1695552733109},{"_id":"themes/butterfly/scripts/events/stylus.js","hash":"218add7e9b39b6fb6e69921abb9e44891a6cc3ce","modified":1695552733109},{"_id":"themes/butterfly/scripts/events/comment.js","hash":"95479790234c291b064d031577d71214cdd1d820","modified":1695552733108},{"_id":"themes/butterfly/scripts/events/welcome.js","hash":"f59e10305fef59ea3e62a7395106c0927582879d","modified":1695552733109},{"_id":"themes/butterfly/scripts/filters/post_lazyload.js","hash":"5fd6c9659262dc8f61d87866d0417fd534292c88","modified":1695552733109},{"_id":"themes/butterfly/.github/workflows/stale.yml","hash":"4040c76547e270aaf184e9b219a44ca41bbb1b9f","modified":1695552733079},{"_id":"themes/butterfly/scripts/filters/random_cover.js","hash":"a3323fcb11cfd3f3e21230737341beb5d76b40aa","modified":1695552733109},{"_id":"themes/butterfly/scripts/helpers/aside_archives.js","hash":"4f712b4ea383b59a3122683db1d54c04a79ccc5d","modified":1695552733110},{"_id":"themes/butterfly/scripts/helpers/aside_categories.js","hash":"376e1884ea764404c38b1e73b16de0358ece519e","modified":1695552733110},{"_id":"themes/butterfly/scripts/helpers/findArchiveLength.js","hash":"8ff03b35385f9162e1eb54dceb5fa7f781306caf","modified":1695552733110},{"_id":"themes/butterfly/scripts/helpers/inject_head_js.js","hash":"7222102f9919f8e961d4f1688425845fb7775ada","modified":1695552733110},{"_id":"themes/butterfly/scripts/tag/button.js","hash":"44cca49ddc76921bb455465ef912cab46c993cef","modified":1695552733112},{"_id":"themes/butterfly/.github/ISSUE_TEMPLATE/bug_report.yml","hash":"92683cb785a29e5a73701b33dba73d3afac268c3","modified":1695552733078},{"_id":"themes/butterfly/scripts/helpers/page.js","hash":"6005907245dd74b153f03afdccfae1abb66bb482","modified":1695552733111},{"_id":"themes/butterfly/scripts/helpers/related_post.js","hash":"76343ac8422c9c8539082e77eda6ffee4b877eb2","modified":1695552733111},{"_id":"themes/butterfly/scripts/tag/flink.js","hash":"3ba7677969ff01fab06fc6713455ddc6861f0024","modified":1695552733112},{"_id":"themes/butterfly/scripts/tag/gallery.js","hash":"b8d95ac1851c37f1dce4b1dd4a1d3ffdff501a03","modified":1695552733112},{"_id":"themes/butterfly/scripts/tag/hide.js","hash":"e01a3967e5884881bab858b11635457df412de80","modified":1695552733112},{"_id":"themes/butterfly/scripts/tag/inlineImg.js","hash":"7641adb0d520c5ff29dd36fc1fb8617c52ecc9fb","modified":1695552733112},{"_id":"themes/butterfly/scripts/tag/label.js","hash":"551f1b8edc973bd8afc5cce2eae546f002fa84c3","modified":1695552733113},{"_id":"themes/butterfly/scripts/tag/mermaid.js","hash":"fd683ccc090db3122d77c7ee73e8d35dc8735ee3","modified":1695552733113},{"_id":"themes/butterfly/scripts/tag/score.js","hash":"fc5a80707cf522378be3cf8638ef78bccc88c510","modified":1695552733113},{"_id":"themes/butterfly/scripts/tag/note.js","hash":"56a5d41487d74654b75305c5325167a116495900","modified":1695552733113},{"_id":"themes/butterfly/scripts/tag/tabs.js","hash":"08ea00791bd4738952234cb5d8360e119df6f875","modified":1695552733113},{"_id":"themes/butterfly/scripts/tag/timeline.js","hash":"4c7056d3cd56f10bd209d2ba4d3cc2027aad1440","modified":1695552733113},{"_id":"themes/butterfly/layout/post.pug","hash":"fdbb508b5e6dec30fb8753c5a7fdd494410c4fc0","modified":1695552733107},{"_id":"themes/butterfly/source/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1695552733127},{"_id":"themes/butterfly/layout/includes/404.pug","hash":"aace9ddff469de4226e47a52ede1c81e66d66d5c","modified":1695552733082},{"_id":"themes/butterfly/layout/includes/additional-js.pug","hash":"50eea5aa78cdeb6c72dd22f0aeabc407cc0f712e","modified":1695552733083},{"_id":"themes/butterfly/source/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1695552733127},{"_id":"themes/butterfly/layout/includes/footer.pug","hash":"8715948b93e7508b84d913be1969b28c6b067b9b","modified":1695552733083},{"_id":"themes/butterfly/source/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1695552733127},{"_id":"themes/butterfly/source/js/main.js","hash":"4fd1cd7a02dedcb686caf6149c35fd8e1fbcafc9","modified":1695552733128},{"_id":"themes/butterfly/source/js/utils.js","hash":"13b2b02118a0f4ec2e9e0bb1b90f5b1a30a70f44","modified":1695552733129},{"_id":"themes/butterfly/source/js/tw_cn.js","hash":"a102a6cacf7b20183946a54580867a964f3674c4","modified":1695552733129},{"_id":"themes/butterfly/layout/includes/head.pug","hash":"b50b0afdc41c54279587410c3f82c8cb3c5ff46d","modified":1695552733083},{"_id":"themes/butterfly/layout/includes/layout.pug","hash":"96df62e34661d8ca4a45267286127479e5178a79","modified":1695552733086},{"_id":"themes/butterfly/layout/includes/sidebar.pug","hash":"9277fead4c29dbe93976f078adaa26e8f9253da3","modified":1695552733090},{"_id":"themes/butterfly/source/css/index.styl","hash":"b13d96924a5534bff91d75566b196ac87b4fac22","modified":1695552733125},{"_id":"themes/butterfly/layout/includes/pagination.pug","hash":"c5c58714fb3cb839653e5c32e6094784c8662935","modified":1695552733089},{"_id":"themes/butterfly/layout/includes/rightside.pug","hash":"c55f05400eb27ab051f47396ec8d4249ce6f71ec","modified":1695552733089},{"_id":"themes/butterfly/layout/includes/head/Open_Graph.pug","hash":"c8dbdfe6145a0bc6f7691c9551be8169a2698f0a","modified":1695552733083},{"_id":"themes/butterfly/source/css/var.styl","hash":"e1e37a2e932163886789b72624c7348545003f1d","modified":1695552733125},{"_id":"themes/butterfly/source/js/search/local-search.js","hash":"40e76d6da538cb3c1ef6b79ffc0adfa64fe6b8ba","modified":1695552733128},{"_id":"themes/butterfly/layout/includes/head/analytics.pug","hash":"c7666a10448edd93f5ace37296051b7670495f1b","modified":1695552733084},{"_id":"themes/butterfly/layout/includes/head/noscript.pug","hash":"72efaa09ff60843567458bd54152e06f0cb2757e","modified":1695552733084},{"_id":"themes/butterfly/layout/includes/head/google_adsense.pug","hash":"f29123e603cbbcc6ce277d4e8f600ba67498077c","modified":1695552733084},{"_id":"themes/butterfly/layout/includes/head/site_verification.pug","hash":"5168caadc4cf541f5d6676a9c5e8ae47a948f9ad","modified":1695552733085},{"_id":"themes/butterfly/source/js/search/algolia.js","hash":"bbe930d8425bdaee2a5ba3cade42b617cee42934","modified":1695552733128},{"_id":"themes/butterfly/layout/includes/head/config.pug","hash":"f5207840c96df6b26ad227433babca4f8c362624","modified":1695552733084},{"_id":"themes/butterfly/layout/includes/head/config_site.pug","hash":"bd5dd5452e28a4fe94c3241a758ec6f4fdb7a149","modified":1695552733084},{"_id":"themes/butterfly/layout/includes/head/pwa.pug","hash":"6dc2c9b85df9ab4f5b554305339fd80a90a6cf43","modified":1695552733085},{"_id":"themes/butterfly/layout/includes/head/preconnect.pug","hash":"fd55f0e09827ef40c53c48d184a553464aac3e03","modified":1695552733085},{"_id":"themes/butterfly/layout/includes/header/social.pug","hash":"7a641b5dd45b970e1dafd1433eb32ea149e55cf2","modified":1695552733086},{"_id":"themes/butterfly/layout/includes/header/index.pug","hash":"1bef867c799ba158c5417272fb137539951aa120","modified":1695552733085},{"_id":"themes/butterfly/layout/includes/header/menu_item.pug","hash":"ca8bcd90ad9467819330bfe7c02b76322754bccf","modified":1695552733085},{"_id":"themes/butterfly/layout/includes/header/nav.pug","hash":"962ee70a35e60a13c31eea47d16b9f98069fe417","modified":1695552733086},{"_id":"themes/butterfly/layout/includes/loading/index.pug","hash":"00ae419f527d8225a2dc03d4f977cec737248423","modified":1695552733087},{"_id":"themes/butterfly/layout/includes/page/categories.pug","hash":"5276a8d2835e05bd535fedc9f593a0ce8c3e8437","modified":1695552733088},{"_id":"themes/butterfly/layout/includes/loading/pace.pug","hash":"a6fde4835d6460ce7baf792fd5e1977fad73db25","modified":1695552733087},{"_id":"themes/butterfly/layout/includes/page/default-page.pug","hash":"e9459f122af7b733398578f9f0f8ab3c5e12a217","modified":1695552733088},{"_id":"themes/butterfly/layout/includes/loading/fullpage-loading.pug","hash":"766baca6ddce49d1724a02312387b292ff2d0bdc","modified":1695552733087},{"_id":"themes/butterfly/layout/includes/page/tags.pug","hash":"12be059c536490af216a397e8f2a7abbf6d4610e","modified":1695552733089},{"_id":"themes/butterfly/layout/includes/header/post-info.pug","hash":"50b4b9c7f6a4771910be4198639cfcfc6d7b8925","modified":1695552733086},{"_id":"themes/butterfly/layout/includes/mixins/article-sort.pug","hash":"9155f01d4c644a2e19b2b13b2d3c6d5e34dd0abf","modified":1695552733087},{"_id":"themes/butterfly/layout/includes/post/reward.pug","hash":"594626a18b7efbf771232855dfbce143fb244bc6","modified":1695552733089},{"_id":"themes/butterfly/layout/includes/mixins/post-ui.pug","hash":"3adb731465a4ab14529277fd7867889e0800ad16","modified":1695552733088},{"_id":"themes/butterfly/layout/includes/page/flink.pug","hash":"e37681bc9c169d4220f26ecda2b3d5c02b6b9a0f","modified":1695552733088},{"_id":"themes/butterfly/layout/includes/post/post-copyright.pug","hash":"cc1f7ae8a7ce5445277215821092e712ec8cc296","modified":1695552733089},{"_id":"themes/butterfly/source/css/_mode/darkmode.styl","hash":"9066a62e442affce3a923a06a90486bf9d364e0e","modified":1695552733120},{"_id":"themes/butterfly/source/css/_global/index.styl","hash":"9893656128c347d1c09c90784627c84c979b326f","modified":1695552733114},{"_id":"themes/butterfly/source/css/_highlight/theme.styl","hash":"3c178608406c31d768af355ef1d7326da37cc75f","modified":1695552733116},{"_id":"themes/butterfly/source/css/_mode/readmode.styl","hash":"4c86c10f8ec0c8fb60b400a5a2f14699d3155be4","modified":1695552733120},{"_id":"themes/butterfly/source/css/_highlight/highlight.styl","hash":"e43017dbc73e0ce95dcfcb9dfb4fcce0c1715dd4","modified":1695552733115},{"_id":"themes/butterfly/layout/includes/widget/card_ad.pug","hash":"a8312b527493dabbadbb1280760168d3bc909a3b","modified":1695552733104},{"_id":"themes/butterfly/layout/includes/widget/card_announcement.pug","hash":"21e019bdc3b1e796bb00976bb29af2d51f873624","modified":1695552733104},{"_id":"themes/butterfly/source/css/_global/function.styl","hash":"431b4a252443e224872bd6b4f6aa76ed1679a82c","modified":1695552733114},{"_id":"themes/butterfly/layout/includes/widget/card_archives.pug","hash":"73d33b6930e7944187a4b3403daf25d27077a2dd","modified":1695552733104},{"_id":"themes/butterfly/layout/includes/widget/card_categories.pug","hash":"66e383b4ef374951eb87dd1bf4cdb7a667193fb5","modified":1695552733105},{"_id":"themes/butterfly/layout/includes/widget/card_bottom_self.pug","hash":"1dba77d250eeebfb6e293d504352c7e9ea31980b","modified":1695552733104},{"_id":"themes/butterfly/layout/includes/widget/card_post_toc.pug","hash":"59d979702fa21d960443824198614d63aaf69662","modified":1695552733105},{"_id":"themes/butterfly/layout/includes/widget/card_newest_comment.pug","hash":"8e22f53886a57a68286970d8af8b4c950fd4a1d7","modified":1695552733105},{"_id":"themes/butterfly/layout/includes/widget/card_tags.pug","hash":"842b772a387b576550fa127030e1c2e9bf65716d","modified":1695552733105},{"_id":"themes/butterfly/layout/includes/widget/card_top_self.pug","hash":"7b5ae404a1205546b7de4be42291315cf918f2b3","modified":1695552733106},{"_id":"themes/butterfly/layout/includes/widget/card_author.pug","hash":"ab037bf5794638bd30da4cf7cf106e5d03b5f696","modified":1695552733104},{"_id":"themes/butterfly/layout/includes/widget/card_recent_post.pug","hash":"bb842d2aa6469d65bf06af1372f0a19a9e4ef44c","modified":1695552733105},{"_id":"themes/butterfly/layout/includes/widget/card_webinfo.pug","hash":"12185713f9ca08984fc74e3b69d8cd6828d23da8","modified":1695552733106},{"_id":"themes/butterfly/source/css/_page/categories.styl","hash":"68bc8cbea25dbb3cdc170f09f9b43ce130547717","modified":1695552733121},{"_id":"themes/butterfly/source/css/_page/404.styl","hash":"a7223a8fcc4fa7b81e552c9a2554be7df9de312e","modified":1695552733120},{"_id":"themes/butterfly/source/css/_page/common.styl","hash":"df7a51fcabbadab5aa31770e3202a47c9599bbb7","modified":1695552733121},{"_id":"themes/butterfly/source/css/_page/homepage.styl","hash":"57d333ef47bfb8fd22da31f600527c9d91e8e322","modified":1695552733121},{"_id":"themes/butterfly/source/css/_page/archives.styl","hash":"5dd1ba997741d02894ff846eda939ad8051c0bb2","modified":1695552733120},{"_id":"themes/butterfly/layout/includes/widget/index.pug","hash":"ba94ceb40d7c81372a76103d958dcc2cc6a84f00","modified":1695552733106},{"_id":"themes/butterfly/source/css/_page/tags.styl","hash":"9e35f91847773b915c74a78b8aa66c7bdb950ad0","modified":1695552733121},{"_id":"themes/butterfly/source/css/_layout/footer.styl","hash":"5e27f7842af82ff7498d4b59787ce9ca90fa9e6f","modified":1695552733117},{"_id":"themes/butterfly/source/css/_layout/chat.styl","hash":"792a04d36de32f230ca3256ad87a90fe8392f333","modified":1695552733117},{"_id":"themes/butterfly/source/css/_page/flink.styl","hash":"ecc2b2e28c179eb9406fc2c6f00e141078249cdd","modified":1695552733121},{"_id":"themes/butterfly/source/css/_layout/aside.styl","hash":"3969f599e8657adf8c3ce287d83f5d0a23f276a9","modified":1695552733117},{"_id":"themes/butterfly/source/css/_layout/comments.styl","hash":"0abe05309a186682772a94e5e759b63f8028e61a","modified":1695552733117},{"_id":"themes/butterfly/source/css/_layout/head.styl","hash":"20303c0dad28e5c5335ce2fa6582f1fafae5b628","modified":1695552733117},{"_id":"themes/butterfly/source/css/_layout/loading.styl","hash":"f0b01bbf321c2c24fdccaee367dd9fd448031a72","modified":1695552733118},{"_id":"themes/butterfly/source/css/_layout/pagination.styl","hash":"bd099f7d3adef4b7edd24c0a25a07415b156e587","modified":1695552733118},{"_id":"themes/butterfly/source/css/_layout/relatedposts.styl","hash":"6dcf19c0933c8828a439f801b0f4b256447dec07","modified":1695552733118},{"_id":"themes/butterfly/source/css/_layout/post.styl","hash":"fc029f5e00d7904c0878efd20dd4e09fc55e1d03","modified":1695552733118},{"_id":"themes/butterfly/source/css/_layout/reward.styl","hash":"b5ba2c3339ad406ce611d12d3f8cc84f864fbc03","modified":1695552733119},{"_id":"themes/butterfly/source/css/_search/algolia.styl","hash":"37db99299af380e9111dce2a78a5049b301b13e0","modified":1695552733122},{"_id":"themes/butterfly/source/css/_layout/rightside.styl","hash":"824b2b2d2ee72583b9e009c0bb13e29e806534cc","modified":1695552733119},{"_id":"themes/butterfly/source/css/_search/index.styl","hash":"0b23010154e19f37f0c4af0110f9f834d6d41a13","modified":1695552733122},{"_id":"themes/butterfly/source/css/_layout/third-party.styl","hash":"15ea7564b2e3bf46bc91fb6e49c94d057b37caaf","modified":1695552733119},{"_id":"themes/butterfly/source/css/_search/local-search.styl","hash":"cf90ea339fbb7f345212319627fcd68964024e40","modified":1695552733122},{"_id":"themes/butterfly/layout/includes/third-party/aplayer.pug","hash":"e939344fd389aeb11864ee697d5fd9b036d8325f","modified":1695552733090},{"_id":"themes/butterfly/source/css/_layout/sidebar.styl","hash":"7e9b65dcae7ac54e0183bc841fea0f4bd4d78e5c","modified":1695552733119},{"_id":"themes/butterfly/layout/includes/third-party/pangu.pug","hash":"f0898509da70388b5c532f19e762756d74080200","modified":1695552733101},{"_id":"themes/butterfly/layout/includes/third-party/prismjs.pug","hash":"08979afbfecb4476a5ae8e360947b92624d285b8","modified":1695552733101},{"_id":"themes/butterfly/source/css/_third-party/normalize.min.css","hash":"8549829fb7d3c21cd9e119884962e8c463a4a267","modified":1695552733125},{"_id":"themes/butterfly/layout/includes/third-party/effect.pug","hash":"4e37535c63149708ecbedb262336014524ad8723","modified":1695552733097},{"_id":"themes/butterfly/source/css/_tags/button.styl","hash":"62da1de0d5b8453fcecbfacddb16985265638ba5","modified":1695552733122},{"_id":"themes/butterfly/source/css/_tags/hexo.styl","hash":"985b183db7b7bfd8f9bdb60494549fb7f850348b","modified":1695552733123},{"_id":"themes/butterfly/layout/includes/third-party/pjax.pug","hash":"82bb447a5d045980789cf3f9de9d49cc32011b13","modified":1695552733101},{"_id":"themes/butterfly/layout/includes/third-party/subtitle.pug","hash":"dfb5e16a7e7106bb20b2ac2d0df1251d0fc79609","modified":1695552733103},{"_id":"themes/butterfly/source/css/_tags/inlineImg.styl","hash":"5a873d01fabebcf7ddf7a6b1c2e2e5e2714097f4","modified":1695552733123},{"_id":"themes/butterfly/source/css/_tags/label.styl","hash":"2f83bd145b870d80d4b18b0ac603235229a5694e","modified":1695552733123},{"_id":"themes/butterfly/source/css/_tags/hide.styl","hash":"b7cf7753479fcf2fe07287ffdb0e568adbba4c18","modified":1695552733123},{"_id":"themes/butterfly/source/css/_tags/gallery.styl","hash":"7c463ba25b3b54f0f46dfd75971d792816e942a8","modified":1695552733123},{"_id":"themes/butterfly/source/css/_tags/tabs.styl","hash":"ec81ea316c82b83d6aee31e52f248d329559d5d3","modified":1695552733124},{"_id":"themes/butterfly/source/css/_tags/note.styl","hash":"331c89ecfb79fab68466944a43e9e3d0ff49c646","modified":1695552733124},{"_id":"themes/butterfly/source/css/_highlight/prismjs/index.styl","hash":"01ff9e77eb1bd454bec65a6ff5972c8e219bc708","modified":1695552733116},{"_id":"themes/butterfly/source/css/_tags/timeline.styl","hash":"07ea7134db7a66c87658116f089fb1a2a6906563","modified":1695552733124},{"_id":"themes/butterfly/source/css/_highlight/highlight/diff.styl","hash":"6e77f1ca0cfb0db6b028f5c0238780e66d344f3d","modified":1695552733115},{"_id":"themes/butterfly/source/css/_highlight/highlight/index.styl","hash":"fc702a4614d0562a381907b083f71ba63d301d86","modified":1695552733115},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/index.pug","hash":"58f37823f6cd9a194fb50f7ca7c2233e49939034","modified":1695552733090},{"_id":"themes/butterfly/layout/includes/third-party/abcjs/abcjs.pug","hash":"0010c7a10d265c4329f0fd4db85b4a9ea7ba06b5","modified":1695552733090},{"_id":"themes/butterfly/source/css/_highlight/prismjs/diff.styl","hash":"1309292f1c8c53d96cd7333507b106bcc24ca8fc","modified":1695552733116},{"_id":"themes/butterfly/source/css/_highlight/prismjs/line-number.styl","hash":"0b8aea62d1550113e1fcc237fae1b03743190208","modified":1695552733116},{"_id":"themes/butterfly/layout/includes/third-party/chat/index.pug","hash":"1157118db9f5d7c0c5a0fc7c346f6e934ca00d52","modified":1695552733093},{"_id":"themes/butterfly/layout/includes/third-party/chat/crisp.pug","hash":"09d2ab2570b67e6f09244a898ccab5567cb82ace","modified":1695552733093},{"_id":"themes/butterfly/layout/includes/third-party/chat/chatra.pug","hash":"08a85e52fc800d3562df869e5e2613313e76fce6","modified":1695552733093},{"_id":"themes/butterfly/layout/includes/third-party/chat/daovoice.pug","hash":"0d960849d5b05d27ec87627b983ca35f2411b9e8","modified":1695552733093},{"_id":"themes/butterfly/layout/includes/third-party/chat/messenger.pug","hash":"799da8f3015e6fe440681b21644bcb3810a5518c","modified":1695552733094},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/disqus.pug","hash":"f4d21dcbc3b00eed9b1f604e132c4c6811a0a059","modified":1695552733091},{"_id":"themes/butterfly/layout/includes/third-party/chat/tidio.pug","hash":"6d40b521eec4136f6742c548a4445ed593470b1b","modified":1695552733094},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/index.pug","hash":"846cabae287ae31b3bbfac3da022475713dd5ecc","modified":1695552733091},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/remark42.pug","hash":"716dc463fe4ef5112e7018ed60804125fdfa5cad","modified":1695552733092},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/fb.pug","hash":"4b98145d6584d586cabf033493282afc72ae816a","modified":1695552733091},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/artalk.pug","hash":"19b5cfa1f77781246e02967cefe149f19170e45f","modified":1695552733091},{"_id":"themes/butterfly/layout/includes/third-party/math/index.pug","hash":"2afa4c21dd19890f47fb568cfb0d90efb676a253","modified":1695552733098},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/valine.pug","hash":"cd4fc9c5a61608a5dedf645c1295430a1623040f","modified":1695552733092},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/waline.pug","hash":"c42bbce31fcd8846cf3360f4c383dec9368daeba","modified":1695552733092},{"_id":"themes/butterfly/layout/includes/third-party/math/katex.pug","hash":"f0d3eddd2bed68e5517274b3530bfe0fa5057d8e","modified":1695552733098},{"_id":"themes/butterfly/layout/includes/third-party/card-post-count/twikoo.pug","hash":"7e233f872aea6fd6beccdc9efd86b1bf9ec9f12d","modified":1695552733092},{"_id":"themes/butterfly/layout/includes/third-party/comments/artalk.pug","hash":"b47698e153c73cb29286b19bec5ddd920cb7ffba","modified":1695552733094},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqus.pug","hash":"f8b73bc63ec1b45d86aa3891d8c81ef4d5980943","modified":1695552733094},{"_id":"themes/butterfly/layout/includes/third-party/math/mermaid.pug","hash":"da94966a9650ef3e4c69f3ee93758b30fa42cb78","modified":1695552733098},{"_id":"themes/butterfly/layout/includes/third-party/math/mathjax.pug","hash":"bb944185f4bb9f9a9b9d70ee215f66ccd6d4c6cf","modified":1695552733098},{"_id":"themes/butterfly/layout/includes/third-party/comments/disqusjs.pug","hash":"b19b123df682b23491b17dcca386d79062cd8f6e","modified":1695552733095},{"_id":"themes/butterfly/layout/includes/third-party/comments/facebook_comments.pug","hash":"1a20b11fa0e6b1943e9b4d81e197a25ca36af66d","modified":1695552733095},{"_id":"themes/butterfly/layout/includes/third-party/comments/giscus.pug","hash":"a56edeb1ce2f1b1fb0e866a30543f274b9f7d69e","modified":1695552733095},{"_id":"themes/butterfly/layout/includes/third-party/comments/index.pug","hash":"c5e131d65a7ad30f3cb98ac3b94cd2f6a94c22e9","modified":1695552733096},{"_id":"themes/butterfly/layout/includes/third-party/comments/js.pug","hash":"3abbaaa4ea575c45b3cebffd40bad1acc6ffce84","modified":1695552733096},{"_id":"themes/butterfly/layout/includes/third-party/comments/gitalk.pug","hash":"7c7fbe27d82becc9ee509765f1195c69f5864a0b","modified":1695552733095},{"_id":"themes/butterfly/layout/includes/third-party/comments/twikoo.pug","hash":"4bb4cf58e219dfb8787273c931b1ea978b2ab88f","modified":1695552733097},{"_id":"themes/butterfly/layout/includes/third-party/comments/utterances.pug","hash":"386a2b371644c2682560733617561ba6e6bf9ab2","modified":1695552733097},{"_id":"themes/butterfly/layout/includes/third-party/comments/remark42.pug","hash":"f618457d62ef35d78a31e7fb1e375a462f64b228","modified":1695552733096},{"_id":"themes/butterfly/layout/includes/third-party/comments/livere.pug","hash":"589f8503f264d4fda971c8daf2028f45c4f2867b","modified":1695552733096},{"_id":"themes/butterfly/layout/includes/third-party/comments/valine.pug","hash":"cba55cbbd0962bf84b8956195e686b0e158ed247","modified":1695552733097},{"_id":"themes/butterfly/layout/includes/third-party/comments/waline.pug","hash":"6b0d28671afd5ed286a714f25ba16256a2e7d880","modified":1695552733097},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/github-issues.pug","hash":"4f8bd22c5c32d5430cbe08ab4e861b6f8b86f820","modified":1695552733099},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/artalk.pug","hash":"cfcfaed3a52fa47fff4cc65a053a2f025fb3b7b6","modified":1695552733099},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/index.pug","hash":"f8b65460c399973090c1fb7ab81e3708c252e7cc","modified":1695552733099},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/remark42.pug","hash":"4fb998a05e51ef2302775945883307ee3039a544","modified":1695552733100},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/disqus-comment.pug","hash":"a6be932d1f64c6190f5d03b5b77fba09fa0fd6b8","modified":1695552733099},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/twikoo-comment.pug","hash":"edd4ebf76a79fb74cfae03a286fab90f74324dbd","modified":1695552733100},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/valine.pug","hash":"ce4ab79c85df9f77395269eb01e9a023d7f96376","modified":1695552733100},{"_id":"themes/butterfly/layout/includes/third-party/search/docsearch.pug","hash":"ba04174d977da988a1d49c06641262c413352346","modified":1695552733102},{"_id":"themes/butterfly/layout/includes/third-party/newest-comments/waline.pug","hash":"2f3af113713563e34b10bbe998cc15008f81c85a","modified":1695552733101},{"_id":"themes/butterfly/layout/includes/third-party/search/algolia.pug","hash":"90338ac4cd114d324fe1caaaeea8be9ca05d6a46","modified":1695552733102},{"_id":"themes/butterfly/layout/includes/third-party/share/add-this.pug","hash":"8b4034e53ca5bf85097f681a6e76a53ce685c205","modified":1695552733103},{"_id":"themes/butterfly/layout/includes/third-party/search/local-search.pug","hash":"4b9c35375e0eb9cf99ad246d5ca838eca64a635d","modified":1695552733102},{"_id":"themes/butterfly/layout/includes/third-party/search/index.pug","hash":"3adcf28a8d205ea3ee19828eda0e668702fac07a","modified":1695552733102},{"_id":"themes/butterfly/layout/includes/third-party/share/share-js.pug","hash":"8106bd031586f075a994956ee4438eb13be25d7b","modified":1695552733103},{"_id":"themes/butterfly/layout/includes/third-party/share/addtoany.pug","hash":"1f02a26730e5f36cc2dfec7ff4d5c93a099ed5ba","modified":1695552733103},{"_id":"themes/butterfly/layout/includes/third-party/share/index.pug","hash":"4898a09d8e67fb358ffd74b3a1f0014f555dd856","modified":1695552733103},{"_id":"source/image/电机学04.png","hash":"7e694002a1f19205df285bdf144d120f0188590c","modified":1696736188750},{"_id":"source/myfile/《电路与电子技术II》模电 期末复习.pdf","hash":"8c81b66120a5596734b8f13c72d0aa9f78e71f6d","modified":1679643057510},{"_id":"source/image/Back_Li.jpg","hash":"8b1de30ced741d862fcb467962be74a26daedbc9","modified":1695710126104},{"_id":"source/myfile/张健复习PPT.pdf","hash":"7cd474cfff6ccf9cf44daab883793833e7ae65f1","modified":1687510370943},{"_id":"source/gallery/二次元/泳衣2.png","hash":"4a8d46b04b85e2195bda38d8d4173132e92cae45","modified":1697094877617},{"_id":"source/gallery/真实系/更衣室1.png","hash":"e4372966e543dc27f41588245a3a98cb74313a2a","modified":1696592882394},{"_id":"source/gallery/真实系/清新0.png","hash":"7f253ecc45d3df99430a1577a79f21e7fc6e1c1b","modified":1697197848262},{"_id":"source/image/s1.png","hash":"994536c1ed71263d1a81fd9e207bc64b7239f866","modified":1696225483792},{"_id":"source/image/风雪1.png","hash":"ee7d6e954c798bfbc61916377308f4c0ff51b922","modified":1696591051125},{"_id":"source/gallery/二次元/嘉然1.png","hash":"9fa7ed542ba3ba7b23e3e0c9beb3e6d6e126fc5d","modified":1696472509303},{"_id":"source/gallery/二次元/嘉然4.png","hash":"143fa46e7ad3cc326bbe6733c627a6da3d56ed57","modified":1696472812076},{"_id":"source/gallery/二次元/嘉然3.png","hash":"c280f0f2b5d6a2b1793fa17ce86e85a2cdebfff0","modified":1696472699262},{"_id":"source/gallery/二次元/机甲5.png","hash":"c2811810dd9fbc646e520515a9fb37dcb6196fae","modified":1697091896098},{"_id":"source/gallery/幻想系/山崖2.png","hash":"cf7a36a788bafb157fdadf7dd9900455d0e90298","modified":1696733418529},{"_id":"source/gallery/幻想系/风雪1.png","hash":"ee7d6e954c798bfbc61916377308f4c0ff51b922","modified":1696591051125},{"_id":"source/image/八重神子立牌.png","hash":"18b0c4cdb8fe04a1dc31d179342b9b7b706487c9","modified":1696483666562},{"_id":"source/image/农夫山泉_DreamLike.png","hash":"cc0233e5b2d776fdcb0a6d1aa382fc9953e5903d","modified":1696389352762},{"_id":"source/gallery/二次元/嘉然2.png","hash":"2125936b3d8281d7e1eee432627bfa0e8532a088","modified":1696472476417},{"_id":"source/gallery/二次元/机甲6.png","hash":"76ddc17992fd4e1ed01a73db179e25459fd3b955","modified":1697091463060},{"_id":"source/gallery/二次元/泳衣1.png","hash":"9127654af751f029439c0a7d2f7ef6e129b84d51","modified":1697095747860},{"_id":"source/gallery/八重神子/八重神子02.png","hash":"643ddf10fbde3d232db5e3c20a36f6f9e641e26b","modified":1696481389793},{"_id":"source/gallery/八重神子/八重神子立牌.png","hash":"18b0c4cdb8fe04a1dc31d179342b9b7b706487c9","modified":1696483666562},{"_id":"source/gallery/真实系/排球1.png","hash":"c23c22d8d4728634cc0c9dc7c6eb6c9cb35f096e","modified":1696679299568},{"_id":"source/gallery/真实系/排球2.png","hash":"d90666fd4f208fa874556382330bcb35bf85ea27","modified":1696679782960},{"_id":"source/gallery/真实系/排球3.png","hash":"6aa55e00b6e7112cc5d048725c03561c9315294d","modified":1696682126845},{"_id":"source/gallery/真实系/排球4.png","hash":"2764eb2c0f86e51ab75b3e801e4eac158f2aa571","modified":1696681232069},{"_id":"source/gallery/真实系/排球5.png","hash":"b5b5f0968e1f0822f509fbd47cf6643063fb2d29","modified":1696682061392},{"_id":"source/gallery/真实系/排球8.png","hash":"559e1985dcb5bd953f6eb2a2c09636c90ab58a65","modified":1696682361913},{"_id":"source/gallery/真实系/清新1.png","hash":"f6818a389a3132f83d2a0aa19a4c6e8e964eea98","modified":1697198286051},{"_id":"source/image/乌篷船4.png","hash":"6396c15d63ec5132b043ab61173360b8b3a5fd5f","modified":1696608648467},{"_id":"source/image/农夫山泉_NED2.png","hash":"5306bd8f8e264f8365e7c3764dbdf9e3ce4b5c31","modified":1696387089051},{"_id":"source/image/农夫山泉_LF.png","hash":"b288129637880548a0c00aecb97bbdaa1ff61802","modified":1696389921011},{"_id":"source/myfile/公式附录（考试）.pdf","hash":"79754958d995ebbdf1a6868ae6ef1dd15440b898","modified":1687504444999},{"_id":"source/gallery/二次元/机甲3.png","hash":"24b9562335d3a2d2a8b00da8b45f80912a593a0b","modified":1697092313765},{"_id":"source/gallery/二次元/泳衣4.png","hash":"0c2033dbbcc98169d70f69231abdb635b8bd9e45","modified":1697095949692},{"_id":"source/gallery/八重神子/八重神子.png","hash":"a2e7fec2bc8ac8a3f1ca9246aefd79b52969ba8f","modified":1696481772287},{"_id":"source/gallery/八重神子/八重神子1.png","hash":"dd52c630edce6baf578bb2b29ebba3eedbf3f4b0","modified":1696481512391},{"_id":"source/gallery/八重神子/八重神子03.png","hash":"010c426210380d8a4cf6827caa14b2eb62f5491d","modified":1696481711121},{"_id":"source/gallery/八重神子/八重神子3.png","hash":"5d372b2a751a9c5fba58ea499ef64427150c6b71","modified":1696482152725},{"_id":"source/gallery/真实系/乌篷船1.png","hash":"660077afaccf31fc29661d2e937e418bcc515d4e","modified":1696608145431},{"_id":"source/gallery/真实系/乌篷船5.png","hash":"272dd5699d617ff563aacd460f3bf7710d94c17d","modified":1696608466614},{"_id":"source/gallery/真实系/乌篷船4.png","hash":"6396c15d63ec5132b043ab61173360b8b3a5fd5f","modified":1696608648467},{"_id":"source/gallery/真实系/乌篷船7.png","hash":"019557ce0a535191ed761f0f7530ae2607f0b474","modified":1696608844819},{"_id":"source/gallery/真实系/排球9.png","hash":"dd44f16cc91d7bf63c3504d76729d2826308dd67","modified":1696683770427},{"_id":"source/gallery/真实系/清新5.png","hash":"896d506825b4d0fe563f17381a4732bbd5621484","modified":1697197701930},{"_id":"source/gallery/幻想系/风雪2.png","hash":"bc66b48a6f766935475e994369d52f70ff81f6e5","modified":1696590779934},{"_id":"source/image/农夫山泉1.png","hash":"98709c6ea54175fadeebb5cc83a7aa294b2a6be3","modified":1696386492019},{"_id":"source/image/农夫山泉_Deliberate.png","hash":"dd8b83e84945c41f74efe3d958d643eb8d65b604","modified":1696388333380},{"_id":"source/image/农夫山泉_NED.png","hash":"b5afa8d9c841c5d042140494ab07bc7f11fed667","modified":1696387193646},{"_id":"source/image/农夫山泉_深渊橘.png","hash":"858d439f6b262cfe1e05857d5439a6160be199b4","modified":1696390347026},{"_id":"source/gallery/二次元/机甲2.png","hash":"204fb9a80d2f8adc496ad048e805c83e54622e40","modified":1697092464851},{"_id":"source/gallery/二次元/机甲1.png","hash":"9ae4b4097fcdf3606f0574e646195e7165535e86","modified":1697092680712},{"_id":"source/gallery/八重神子/八重神子01.png","hash":"5ff6af4357ab57ca6d823e27aa06fdedff7d84c2","modified":1696481335689},{"_id":"source/gallery/八重神子/八重神子_真人1.png","hash":"6d00af68154d9ab9625156bc015fdefb6382fe93","modified":1696482545577},{"_id":"source/gallery/八重神子/八重神子真人版2.png","hash":"af256ff39aa0dacc346a9e8274b1fcf51eb0a300","modified":1696482668595},{"_id":"source/gallery/真实系/乌篷船6.png","hash":"0cebcfbe3e4f5db1f47fe374c7c22f862f94f220","modified":1696607949543},{"_id":"source/gallery/真实系/乌篷船2.png","hash":"e54707b852edd80b257d16b2b90f6b9db3535b4b","modified":1696608074492},{"_id":"source/gallery/真实系/排球6.png","hash":"ed9a784ccea2a9eb3bc55aab11d3f4b1d0eb7489","modified":1696683569772},{"_id":"source/gallery/真实系/排球7.png","hash":"a42e1a260ec11b2c28adc485ba290aaa9e28bb68","modified":1696682725117},{"_id":"source/gallery/真实系/清新2.png","hash":"4580042a7652d36997157ba1d8250d5f9b8cba5b","modified":1697196570319},{"_id":"source/gallery/真实系/清新3.png","hash":"2a21852d0358bc61c0e632526fa0d8ceff18c727","modified":1697196765002},{"_id":"source/gallery/真实系/清新6.png","hash":"f30a5f57f0bb52951d8c00a25a1d3dd54097095a","modified":1697199311555},{"_id":"source/gallery/幻想系/山崖1.png","hash":"a5e20328d66604ff5de9f09829c3d6f7d8e42432","modified":1696731978144},{"_id":"source/gallery/幻想系/山崖5.png","hash":"8f8f30e68650235fd7a867058d888c8bae1594ba","modified":1696734332449},{"_id":"source/gallery/幻想系/山崖7.png","hash":"1f96c85b2daa5dbf8b007444cdf0a40eb2e626c1","modified":1696734765431},{"_id":"source/gallery/幻想系/山崖6.png","hash":"d35e2d1f14d59b767b086ca270b4ae5a41661597","modified":1696734578180},{"_id":"source/image/SDU.png","hash":"9116386373f14205d93d9a36e5808ad96c662264","modified":1696334473392},{"_id":"source/image/canny1.png","hash":"07ba1fe0c904535922c44f5fd1790aa634ba4e56","modified":1696259182498},{"_id":"source/image/农夫山泉2.png","hash":"28624493c96721878bf416e6a2c050bb7cf4ddd8","modified":1696386905917},{"_id":"source/image/农夫山泉_国风.png","hash":"ddd3b90d344f04ec63b21e1f1b44f94f624196dd","modified":1696387637050},{"_id":"source/gallery/二次元/机甲4.png","hash":"caf27f819c0dc6848d573c25f62dfa167007c8e7","modified":1697092286397},{"_id":"source/gallery/真实系/乌篷船3.png","hash":"c86604f85bc2cc13713f4c78a52047e99aae4e6e","modified":1696607807427},{"_id":"source/gallery/真实系/清新4.png","hash":"5f66986ca8f4f7a157472bb24d5b4fd33dd868fc","modified":1697196996862},{"_id":"source/gallery/幻想系/冥想1.png","hash":"5ed21c218f5d36e29f3cd98d3de22d15c01b0e2b","modified":1696586883596},{"_id":"source/gallery/幻想系/冥想2.png","hash":"6a05d46f208d971ea4dcc10f8a3aae6e9857f9ef","modified":1696588540181},{"_id":"source/gallery/幻想系/冥想4.png","hash":"6c90c97c06a34896d0fb194d156d5bd592e4db11","modified":1696588997696},{"_id":"source/gallery/幻想系/冥想6.png","hash":"8bc0c6f8b2433462ab08193ae3f38b55aede7ab5","modified":1696586929640},{"_id":"source/gallery/幻想系/冥想5.png","hash":"82d302944d6f4667c8c06690b323476c1642a842","modified":1696587010116},{"_id":"source/gallery/幻想系/山崖4.png","hash":"bc22fe0ddb3bff9b24ebab524491108695d17a21","modified":1696734260083},{"_id":"source/gallery/幻想系/牛仔.png","hash":"22d8ebc9682ab446b792fdac9752a31acf39d33b","modified":1696475498251},{"_id":"source/image/Jiaran1.png","hash":"a9e94aa750d9338f3b85f4f94f2bb7ba12869e4b","modified":1696337863300},{"_id":"source/gallery/真实系/教室3.png","hash":"aa00bb2b358ebbdb49e3d4d3aba1f3e7460bba8f","modified":1697552678987},{"_id":"source/gallery/真实系/教室6.png","hash":"63d6ede2276608d43cf69b7e10b864b45b1a9fcd","modified":1697555332663},{"_id":"source/gallery/幻想系/冥想3.png","hash":"1792eebd0460da0d1c097bc1c948b4b662aff2c4","modified":1696586800076},{"_id":"source/gallery/幻想系/冥想7.png","hash":"3d4a5bc03c1df134027e7fab2181a8f0a7926d98","modified":1696587101391},{"_id":"source/gallery/幻想系/山崖3.png","hash":"be4636b5c787eebe1c897bcbd35016d929fad6c7","modified":1696733966147},{"_id":"source/image/cyb.png","hash":"bf55031ee92ae84a89c0857fe8f63111450781bb","modified":1696260712567},{"_id":"source/myfile/人工智能与物联网CheatSheet.pdf","hash":"ebce936a6675bf1465d9c2e410cb532b798d4dd6","modified":1687834573917},{"_id":"source/gallery/二次元/泳衣3.png","hash":"d9aecd793381fb9bc277fffc3bb1714ae76ce7f1","modified":1697095874871},{"_id":"source/gallery/真实系/教室2.png","hash":"5a3e0c0997bc1650320c8055d1f12ca4268d78f3","modified":1697552794786},{"_id":"source/gallery/真实系/教室7.png","hash":"038543245401a58ea5d983de6ab25c3902099703","modified":1697555573044},{"_id":"source/gallery/幻想系/教室1.png","hash":"2eb7f15b09984d536cdf710277d9cb41a02b7c70","modified":1697553391711},{"_id":"source/gallery/真实系/教室4.png","hash":"26b620c78a131fac5dc58a5774134a6bc7c82f0f","modified":1697554113433},{"_id":"source/gallery/幻想系/王座3.png","hash":"52db697e779ca6a09dd0b95abc0b01d1117c6d5a","modified":1697459284546},{"_id":"source/image/jiaran2.png","hash":"b91bfe61940594a41270ff9024c7ff5d4ab383a2","modified":1696338741135},{"_id":"source/image/top3.jpg","hash":"7cdd440b291d801280ca01d4db310ff36b996f11","modified":1683793223311},{"_id":"source/gallery/new/top3.jpg","hash":"7cdd440b291d801280ca01d4db310ff36b996f11","modified":1683793223311},{"_id":"source/gallery/真实系/教室5.png","hash":"ebfc1c042309f8040088005ac7a83159b28e4f19","modified":1697554479093},{"_id":"source/gallery/幻想系/王座5.png","hash":"8774f1efc4f9aa583960f07bd33fde6ece013644","modified":1697460875702},{"_id":"source/gallery/二次元/剑冢2.png","hash":"d62afbe35598c0fceeb3ccb233474a5eff9832bf","modified":1696855269785},{"_id":"source/gallery/幻想系/王座2.png","hash":"fe956661df1f7535f6d80165a2939df6e5061eec","modified":1697457880845},{"_id":"source/gallery/二次元/剑冢3.png","hash":"fd54c4b0073e8db2698032d451eb8bca77347eef","modified":1696856414443},{"_id":"source/gallery/二次元/剑冢1.png","hash":"efc7e64d0ed4172737d8020749e89478c3bb0af1","modified":1696856183731},{"_id":"source/gallery/幻想系/王座1.png","hash":"520571dedfc780e28abd673f8e45baf72f43778f","modified":1697456937103},{"_id":"source/gallery/幻想系/王座4.png","hash":"59089fa32f402678e6b526b8c96eac2a85724f33","modified":1697459481162},{"_id":"source/gallery/幻想系/王座6.png","hash":"27ee10ccf2e98010058d556dbc9b2c4d85fe8c12","modified":1697464488457},{"_id":"source/gallery/幻想系/王座7.png","hash":"b997ca39208155dc54a93b8c0660e47a72afa152","modified":1697464302306},{"_id":"source/gallery/幻想系/王座8.png","hash":"0c551bd32d6d53f4d86d97671e1cf2c17dc12d68","modified":1697464639472},{"_id":"source/image/top.jpeg","hash":"8894ee4187c3e2932b4d0de6b6bb31f9d09c602c","modified":1625295831008},{"_id":"source/gallery/new/top.jpeg","hash":"8894ee4187c3e2932b4d0de6b6bb31f9d09c602c","modified":1625295831008},{"_id":"source/gallery/二次元/剑冢5.png","hash":"52adce98fb3b87c39493005885f492c5841de1c3","modified":1696857969598},{"_id":"source/image/back.png","hash":"127bc82842debc91c10d1235d0cf62a19eea0491","modified":1695654808862},{"_id":"source/image/剑冢4.png","hash":"6b2fdf7e6f7ad2f1505536b6e4f5b8fb97521ae7","modified":1696857214087},{"_id":"source/gallery/二次元/剑冢4.png","hash":"6b2fdf7e6f7ad2f1505536b6e4f5b8fb97521ae7","modified":1696857214087},{"_id":"source/image/微信图片_20231002160402.png","hash":"835c6fa2aaea3ae94952feaf6b763cd136976f89","modified":1696233844587},{"_id":"source/myfile/电路与电子技术(2)笔记.pdf","hash":"372469918e46762c4927d5da5919e98ea5ffa6aa","modified":1686561808844},{"_id":"source/myfile/FDS.pdf","hash":"773603b5f34cd2ceb576da58dccd59ab09534144","modified":1683690711060},{"_id":"source/image/top2.png","hash":"87ff9013125c622756967d6d471ec259ba064caf","modified":1625295837760},{"_id":"source/gallery/new/top2.png","hash":"87ff9013125c622756967d6d471ec259ba064caf","modified":1625295837760},{"_id":"source/myfile/《模拟电子技术基础》童诗白  第四版.pdf","hash":"134fa930c55f39df52a77adebb06b68382d94a08","modified":1679643054467},{"_id":"public/search.xml","hash":"a61223913e898c69f6303c5a6456ffb31e5fb17e","modified":1699080665833},{"_id":"public/categories/index.html","hash":"b2b129daa1b0a1e265e313a2af9ee8f2f37f67bd","modified":1699080665833},{"_id":"public/artitalk/index.html","hash":"15b93d617cac419fd273ed954cb98c780ff22349","modified":1699080665833},{"_id":"public/gallery/index.html","hash":"0e30192c4c484437c0ee8fc582dc5527dd236b39","modified":1699080665833},{"_id":"public/link/index.html","hash":"53f3cf316b529921dea13acb020dfffd920fb56c","modified":1699080665833},{"_id":"public/tags/index.html","hash":"ff9e2395bba6d837adeb4a68b2e51e88c58ba4ab","modified":1699080665833},{"_id":"public/gallery/new/index.html","hash":"48a52913d0d63e1aed7915f990f9226544cb6bff","modified":1699080665833},{"_id":"public/gallery/八重神子/index.html","hash":"6d44df1416c99106f799bd73193d63e236e0f7e6","modified":1699080665833},{"_id":"public/gallery/真实系/index.html","hash":"a9a194285308e9173deb178a9e446392f4e73e50","modified":1699080665833},{"_id":"public/gallery/幻想系/index.html","hash":"c774a2fb82bbd8a76cafb8bb972a71e422cafaa8","modified":1699080665833},{"_id":"public/gallery/二次元/index.html","hash":"6e0d9a073ef91c1f6bab1c8202812081815c4566","modified":1699080665833},{"_id":"public/2023/10/10/电力系统稳态分析/index.html","hash":"207213db7c404e40108063923245a3cb4d94519e","modified":1699080665833},{"_id":"public/2023/10/07/电机学/index.html","hash":"a257a7e51cece9c025a26f1860f15f50ef481434","modified":1699080665833},{"_id":"public/2023/10/06/双足机器人/index.html","hash":"b0f6410254695005c938d6789f63d892b93ca71a","modified":1699080665833},{"_id":"public/2023/10/02/AI绘画/index.html","hash":"5d55e79c847b46c7e0dd03046f21dc7443940534","modified":1699080665833},{"_id":"public/2023/09/28/微机原理（DSP）/index.html","hash":"59f51439b6164763cd46c8a4849bdbc28962bfdd","modified":1699080665833},{"_id":"public/2023/09/27/大二上答案/index.html","hash":"e51efbe93125a88444d78fa5f59a6c1fd51fa805","modified":1699080665833},{"_id":"public/2023/09/27/Read Me/index.html","hash":"e6db86da3011510e49754084c7ab03b3fa986796","modified":1699080665833},{"_id":"public/2023/09/26/工程原理/index.html","hash":"bbb5b77c289417a53442366751c9211727e87b37","modified":1699080665833},{"_id":"public/2023/09/26/FDS/index.html","hash":"20fa97db4adcdb145dc089a197c89aa7d37509a9","modified":1699080665833},{"_id":"public/2023/09/26/电气学院大二下课程汇总/index.html","hash":"cfc7f7eb7000bca75dd8daf45453609fa03fdfd3","modified":1699080665833},{"_id":"public/2023/09/26/理/index.html","hash":"9287afdc2a96484204a3d8814b663860c3ac3e6c","modified":1699080665833},{"_id":"public/2023/09/24/hello-world/index.html","hash":"30f824e750908d30296e0ecc58008b968683bebd","modified":1699080665833},{"_id":"public/archives/index.html","hash":"5a22dcb858836f57c0089f9cef80512ca01ffe0a","modified":1699080665833},{"_id":"public/archives/page/2/index.html","hash":"2bf6f854a27d45a017eba9165797a4f258973267","modified":1699080665833},{"_id":"public/archives/2023/index.html","hash":"1ba860f5c0231b78caab3efb3e175d68ad8ed3b8","modified":1699080665833},{"_id":"public/archives/2023/page/2/index.html","hash":"711c0b780a4177ab3d5bc3d8d4dd465b15818eef","modified":1699080665833},{"_id":"public/archives/2023/09/index.html","hash":"2d3b543c63030ace053ec6e745e4caec20362ea6","modified":1699080665833},{"_id":"public/archives/2023/10/index.html","hash":"54f4dd40fa7bd39a4315f860b3b9b9e4a42377c9","modified":1699080665833},{"_id":"public/categories/软件教程/index.html","hash":"93f41e1db6a26bb3d51b4ea6689cca07907f1cb3","modified":1699080665833},{"_id":"public/categories/课程/index.html","hash":"d360a350dec11b117146550f5fdcd54c9a997385","modified":1699080665833},{"_id":"public/index.html","hash":"b1f16a05e4e664f33be05deb64240c0e1c995738","modified":1699080665833},{"_id":"public/categories/Hexo/index.html","hash":"314ab5570c5f59ea430cefc09a3abf762829197a","modified":1699080665833},{"_id":"public/categories/随笔/index.html","hash":"25b63150c4cee562e58fb7458ccae6a73b1b31fb","modified":1699080665833},{"_id":"public/page/2/index.html","hash":"07c8eb46c734e72b4587ed763956c3183fcafa94","modified":1699080665833},{"_id":"public/tags/AI绘画/index.html","hash":"be1ddffff6a93b52d6a67b9c27a8fa5602b64e9b","modified":1699080665833},{"_id":"public/tags/教程/index.html","hash":"7f7948fbf5bd48b820c40dccc58e449c311dc692","modified":1699080665833},{"_id":"public/tags/有趣的东西/index.html","hash":"65c7dab0104d8b9a29c5d1edf6e87e8f1bb3fd17","modified":1699080665833},{"_id":"public/tags/笔记/index.html","hash":"3ad551f2e8ebbdaee979833f0819f068f3362f1f","modified":1699080665833},{"_id":"public/tags/大二/index.html","hash":"08d936b64f2d1dda50d6abe2f4219b69bff37a15","modified":1699080665833},{"_id":"public/tags/ACEE/index.html","hash":"41dd9adb04ca7c88b028f8e62ced24d0527710d6","modified":1699080665833},{"_id":"public/tags/Hexo/index.html","hash":"4617cadf180b3e68886c640ab68cee0a5aad6dae","modified":1699080665833},{"_id":"public/tags/随笔/index.html","hash":"08ba4d8e809453200e690787d5b4c291052a58ef","modified":1699080665833},{"_id":"public/tags/大三/index.html","hash":"017142bdcfb3b2449bfc91d4750e6e63382d2887","modified":1699080665833},{"_id":"public/tags/电气/index.html","hash":"d2559f3bfdb268ef6c685d8fbc91bcb4a68fcd30","modified":1699080665833},{"_id":"public/tags/课程资料/index.html","hash":"2d9b928920304a0f3c1838aacfe7830944e124d4","modified":1699080665833},{"_id":"public/tags/微机/index.html","hash":"65d387fcb3bfa20551c3b182ef71582cd66ced7b","modified":1699080665833},{"_id":"public/tags/电机学/index.html","hash":"f7026b36982fe7cd3cbdde4b167b84ca7fcbda94","modified":1699080665833},{"_id":"public/tags/稳态/index.html","hash":"220fcc264060171cc950d12aa7fc53e7bf5b6c91","modified":1699080665833},{"_id":"public/img/favicon.png","hash":"3cf89864b4f6c9b532522a4d260a2e887971c92d","modified":1699080665833},{"_id":"public/CNAME","hash":"a051280bc125011304bf1247b7d1f192b8159386","modified":1699080665833},{"_id":"public/img/404.jpg","hash":"fb4489bc1d30c93d28f7332158c1c6c1416148de","modified":1699080665833},{"_id":"public/img/friend_404.gif","hash":"8d2d0ebef70a8eb07329f57e645889b0e420fa48","modified":1699080665833},{"_id":"public/image/dog.jpg","hash":"06accaa11a1fb1471a086ccae0c46fa94fb2845a","modified":1699080665833},{"_id":"public/image/image.png","hash":"d4b6817f7a1fb28a937bb7cfca560038b0c8a33d","modified":1699080665833},{"_id":"public/image/image2.png","hash":"c59affae7eedfc9df66562535c3fcaf16d7ca99d","modified":1699080665833},{"_id":"public/image/image4.png","hash":"12cbbb23d2b5ada7ead79ba87de89abeb44e6d8b","modified":1699080665833},{"_id":"public/image/tmpjp_dhaa1.png","hash":"6e2810f5add38cd6e6a6de055499e8301b7ecdde","modified":1699080665833},{"_id":"public/image/wyVe7uLQ_400x400.jpg","hash":"919f0c904b204f8eb48f4449c8314f8a14a2d43f","modified":1699080665833},{"_id":"public/image/双足01.png","hash":"bf0b1900d5b026fa6134b9c347a10759bc1793dd","modified":1699080665833},{"_id":"public/image/微信图片_20231002133105.png","hash":"e07650c8911df5f4bb91c01a4d2f7906ca1daa44","modified":1699080665833},{"_id":"public/image/电机学02.png","hash":"72213980f1d73abef73aae8fdad2567604b69d1e","modified":1699080665833},{"_id":"public/image/电机学06.png","hash":"00fb1e933ea094183b5a9ad9d7bc6ad509c4da62","modified":1699080665833},{"_id":"public/image/稳态02.png","hash":"014a09a31e1cb2caf08312d0c84a3679be90a900","modified":1699080665833},{"_id":"public/image/稳态01.png","hash":"7f01690fae51c17662988d27e42679c33d0add62","modified":1699080665833},{"_id":"public/image/稳态03.png","hash":"31fa2c5dc4f9be7dbb63adc76da97c5d7ba5a69d","modified":1699080665833},{"_id":"public/image/稳态07.png","hash":"de8aca74fa0ccffd5a0f53e2670dea4a06dbadda","modified":1699080665833},{"_id":"public/image/稳态05.png","hash":"c2c6afcd9bde7c59889b97b1c2fac3d83cc95a58","modified":1699080665833},{"_id":"public/image/稳态08.png","hash":"f455a0fcd686237bb4128594acae87c16d3a3cc7","modified":1699080665833},{"_id":"public/image/稳态09.png","hash":"1c9d46cbca6a75556e1b4f067a44d8c4d309299b","modified":1699080665833},{"_id":"public/image/稳态11.png","hash":"beff9e3aae63d3dbca701be7f1a25c7268748278","modified":1699080665833},{"_id":"public/image/稳态06.png","hash":"6bac9ce1ec291a5e0c1d9b123632128a73c05144","modified":1699080665833},{"_id":"public/image/apple.jpg","hash":"de6ca3952913df483ff8c7bf0183645ab62d3cdd","modified":1699080665833},{"_id":"public/assets/js/Meting.min.js","hash":"a0585220b918d78649a7893279e1ec4fb5abe835","modified":1699080665833},{"_id":"public/assets/css/APlayer.min.css","hash":"07372a2ba507388d0fed166d761b1c2c2a659dce","modified":1699080665833},{"_id":"public/assets/js/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1699080665833},{"_id":"public/js/utils.js","hash":"aaaedc207440095da1ffabcad870fc2641befb0e","modified":1699080665833},{"_id":"public/css/var.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1699080665833},{"_id":"public/js/search/algolia.js","hash":"fd86281d4f0f99ce173e49c1a0df3507fe268d37","modified":1699080665833},{"_id":"public/js/search/local-search.js","hash":"8509cbd954ee9e099dcfbbfdafba70893a56e9ae","modified":1699080665833},{"_id":"public/js/main.js","hash":"0227b5bd233a3c66582e0ee820cdb353ce52ece1","modified":1699080665833},{"_id":"public/css/index.css","hash":"76ebf0aa9b9a3ab2c5e467401cc90612dc00717d","modified":1699080665833},{"_id":"public/js/tw_cn.js","hash":"42b106354d72a0ea1fe62587b313a5b7de3cc393","modified":1699080665833},{"_id":"public/image/微信图片_20231002125925.png","hash":"4a0eccd99cf35f3faaae5a2b23a38c2f0ee0108f","modified":1699080665833},{"_id":"public/image/微信图片_20231002153828.png","hash":"251dca52fb1d4ddfec3c8e027647aabdffa966f2","modified":1699080665833},{"_id":"public/image/稳态04.png","hash":"b780124826c4affb677e464c2492ea1b1641e107","modified":1699080665833},{"_id":"public/image/稳态10.png","hash":"2682bc225cdb6417becf662cacc4d4edcfceb367","modified":1699080665833},{"_id":"public/image/微信图片_20231002123148.png","hash":"f5886883b2d0f93f91e29cfc3051822e1b267723","modified":1699080665833},{"_id":"public/image/电机学05.png","hash":"d24306ba6363353d600f1a9300fbfbdadd5c0f67","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180016.jpg","hash":"ae4c8ebae1241a755048ba17a244ebef6b0c4110","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180017.jpg","hash":"748630359182e3d62d8e52e9992f713cd7f511ce","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180018.jpg","hash":"6b474ed7d9b4b1692d35b708d6f3219389a33678","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180020.jpg","hash":"030d3d622cbbc4efa6f7f821b1c332ae5668033b","modified":1699080665833},{"_id":"public/image/image3.png","hash":"02a9757722a4b8fd610e220f9c4da5d4e2faba13","modified":1699080665833},{"_id":"public/image/s2.png","hash":"1fffd9731767b4698ec316658500701b5c9b24bc","modified":1699080665833},{"_id":"public/gallery/new/微信图片_202309261800181.jpg","hash":"c5ab90b5409be4c22d2963f94509885f86dc4506","modified":1699080665833},{"_id":"public/image/SE.png","hash":"3c7772943af98a2c462bc872d2d360e09b2d3a27","modified":1699080665833},{"_id":"public/image/微信图片_20231003143640.png","hash":"4c11b00e2637e867ae7262e8d27f7b514e1da3ef","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180015.jpg","hash":"a6b9e4eacfe50776cbf14f0c60377338ddae0c4f","modified":1699080665833},{"_id":"public/gallery/new/微信图片_202309261800151.jpg","hash":"bb93a8112844f00678e9dc9f9caa323d57cc51c0","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180019.jpg","hash":"1778694313815a9aba3b114297c5c99ad3676afe","modified":1699080665833},{"_id":"public/image/after.png","hash":"5470c121fc439fe3414ac1fdd4858c52323c2600","modified":1699080665833},{"_id":"public/gallery/new/微信图片_20230926180021.jpg","hash":"df327663ad4ccb894e8d3d8878057ff1de0c88e0","modified":1699080665833},{"_id":"public/image/before.png","hash":"81ce2a90e259a6fff701ff617f5909e51dcc8470","modified":1699080665833},{"_id":"public/image/home.png","hash":"1ee83a73396fd9282fba229659920a135ea31951","modified":1699080665833},{"_id":"public/image/电机学01.png","hash":"888d68d6a60369115775faa8727dc6470b74b3e5","modified":1699080665833},{"_id":"public/image/电机学03.png","hash":"d9c5c66ec49cf6f7e93349aa73561bc245d3fa37","modified":1699080665833},{"_id":"public/myfile/信号.pdf","hash":"cda6b86ff24b44d2f5afe98453011530062b7df5","modified":1699080665833},{"_id":"public/myfile/工程电磁场与波.pdf","hash":"ab3d994c2e26cbd4010e781819c86fad5439b8e6","modified":1699080665833},{"_id":"public/image/电机学04.png","hash":"7e694002a1f19205df285bdf144d120f0188590c","modified":1699080665833},{"_id":"public/myfile/《电路与电子技术II》模电 期末复习.pdf","hash":"8c81b66120a5596734b8f13c72d0aa9f78e71f6d","modified":1699080665833},{"_id":"public/image/Back_Li.jpg","hash":"8b1de30ced741d862fcb467962be74a26daedbc9","modified":1699080665833},{"_id":"public/myfile/张健复习PPT.pdf","hash":"7cd474cfff6ccf9cf44daab883793833e7ae65f1","modified":1699080665833},{"_id":"public/gallery/二次元/泳衣2.png","hash":"4a8d46b04b85e2195bda38d8d4173132e92cae45","modified":1699080665833},{"_id":"public/gallery/真实系/清新0.png","hash":"7f253ecc45d3df99430a1577a79f21e7fc6e1c1b","modified":1699080665833},{"_id":"public/gallery/真实系/更衣室1.png","hash":"e4372966e543dc27f41588245a3a98cb74313a2a","modified":1699080665833},{"_id":"public/image/s1.png","hash":"994536c1ed71263d1a81fd9e207bc64b7239f866","modified":1699080665833},{"_id":"public/image/风雪1.png","hash":"ee7d6e954c798bfbc61916377308f4c0ff51b922","modified":1699080665833},{"_id":"public/gallery/二次元/嘉然1.png","hash":"9fa7ed542ba3ba7b23e3e0c9beb3e6d6e126fc5d","modified":1699080665833},{"_id":"public/gallery/二次元/嘉然4.png","hash":"143fa46e7ad3cc326bbe6733c627a6da3d56ed57","modified":1699080665833},{"_id":"public/gallery/二次元/嘉然3.png","hash":"c280f0f2b5d6a2b1793fa17ce86e85a2cdebfff0","modified":1699080665833},{"_id":"public/gallery/二次元/机甲5.png","hash":"c2811810dd9fbc646e520515a9fb37dcb6196fae","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖2.png","hash":"cf7a36a788bafb157fdadf7dd9900455d0e90298","modified":1699080665833},{"_id":"public/gallery/幻想系/风雪1.png","hash":"ee7d6e954c798bfbc61916377308f4c0ff51b922","modified":1699080665833},{"_id":"public/image/八重神子立牌.png","hash":"18b0c4cdb8fe04a1dc31d179342b9b7b706487c9","modified":1699080665833},{"_id":"public/image/农夫山泉_DreamLike.png","hash":"cc0233e5b2d776fdcb0a6d1aa382fc9953e5903d","modified":1699080665833},{"_id":"public/gallery/二次元/嘉然2.png","hash":"2125936b3d8281d7e1eee432627bfa0e8532a088","modified":1699080665833},{"_id":"public/gallery/二次元/机甲6.png","hash":"76ddc17992fd4e1ed01a73db179e25459fd3b955","modified":1699080665833},{"_id":"public/gallery/二次元/泳衣1.png","hash":"9127654af751f029439c0a7d2f7ef6e129b84d51","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子02.png","hash":"643ddf10fbde3d232db5e3c20a36f6f9e641e26b","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子立牌.png","hash":"18b0c4cdb8fe04a1dc31d179342b9b7b706487c9","modified":1699080665833},{"_id":"public/gallery/真实系/排球1.png","hash":"c23c22d8d4728634cc0c9dc7c6eb6c9cb35f096e","modified":1699080665833},{"_id":"public/gallery/真实系/排球4.png","hash":"2764eb2c0f86e51ab75b3e801e4eac158f2aa571","modified":1699080665833},{"_id":"public/gallery/真实系/排球2.png","hash":"d90666fd4f208fa874556382330bcb35bf85ea27","modified":1699080665833},{"_id":"public/gallery/真实系/排球5.png","hash":"b5b5f0968e1f0822f509fbd47cf6643063fb2d29","modified":1699080665833},{"_id":"public/gallery/真实系/排球3.png","hash":"6aa55e00b6e7112cc5d048725c03561c9315294d","modified":1699080665833},{"_id":"public/gallery/真实系/排球8.png","hash":"559e1985dcb5bd953f6eb2a2c09636c90ab58a65","modified":1699080665833},{"_id":"public/gallery/真实系/清新1.png","hash":"f6818a389a3132f83d2a0aa19a4c6e8e964eea98","modified":1699080665833},{"_id":"public/image/乌篷船4.png","hash":"6396c15d63ec5132b043ab61173360b8b3a5fd5f","modified":1699080665833},{"_id":"public/image/农夫山泉_LF.png","hash":"b288129637880548a0c00aecb97bbdaa1ff61802","modified":1699080665833},{"_id":"public/image/农夫山泉_NED2.png","hash":"5306bd8f8e264f8365e7c3764dbdf9e3ce4b5c31","modified":1699080665833},{"_id":"public/myfile/公式附录（考试）.pdf","hash":"79754958d995ebbdf1a6868ae6ef1dd15440b898","modified":1699080665833},{"_id":"public/gallery/二次元/机甲3.png","hash":"24b9562335d3a2d2a8b00da8b45f80912a593a0b","modified":1699080665833},{"_id":"public/gallery/二次元/泳衣4.png","hash":"0c2033dbbcc98169d70f69231abdb635b8bd9e45","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子.png","hash":"a2e7fec2bc8ac8a3f1ca9246aefd79b52969ba8f","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子1.png","hash":"dd52c630edce6baf578bb2b29ebba3eedbf3f4b0","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船1.png","hash":"660077afaccf31fc29661d2e937e418bcc515d4e","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子03.png","hash":"010c426210380d8a4cf6827caa14b2eb62f5491d","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子3.png","hash":"5d372b2a751a9c5fba58ea499ef64427150c6b71","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船4.png","hash":"6396c15d63ec5132b043ab61173360b8b3a5fd5f","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船5.png","hash":"272dd5699d617ff563aacd460f3bf7710d94c17d","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船7.png","hash":"019557ce0a535191ed761f0f7530ae2607f0b474","modified":1699080665833},{"_id":"public/gallery/真实系/排球9.png","hash":"dd44f16cc91d7bf63c3504d76729d2826308dd67","modified":1699080665833},{"_id":"public/gallery/真实系/清新5.png","hash":"896d506825b4d0fe563f17381a4732bbd5621484","modified":1699080665833},{"_id":"public/gallery/幻想系/风雪2.png","hash":"bc66b48a6f766935475e994369d52f70ff81f6e5","modified":1699080665833},{"_id":"public/image/农夫山泉1.png","hash":"98709c6ea54175fadeebb5cc83a7aa294b2a6be3","modified":1699080665833},{"_id":"public/image/农夫山泉_Deliberate.png","hash":"dd8b83e84945c41f74efe3d958d643eb8d65b604","modified":1699080665833},{"_id":"public/image/农夫山泉_NED.png","hash":"b5afa8d9c841c5d042140494ab07bc7f11fed667","modified":1699080665833},{"_id":"public/image/农夫山泉_深渊橘.png","hash":"858d439f6b262cfe1e05857d5439a6160be199b4","modified":1699080665833},{"_id":"public/gallery/二次元/机甲1.png","hash":"9ae4b4097fcdf3606f0574e646195e7165535e86","modified":1699080665833},{"_id":"public/gallery/二次元/机甲2.png","hash":"204fb9a80d2f8adc496ad048e805c83e54622e40","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子01.png","hash":"5ff6af4357ab57ca6d823e27aa06fdedff7d84c2","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子_真人1.png","hash":"6d00af68154d9ab9625156bc015fdefb6382fe93","modified":1699080665833},{"_id":"public/gallery/八重神子/八重神子真人版2.png","hash":"af256ff39aa0dacc346a9e8274b1fcf51eb0a300","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船2.png","hash":"e54707b852edd80b257d16b2b90f6b9db3535b4b","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船6.png","hash":"0cebcfbe3e4f5db1f47fe374c7c22f862f94f220","modified":1699080665833},{"_id":"public/gallery/真实系/排球6.png","hash":"ed9a784ccea2a9eb3bc55aab11d3f4b1d0eb7489","modified":1699080665833},{"_id":"public/gallery/真实系/排球7.png","hash":"a42e1a260ec11b2c28adc485ba290aaa9e28bb68","modified":1699080665833},{"_id":"public/gallery/真实系/清新2.png","hash":"4580042a7652d36997157ba1d8250d5f9b8cba5b","modified":1699080665833},{"_id":"public/gallery/真实系/清新3.png","hash":"2a21852d0358bc61c0e632526fa0d8ceff18c727","modified":1699080665833},{"_id":"public/gallery/真实系/清新6.png","hash":"f30a5f57f0bb52951d8c00a25a1d3dd54097095a","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖1.png","hash":"a5e20328d66604ff5de9f09829c3d6f7d8e42432","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖6.png","hash":"d35e2d1f14d59b767b086ca270b4ae5a41661597","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖5.png","hash":"8f8f30e68650235fd7a867058d888c8bae1594ba","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖7.png","hash":"1f96c85b2daa5dbf8b007444cdf0a40eb2e626c1","modified":1699080665833},{"_id":"public/image/SDU.png","hash":"9116386373f14205d93d9a36e5808ad96c662264","modified":1699080665833},{"_id":"public/image/canny1.png","hash":"07ba1fe0c904535922c44f5fd1790aa634ba4e56","modified":1699080665833},{"_id":"public/image/农夫山泉2.png","hash":"28624493c96721878bf416e6a2c050bb7cf4ddd8","modified":1699080665833},{"_id":"public/image/农夫山泉_国风.png","hash":"ddd3b90d344f04ec63b21e1f1b44f94f624196dd","modified":1699080665833},{"_id":"public/gallery/二次元/机甲4.png","hash":"caf27f819c0dc6848d573c25f62dfa167007c8e7","modified":1699080665833},{"_id":"public/gallery/真实系/乌篷船3.png","hash":"c86604f85bc2cc13713f4c78a52047e99aae4e6e","modified":1699080665833},{"_id":"public/gallery/真实系/清新4.png","hash":"5f66986ca8f4f7a157472bb24d5b4fd33dd868fc","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想1.png","hash":"5ed21c218f5d36e29f3cd98d3de22d15c01b0e2b","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想2.png","hash":"6a05d46f208d971ea4dcc10f8a3aae6e9857f9ef","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想4.png","hash":"6c90c97c06a34896d0fb194d156d5bd592e4db11","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想5.png","hash":"82d302944d6f4667c8c06690b323476c1642a842","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想6.png","hash":"8bc0c6f8b2433462ab08193ae3f38b55aede7ab5","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖4.png","hash":"bc22fe0ddb3bff9b24ebab524491108695d17a21","modified":1699080665833},{"_id":"public/gallery/幻想系/牛仔.png","hash":"22d8ebc9682ab446b792fdac9752a31acf39d33b","modified":1699080665833},{"_id":"public/image/Jiaran1.png","hash":"a9e94aa750d9338f3b85f4f94f2bb7ba12869e4b","modified":1699080665833},{"_id":"public/gallery/真实系/教室3.png","hash":"aa00bb2b358ebbdb49e3d4d3aba1f3e7460bba8f","modified":1699080665833},{"_id":"public/gallery/真实系/教室6.png","hash":"63d6ede2276608d43cf69b7e10b864b45b1a9fcd","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想3.png","hash":"1792eebd0460da0d1c097bc1c948b4b662aff2c4","modified":1699080665833},{"_id":"public/gallery/幻想系/冥想7.png","hash":"3d4a5bc03c1df134027e7fab2181a8f0a7926d98","modified":1699080665833},{"_id":"public/gallery/幻想系/山崖3.png","hash":"be4636b5c787eebe1c897bcbd35016d929fad6c7","modified":1699080665833},{"_id":"public/image/cyb.png","hash":"bf55031ee92ae84a89c0857fe8f63111450781bb","modified":1699080665833},{"_id":"public/myfile/人工智能与物联网CheatSheet.pdf","hash":"ebce936a6675bf1465d9c2e410cb532b798d4dd6","modified":1699080665833},{"_id":"public/gallery/二次元/泳衣3.png","hash":"d9aecd793381fb9bc277fffc3bb1714ae76ce7f1","modified":1699080665833},{"_id":"public/gallery/真实系/教室2.png","hash":"5a3e0c0997bc1650320c8055d1f12ca4268d78f3","modified":1699080665833},{"_id":"public/gallery/真实系/教室7.png","hash":"038543245401a58ea5d983de6ab25c3902099703","modified":1699080665833},{"_id":"public/gallery/幻想系/教室1.png","hash":"2eb7f15b09984d536cdf710277d9cb41a02b7c70","modified":1699080665833},{"_id":"public/gallery/真实系/教室4.png","hash":"26b620c78a131fac5dc58a5774134a6bc7c82f0f","modified":1699080665833},{"_id":"public/gallery/幻想系/王座3.png","hash":"52db697e779ca6a09dd0b95abc0b01d1117c6d5a","modified":1699080665833},{"_id":"public/image/jiaran2.png","hash":"b91bfe61940594a41270ff9024c7ff5d4ab383a2","modified":1699080665833},{"_id":"public/image/top3.jpg","hash":"7cdd440b291d801280ca01d4db310ff36b996f11","modified":1699080665833},{"_id":"public/gallery/new/top3.jpg","hash":"7cdd440b291d801280ca01d4db310ff36b996f11","modified":1699080665833},{"_id":"public/gallery/真实系/教室5.png","hash":"ebfc1c042309f8040088005ac7a83159b28e4f19","modified":1699080665833},{"_id":"public/gallery/幻想系/王座5.png","hash":"8774f1efc4f9aa583960f07bd33fde6ece013644","modified":1699080665833},{"_id":"public/gallery/二次元/剑冢2.png","hash":"d62afbe35598c0fceeb3ccb233474a5eff9832bf","modified":1699080665833},{"_id":"public/gallery/幻想系/王座2.png","hash":"fe956661df1f7535f6d80165a2939df6e5061eec","modified":1699080665833},{"_id":"public/gallery/二次元/剑冢1.png","hash":"efc7e64d0ed4172737d8020749e89478c3bb0af1","modified":1699080665833},{"_id":"public/gallery/二次元/剑冢3.png","hash":"fd54c4b0073e8db2698032d451eb8bca77347eef","modified":1699080665833},{"_id":"public/gallery/幻想系/王座1.png","hash":"520571dedfc780e28abd673f8e45baf72f43778f","modified":1699080665833},{"_id":"public/gallery/幻想系/王座4.png","hash":"59089fa32f402678e6b526b8c96eac2a85724f33","modified":1699080665833},{"_id":"public/gallery/幻想系/王座6.png","hash":"27ee10ccf2e98010058d556dbc9b2c4d85fe8c12","modified":1699080665833},{"_id":"public/gallery/幻想系/王座7.png","hash":"b997ca39208155dc54a93b8c0660e47a72afa152","modified":1699080665833},{"_id":"public/gallery/幻想系/王座8.png","hash":"0c551bd32d6d53f4d86d97671e1cf2c17dc12d68","modified":1699080665833},{"_id":"public/image/top.jpeg","hash":"8894ee4187c3e2932b4d0de6b6bb31f9d09c602c","modified":1699080665833},{"_id":"public/gallery/new/top.jpeg","hash":"8894ee4187c3e2932b4d0de6b6bb31f9d09c602c","modified":1699080665833},{"_id":"public/gallery/二次元/剑冢5.png","hash":"52adce98fb3b87c39493005885f492c5841de1c3","modified":1699080665833},{"_id":"public/image/back.png","hash":"127bc82842debc91c10d1235d0cf62a19eea0491","modified":1699080665833},{"_id":"public/image/剑冢4.png","hash":"6b2fdf7e6f7ad2f1505536b6e4f5b8fb97521ae7","modified":1699080665833},{"_id":"public/gallery/二次元/剑冢4.png","hash":"6b2fdf7e6f7ad2f1505536b6e4f5b8fb97521ae7","modified":1699080665833},{"_id":"public/image/微信图片_20231002160402.png","hash":"835c6fa2aaea3ae94952feaf6b763cd136976f89","modified":1699080665833},{"_id":"public/myfile/电路与电子技术(2)笔记.pdf","hash":"372469918e46762c4927d5da5919e98ea5ffa6aa","modified":1699080665833},{"_id":"public/myfile/FDS.pdf","hash":"773603b5f34cd2ceb576da58dccd59ab09534144","modified":1699080665833},{"_id":"public/image/top2.png","hash":"87ff9013125c622756967d6d471ec259ba064caf","modified":1699080665833},{"_id":"public/gallery/new/top2.png","hash":"87ff9013125c622756967d6d471ec259ba064caf","modified":1699080665833},{"_id":"public/myfile/《模拟电子技术基础》童诗白  第四版.pdf","hash":"134fa930c55f39df52a77adebb06b68382d94a08","modified":1699080665833}],"Category":[{"name":"软件教程","_id":"clojorf0700049kth36gz3kav"},{"name":"课程","_id":"clojorf0b000c9kth0bycfu94"},{"name":"Hexo","_id":"clojorf0d000j9ktha4ad6ug6"},{"name":"随笔","_id":"clojorf0m00239kth8h161duo"}],"Data":[{"_id":"link","data":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}],"Page":[{"title":"分类页","date":"2023-09-23T16:00:00.000Z","type":"categories","top_img":"/image/top3.jpg","_content":"","source":"categories/index.md","raw":"---\ntitle: 分类页\ndate: 2023-09-24\ntype: \"categories\"\ntop_img: /image/top3.jpg\n---\n","updated":"2023-09-25T14:38:53.990Z","path":"categories/index.html","comments":1,"layout":"page","_id":"clojorf0100009kthb1xc5msb","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"\r\n"},{"title":"Artitalk","type":"artitalk","layout":"artitalk","date":"2023-09-26T16:00:00.000Z","_content":"\n","source":"artitalk/index.md","raw":"---\ntitle: Artitalk\ntype: \"artitalk\"\nlayout: \"artitalk\"\ndate: 2023-09-27\n---\n\n","updated":"2023-09-27T11:16:09.702Z","path":"artitalk/index.html","comments":1,"_id":"clojorf0500029kthboob9eqd","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"\r\n"},{"title":"Gallery - 图库","date":"2023-09-25T02:01:40.000Z","type":"gallery","layout":"gallery","top_img":"/image/top3.jpg","_content":"<div class=\"gallery-group-main\">\n{% galleryGroup '画作' '源自Pixiv或其他地方的画师作品' '/gallery/new/' /image/top2.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '幻想系' '偏真实2.5D风的幻想系风格AI绘画' '/gallery/幻想系/' /image/风雪1.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '真实系' '真实系风格的AI绘画作品' '/gallery/真实系/' /image/乌篷船4.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '八重神子' '我不玩原神，室友胁迫我跑的图' '/gallery/八重神子/' /image/八重神子立牌.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '二次元系列' '我焯，二刺猿！' '/gallery/二次元/' /image/剑冢4.png %}\n</div>","source":"gallery/index.md","raw":"---\ntitle: Gallery - 图库\ndate: 2023-09-25 10:01:40\ntype: \"gallery\"\nlayout: \"gallery\"\ntop_img: /image/top3.jpg\n---\n<div class=\"gallery-group-main\">\n{% galleryGroup '画作' '源自Pixiv或其他地方的画师作品' '/gallery/new/' /image/top2.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '幻想系' '偏真实2.5D风的幻想系风格AI绘画' '/gallery/幻想系/' /image/风雪1.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '真实系' '真实系风格的AI绘画作品' '/gallery/真实系/' /image/乌篷船4.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '八重神子' '我不玩原神，室友胁迫我跑的图' '/gallery/八重神子/' /image/八重神子立牌.png %}\n</div>\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '二次元系列' '我焯，二刺猿！' '/gallery/二次元/' /image/剑冢4.png %}\n</div>","updated":"2023-10-09T13:29:30.964Z","path":"gallery/index.html","comments":1,"_id":"clojorf0800069kth3q3h60bq","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/top2.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">画作</div>\n  <p>源自Pixiv或其他地方的画师作品</p>\n  <a href='/gallery/new/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E9%A3%8E%E9%9B%AA1.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">幻想系</div>\n  <p>偏真实2.5D风的幻想系风格AI绘画</p>\n  <a href='/gallery/%E5%B9%BB%E6%83%B3%E7%B3%BB/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E4%B9%8C%E7%AF%B7%E8%88%B94.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">真实系</div>\n  <p>真实系风格的AI绘画作品</p>\n  <a href='/gallery/%E7%9C%9F%E5%AE%9E%E7%B3%BB/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E5%85%AB%E9%87%8D%E7%A5%9E%E5%AD%90%E7%AB%8B%E7%89%8C.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">八重神子</div>\n  <p>我不玩原神，室友胁迫我跑的图</p>\n  <a href='/gallery/%E5%85%AB%E9%87%8D%E7%A5%9E%E5%AD%90/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E5%89%91%E5%86%A24.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">二次元系列</div>\n  <p>我焯，二刺猿！</p>\n  <a href='/gallery/%E4%BA%8C%E6%AC%A1%E5%85%83/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/top2.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">画作</div>\n  <p>源自Pixiv或其他地方的画师作品</p>\n  <a href='/gallery/new/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E9%A3%8E%E9%9B%AA1.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">幻想系</div>\n  <p>偏真实2.5D风的幻想系风格AI绘画</p>\n  <a href='/gallery/%E5%B9%BB%E6%83%B3%E7%B3%BB/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E4%B9%8C%E7%AF%B7%E8%88%B94.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">真实系</div>\n  <p>真实系风格的AI绘画作品</p>\n  <a href='/gallery/%E7%9C%9F%E5%AE%9E%E7%B3%BB/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E5%85%AB%E9%87%8D%E7%A5%9E%E5%AD%90%E7%AB%8B%E7%89%8C.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">八重神子</div>\n  <p>我不玩原神，室友胁迫我跑的图</p>\n  <a href='/gallery/%E5%85%AB%E9%87%8D%E7%A5%9E%E5%AD%90/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/%E5%89%91%E5%86%A24.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">二次元系列</div>\n  <p>我焯，二刺猿！</p>\n  <a href='/gallery/%E4%BA%8C%E6%AC%A1%E5%85%83/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n"},{"title":"友情链接","date":"2023-09-23T16:00:00.000Z","type":"link","top_img":"/image/top3.jpg","_content":"","source":"link/index.md","raw":"---\ntitle: 友情链接\ndate: 2023-09-24\ntype: \"link\"\ntop_img: /image/top3.jpg\n---\n","updated":"2023-09-25T14:39:06.935Z","path":"link/index.html","comments":1,"layout":"page","_id":"clojorf0900089kth52qu8vmi","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"\r\n"},{"title":"标签页","date":"2023-09-23T16:00:00.000Z","type":"tags","orderby":"random","order":1,"top_img":"/image/top3.jpg","_content":"","source":"tags/index.md","raw":"---\ntitle: 标签页\ndate: 2023-09-24\ntype: \"tags\"\norderby: random\norder: 1\ntop_img: /image/top3.jpg\n---","updated":"2023-09-26T05:27:16.936Z","path":"tags/index.html","comments":1,"layout":"page","_id":"clojorf0a000a9kth32lm414a","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"\r\n"},{"title":"波比の图库 - 测试版","date":"2023-09-25T02:04:11.000Z","top_img":"/image/top3.jpg","_content":"\n{% gallery %}\n![](\\gallery\\new\\top.jpeg)\n![](\\gallery\\new\\top2.png)\n![](\\gallery\\new\\top3.jpg)\n\n![](\\gallery\\new\\微信图片_20230926180015.jpg)\n![](\\gallery\\new\\微信图片_20230926180016.jpg)\n![](\\gallery\\new\\微信图片_20230926180017.jpg)\n![](\\gallery\\new\\微信图片_20230926180018.jpg)\n![](\\gallery\\new\\微信图片_20230926180019.jpg)\n![](\\gallery\\new\\微信图片_20230926180020.jpg)\n![](\\gallery\\new\\微信图片_20230926180021.jpg)\n![](\\gallery\\new\\微信图片_202309261800151.jpg)\n![](\\gallery\\new\\微信图片_202309261800181.jpg)\n\n\n{% endgallery %}","source":"gallery/new/index.md","raw":"---\ntitle: 波比の图库 - 测试版\ndate: 2023-09-25 10:04:11\ntop_img: /image/top3.jpg\n---\n\n{% gallery %}\n![](\\gallery\\new\\top.jpeg)\n![](\\gallery\\new\\top2.png)\n![](\\gallery\\new\\top3.jpg)\n\n![](\\gallery\\new\\微信图片_20230926180015.jpg)\n![](\\gallery\\new\\微信图片_20230926180016.jpg)\n![](\\gallery\\new\\微信图片_20230926180017.jpg)\n![](\\gallery\\new\\微信图片_20230926180018.jpg)\n![](\\gallery\\new\\微信图片_20230926180019.jpg)\n![](\\gallery\\new\\微信图片_20230926180020.jpg)\n![](\\gallery\\new\\微信图片_20230926180021.jpg)\n![](\\gallery\\new\\微信图片_202309261800151.jpg)\n![](\\gallery\\new\\微信图片_202309261800181.jpg)\n\n\n{% endgallery %}","updated":"2023-09-27T10:12:28.472Z","path":"gallery/new/index.html","comments":1,"layout":"page","_id":"clojorf0b000e9kth0gz9gv7o","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\new\\\\top.jpeg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\top2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\top3.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180015.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180016.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180017.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180018.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180019.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180020.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180021.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_202309261800151.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_202309261800181.jpg\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\new\\\\top.jpeg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\top2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\top3.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180015.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180016.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180017.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180018.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180019.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180020.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_20230926180021.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_202309261800151.jpg\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\new\\\\微信图片_202309261800181.jpg\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n"},{"title":"八重神子","date":"2023-09-25T02:04:11.000Z","top_img":"/image/top3.jpg","_content":"\n{% gallery %}\n![](\\gallery\\八重神子\\八重神子.png)\n![](\\gallery\\八重神子\\八重神子_真人1.png)\n![](\\gallery\\八重神子\\八重神子01.png)\n![](\\gallery\\八重神子\\八重神子1.png)\n![](\\gallery\\八重神子\\八重神子02.png)\n![](\\gallery\\八重神子\\八重神子03.png)\n![](\\gallery\\八重神子\\八重神子3.png)\n![](\\gallery\\八重神子\\八重神子立牌.png)\n![](\\gallery\\八重神子\\八重神子真人版2.png)\n\n{% endgallery %}","source":"gallery/八重神子/index.md","raw":"---\ntitle: 八重神子\ndate: 2023-09-25 10:04:11\ntop_img: /image/top3.jpg\n---\n\n{% gallery %}\n![](\\gallery\\八重神子\\八重神子.png)\n![](\\gallery\\八重神子\\八重神子_真人1.png)\n![](\\gallery\\八重神子\\八重神子01.png)\n![](\\gallery\\八重神子\\八重神子1.png)\n![](\\gallery\\八重神子\\八重神子02.png)\n![](\\gallery\\八重神子\\八重神子03.png)\n![](\\gallery\\八重神子\\八重神子3.png)\n![](\\gallery\\八重神子\\八重神子立牌.png)\n![](\\gallery\\八重神子\\八重神子真人版2.png)\n\n{% endgallery %}","updated":"2023-10-07T10:58:08.372Z","path":"gallery/八重神子/index.html","comments":1,"layout":"page","_id":"clojorf0c000g9kthe3ab1h7c","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子_真人1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子01.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子02.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子03.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子立牌.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子真人版2.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子_真人1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子01.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子02.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子03.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子立牌.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\八重神子\\\\八重神子真人版2.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n"},{"title":"真实系风格作品","date":"2023-09-25T02:04:11.000Z","top_img":"/image/top3.jpg","_content":"\n{% gallery %}\n![](\\gallery\\真实系\\更衣室1.png)\n![](\\gallery\\真实系\\排球1.png)\n![](\\gallery\\真实系\\排球2.png)\n![](\\gallery\\真实系\\排球3.png)\n![](\\gallery\\真实系\\排球4.png)\n![](\\gallery\\真实系\\排球5.png)\n![](\\gallery\\真实系\\排球6.png)\n![](\\gallery\\真实系\\排球7.png)\n![](\\gallery\\真实系\\排球8.png)\n![](\\gallery\\真实系\\排球9.png)\n![](\\gallery\\真实系\\乌篷船1.png)\n![](\\gallery\\真实系\\乌篷船2.png)\n![](\\gallery\\真实系\\乌篷船3.png)\n![](\\gallery\\真实系\\乌篷船4.png)\n![](\\gallery\\真实系\\乌篷船5.png)\n![](\\gallery\\真实系\\乌篷船6.png)\n![](\\gallery\\真实系\\乌篷船7.png)\n![](\\gallery\\真实系\\清新0.png)\n![](\\gallery\\真实系\\清新1.png)\n![](\\gallery\\真实系\\清新2.png)\n![](\\gallery\\真实系\\清新3.png)\n![](\\gallery\\真实系\\清新4.png)\n![](\\gallery\\真实系\\清新5.png)\n![](\\gallery\\真实系\\清新6.png)\n![](\\gallery\\真实系\\教室2.png)\n![](\\gallery\\真实系\\教室3.png)\n![](\\gallery\\真实系\\教室4.png)\n![](\\gallery\\真实系\\教室5.png)\n![](\\gallery\\真实系\\教室6.png)\n![](\\gallery\\真实系\\教室7.png)\n\n{% endgallery %}\n\n","source":"gallery/真实系/index.md","raw":"---\ntitle: 真实系风格作品\ndate: 2023-09-25 10:04:11\ntop_img: /image/top3.jpg\n---\n\n{% gallery %}\n![](\\gallery\\真实系\\更衣室1.png)\n![](\\gallery\\真实系\\排球1.png)\n![](\\gallery\\真实系\\排球2.png)\n![](\\gallery\\真实系\\排球3.png)\n![](\\gallery\\真实系\\排球4.png)\n![](\\gallery\\真实系\\排球5.png)\n![](\\gallery\\真实系\\排球6.png)\n![](\\gallery\\真实系\\排球7.png)\n![](\\gallery\\真实系\\排球8.png)\n![](\\gallery\\真实系\\排球9.png)\n![](\\gallery\\真实系\\乌篷船1.png)\n![](\\gallery\\真实系\\乌篷船2.png)\n![](\\gallery\\真实系\\乌篷船3.png)\n![](\\gallery\\真实系\\乌篷船4.png)\n![](\\gallery\\真实系\\乌篷船5.png)\n![](\\gallery\\真实系\\乌篷船6.png)\n![](\\gallery\\真实系\\乌篷船7.png)\n![](\\gallery\\真实系\\清新0.png)\n![](\\gallery\\真实系\\清新1.png)\n![](\\gallery\\真实系\\清新2.png)\n![](\\gallery\\真实系\\清新3.png)\n![](\\gallery\\真实系\\清新4.png)\n![](\\gallery\\真实系\\清新5.png)\n![](\\gallery\\真实系\\清新6.png)\n![](\\gallery\\真实系\\教室2.png)\n![](\\gallery\\真实系\\教室3.png)\n![](\\gallery\\真实系\\教室4.png)\n![](\\gallery\\真实系\\教室5.png)\n![](\\gallery\\真实系\\教室6.png)\n![](\\gallery\\真实系\\教室7.png)\n\n{% endgallery %}\n\n","updated":"2023-10-17T15:14:15.404Z","path":"gallery/真实系/index.html","comments":1,"layout":"page","_id":"clojorf0d000l9kthhm5h3yan","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\真实系\\\\更衣室1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球8.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球9.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新0.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室7.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\真实系\\\\更衣室1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球8.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\排球9.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\乌篷船7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新0.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\清新6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\真实系\\\\教室7.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n"},{"title":"幻想系风格作品","date":"2023-09-25T02:04:11.000Z","top_img":"/image/top3.jpg","_content":"\n{% gallery %}\n![](\\gallery\\幻想系\\冥想1.png)\n![](\\gallery\\幻想系\\冥想2.png)\n![](\\gallery\\幻想系\\冥想3.png)\n![](\\gallery\\幻想系\\冥想4.png)\n![](\\gallery\\幻想系\\冥想5.png)\n![](\\gallery\\幻想系\\冥想6.png)\n![](\\gallery\\幻想系\\冥想7.png)\n![](\\gallery\\幻想系\\风雪1.png)\n![](\\gallery\\幻想系\\风雪2.png)\n![](\\gallery\\幻想系\\牛仔.png)\n![](\\gallery\\幻想系\\山崖1.png)\n![](\\gallery\\幻想系\\山崖2.png)\n![](\\gallery\\幻想系\\山崖3.png)\n![](\\gallery\\幻想系\\山崖4.png)\n![](\\gallery\\幻想系\\山崖5.png)\n![](\\gallery\\幻想系\\山崖6.png)\n![](\\gallery\\幻想系\\山崖7.png)\n![](\\gallery\\幻想系\\王座1.png)\n![](\\gallery\\幻想系\\王座2.png)\n![](\\gallery\\幻想系\\王座3.png)\n![](\\gallery\\幻想系\\王座4.png)\n![](\\gallery\\幻想系\\王座5.png)\n![](\\gallery\\幻想系\\王座6.png)\n![](\\gallery\\幻想系\\王座7.png)\n![](\\gallery\\幻想系\\王座8.png)\n\n![](\\gallery\\幻想系\\教室1.png)\n\n{% endgallery %}","source":"gallery/幻想系/index.md","raw":"---\ntitle: 幻想系风格作品\ndate: 2023-09-25 10:04:11\ntop_img: /image/top3.jpg\n---\n\n{% gallery %}\n![](\\gallery\\幻想系\\冥想1.png)\n![](\\gallery\\幻想系\\冥想2.png)\n![](\\gallery\\幻想系\\冥想3.png)\n![](\\gallery\\幻想系\\冥想4.png)\n![](\\gallery\\幻想系\\冥想5.png)\n![](\\gallery\\幻想系\\冥想6.png)\n![](\\gallery\\幻想系\\冥想7.png)\n![](\\gallery\\幻想系\\风雪1.png)\n![](\\gallery\\幻想系\\风雪2.png)\n![](\\gallery\\幻想系\\牛仔.png)\n![](\\gallery\\幻想系\\山崖1.png)\n![](\\gallery\\幻想系\\山崖2.png)\n![](\\gallery\\幻想系\\山崖3.png)\n![](\\gallery\\幻想系\\山崖4.png)\n![](\\gallery\\幻想系\\山崖5.png)\n![](\\gallery\\幻想系\\山崖6.png)\n![](\\gallery\\幻想系\\山崖7.png)\n![](\\gallery\\幻想系\\王座1.png)\n![](\\gallery\\幻想系\\王座2.png)\n![](\\gallery\\幻想系\\王座3.png)\n![](\\gallery\\幻想系\\王座4.png)\n![](\\gallery\\幻想系\\王座5.png)\n![](\\gallery\\幻想系\\王座6.png)\n![](\\gallery\\幻想系\\王座7.png)\n![](\\gallery\\幻想系\\王座8.png)\n\n![](\\gallery\\幻想系\\教室1.png)\n\n{% endgallery %}","updated":"2023-10-17T15:05:40.406Z","path":"gallery/幻想系/index.html","comments":1,"layout":"page","_id":"clojorf0e000n9kthhjjvhegt","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\风雪1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\风雪2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\牛仔.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座8.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\教室1.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\冥想7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\风雪1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\风雪2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\牛仔.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\山崖7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座7.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\王座8.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\幻想系\\\\教室1.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n"},{"title":"二次元","date":"2023-09-25T02:04:11.000Z","top_img":"/image/top3.jpg","_content":"\n{% gallery %}\n![](\\gallery\\二次元\\嘉然1.png)\n![](\\gallery\\二次元\\嘉然2.png)\n![](\\gallery\\二次元\\嘉然3.png)\n![](\\gallery\\二次元\\嘉然4.png)\n![](\\gallery\\二次元\\剑冢1.png)\n![](\\gallery\\二次元\\剑冢2.png)\n![](\\gallery\\二次元\\剑冢3.png)\n![](\\gallery\\二次元\\剑冢4.png)\n![](\\gallery\\二次元\\剑冢5.png)\n![](\\gallery\\二次元\\机甲1.png)\n![](\\gallery\\二次元\\机甲2.png)\n![](\\gallery\\二次元\\机甲3.png)\n![](\\gallery\\二次元\\机甲4.png)\n![](\\gallery\\二次元\\机甲5.png)\n![](\\gallery\\二次元\\机甲6.png)\n![](\\gallery\\二次元\\泳衣1.png)\n![](\\gallery\\二次元\\泳衣2.png)\n![](\\gallery\\二次元\\泳衣3.png)\n![](\\gallery\\二次元\\泳衣4.png)\n{% endgallery %}","source":"gallery/二次元/index.md","raw":"---\ntitle: 二次元\ndate: 2023-09-25 10:04:11\ntop_img: /image/top3.jpg\n---\n\n{% gallery %}\n![](\\gallery\\二次元\\嘉然1.png)\n![](\\gallery\\二次元\\嘉然2.png)\n![](\\gallery\\二次元\\嘉然3.png)\n![](\\gallery\\二次元\\嘉然4.png)\n![](\\gallery\\二次元\\剑冢1.png)\n![](\\gallery\\二次元\\剑冢2.png)\n![](\\gallery\\二次元\\剑冢3.png)\n![](\\gallery\\二次元\\剑冢4.png)\n![](\\gallery\\二次元\\剑冢5.png)\n![](\\gallery\\二次元\\机甲1.png)\n![](\\gallery\\二次元\\机甲2.png)\n![](\\gallery\\二次元\\机甲3.png)\n![](\\gallery\\二次元\\机甲4.png)\n![](\\gallery\\二次元\\机甲5.png)\n![](\\gallery\\二次元\\机甲6.png)\n![](\\gallery\\二次元\\泳衣1.png)\n![](\\gallery\\二次元\\泳衣2.png)\n![](\\gallery\\二次元\\泳衣3.png)\n![](\\gallery\\二次元\\泳衣4.png)\n{% endgallery %}","updated":"2023-10-17T08:09:26.513Z","path":"gallery/二次元/index.html","comments":1,"layout":"page","_id":"clojorf0f000r9kth005ud0ah","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣4.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover":false,"excerpt":"","more":"<div class=\"gallery\">\n    <div class=\"fj-gallery  data\" data-rowHeight=\"220\" data-limit=\"10\">\n    <span class=\"gallery-data\">[{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\嘉然4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\剑冢5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲4.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲5.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\机甲6.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣1.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣2.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣3.png\",\"alt\":\"\"},{\"url\":\"\\\\gallery\\\\二次元\\\\泳衣4.png\",\"alt\":\"\"}]</span>\n    </div>\n    <button class=\"gallery-load-more\"><span>加载更多</span><i class=\"fa-solid fa-arrow-down\"></i></button>\n    </div>\r\n"}],"Post":[{"title":"纯小白也能变大画师？SD：AI绘画的神！","date":"2023-10-01T16:00:00.000Z","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://img1.baidu.com/it/u=161683432,2488264310&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500","description":"Stable Diffusion：一个极其强大的AI绘画工具整合包","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n\n# 引言\n\n* Stable Diffusion是一个极其强大的AI绘画工具整合包（开源项目），大菩萨UP主秋葉aaaki根据整合包创作了一个非常牛逼的网页启动器，包含了版本更新、插件下载、报错检测等等，并涵盖了很多插件；而大佛祖UP主Nenly同学上传了一套极为详细的使用教程。因为现在AI绘画的行业还处在起步的阶段，行业内并不规范，因此这里仅以秋葉aaaki提供的启动器和整合包进行创作，更复杂的我也不会。在机缘巧合之下我才接触到这个神奇的东西，因为之前一直没有关注、没有实践，所以现在尝试一下纯小白上手，绘制出属于自己的AI画作。\n\n* 相比于教程，本篇更像是一个个人使用的经历。因此暂时只涉及AI绘画的尝试，并不涉及模型调教（带佬可以试试自己跑一个模型出来）\n\n* 推荐关注UP主“秋葉aaaki”和“Nenly同学”，以及这里放一些他们的教程合集。本篇博客以秋葉提供的整合包做安装和基本入门，加以Nenly的更为细致的教学。\n\n---\n\n* 秋葉aaaki\n\n【前置要求】\n\n一个流畅的翻墙软件，在很多地方，这个东西需要科学上网。\n\n【新手快速入门】\n全套入门教程：https://www.bilibili.com/read/cv22159609\n快速入门生成图片：https://www.bilibili.com/read/cv22661198\n模型安装使用教程：https://www.bilibili.com/read/cv21362202\n2023年4月模型分享：https://www.bilibili.com/video/BV1em4y1z7Dg\n\n【常用网站】\nAI 作图知识库(教程): https://guide.novelai.dev/\n标签超市(解析组合): https://tags.novelai.dev/\n原图提取标签: https://spell.novelai.dev/\n\n【细致教程】\n入门参数设置基础：https://guide.novelai.dev/guide/configuration/param-basic\n常见安装问题: https://guide.novelai.dev/s/troubleshooting/install\n常见跑图问题: https://guide.novelai.dev/s/troubleshooting/generate\n怎么写提示词？ https://guide.novelai.dev/advanced/prompt-engineering/\n怎么训练模型？ https://guide.novelai.dev/advanced/finetuning/\n最新消息: https://guide.novelai.dev/newsfeed\n\n【问题速查】\n- CUDA out of memory： 炸显存 换启动参数 换显卡\n- DefaultCPUAllocator: 炸内存 加虚拟内存 加内存条\n- CUDA driver initialization failed: 装CUDA驱动\n- Training models with lowvram not possible: 这点显存还想炼丹？\n- WinError 5: 建议重装电脑，或者等下一个整合包\n\n---\n\n* Nenly同学\n\n{% btn 'https://www.bilibili.com/video/BV1As4y127HW',Click,far fa-hand-point-right,center,larger %}\n\n【资料下载】\n\nhttps://nenly.notion.site/017c3341c8b84a7ebb4c2cb16f36e28f\n\n# 软件及插件的安装\n\n​\t这里涉及到两个，一个是这个软件（绘世启动器及整个整合包），这个整个东西非常大，因此建议找一个空的盘安装；另一个是非常好用的ControlNet插件，第一次上手可以先跳过这一部分，等把软件搞明白了再来看插件。**我暂且推荐用我给你们的百度网盘链接下载安装**，因为我这个已经做好了非常好的汉化、UI改善和更新，并且具有了绝大部分的常用插件，非常方便。或者是根据秋葉的整合包下载安装（秋葉神中神），当然你可以在很多地方找到这个整合包，因为他是开源的，但是这会给后续的使用带来不便。\n\n## 绘世启动器&整合包安装\n\n### 下载\n\n​\t因为这个东西迭代更新速度很快，秋葉的大部分教程可能都还是version2、version3的软件，现在已经更新到version4.4了。可以考虑跟着他比较新的一个视频来进行安装。\n\n{% btn 'https://www.bilibili.com/video/BV1iM4y1y7oA',Click,far fa-hand-point-right,center,larger %}\n\n或者我这里也有一个v4.1的版本，安装完成之后可以进去直接更新，效果是一样的。\n\n链接：https://pan.baidu.com/s/1EIV7MvfHqQRMsJ8pAmUSMA \n提取码：72cj \n--来自百度网盘超级会员V4的分享\n\n### 安装\n\n以我发的百度网盘连接为例进行安装。下载完成之后大概是一个这样子的文件结构：\n\n```markdown\nsd-webui-aki\n\t|--可选controlnet1.1\n\t|--启动器运行依赖.exe\n\t|--sd-webui-aki-v4.1.zip\n```\n\n​\t双击启动器运行依赖.exe自动完成安装，然后解压v4.1.zip压缩包，找到下面的“A启动器.exe”，双击运行。启动完成后如下图所示，进入左边栏的“版本管理” - “内核” - “稳定版”，点击“切换”即可完成版本切换。（建议使用稳定版而不是开发版本）\n\n![](\\image\\微信图片_20231002123148.png)\n\n## ControlNet插件\n\n关于ControlNet插件的安装和使用，可以参考秋葉的这两个视频：\n\n初代：https://www.bilibili.com/video/BV1Wo4y1i77v\n\nv1.1版本：https://www.bilibili.com/video/BV1fa4y1G71W\n\n​\t如果你在之前启动器的下载中选择了我的百度网盘链接进行安装，那么想必肯定已经有controlnet1.1的文件夹了。其实就是跳过了初代版本的bag，直接更新了bag而已。\n\n* 我这里好像默认提供了controlnet的插件，你可以在“版本管理” - “扩展”中找一下是否有controlnet，如果有那么就代表没问题，更新一下即可。如果没有，请参照上文的第一个哔哩哔哩网址视频中**第30秒至第1分07秒**的内容进行插件安装。\n\n* 模型的安装可以直接参考第二个哔哩哔哩网址视频中**第2分18秒至第2分55秒**\n\n## AI绘画，启动！\n\n首先开启翻墙软件，然后开启A启动器，点击右下角的“一键启动”。之后会出现一个“控制台”，也就是一个类似于bash文件的东西。第一次启动所需时间可能较久，大概在2-3分钟左右。成功的标志是跳出一个网页。大概长这样：\n\n![](\\image\\微信图片_20231002125925.png)\n\n记得不要把控制台关掉哦~\n\n# 文生图创作技巧\n\n文生图创作是AI创作最基本的方式。这部分可以参考秋葉的文档：https://www.bilibili.com/read/cv22661198\n\n当然，这里我也会用我自己的语言详细说明。\n\n## 模型\n\n* **Stable Diffusion模型：**这个是AI绘画的大模型，一开始进入应该只有一个叫“anything……”什么的模型，这个是一个有名的二次元模型，直接用就好了。如果你是官方版本下载，可能是一个叫官方模组Stable Diffusion的东西。在后文我也会介绍更多的SD模型，相当于使用了不同的画风、不同的创作手法之类，如果你是大佬（大佬应该不会看我这篇文档）可以试试自己调教一个模型出来（就是机器学习的过程），但是本篇不做介绍。\n* **外挂vae模型：**目前你先直接选择animevae.pt即可\n\n## 标签（Tag&Prompt）\n\n* **正向提示词Prompt：**选择你想要的内容，英文表述，逗号分隔。比如你想要画面中有一个女的，就写`1girl`；想要画面以教室为背景，就写`classroom`，以此类推。\n* **反向提示词Negative Prompt：**选择你不想要的内容，比如一般可以有如下类似的描述（提供了两个模板）：\n\n```\n ((((ugly)))), (((duplicate))), ((morbid)), ((mutilated)), (((tranny))), (((trans))), (((trannsexual))), (hermaphrodite), [out of frame], extra fingers, mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), ((ugly)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))),out of frame, ugly, extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck)))\n```\n\n```\nlowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry \n```\n\n* **进阶使用：**以 girl 这个 Tag 作为例子\n  * (girl) 加权重，这里是1.1倍。括号是可以叠加的，如（(girl)) 加很多权重：1.1*1.1=1.21倍。\n  * [girl] 减权重，一般用的少。减权重也一般就用下面的指定倍数。\n  * (girl = 1.2)指定权重\n* **标签超市**\n  * https://tags.novelai.dev/\n  * https://ai.dawnmark.cn/\n  * 进入标签超市，可以根据你的喜好任意选择标签（自己打的时候不知道怎么表述，这里就提供了很多标签和预制的标签组合）这玩意儿的使用非常简单，因为个人觉得很多功能都不需要，只需要知道最基本的几个即可。\n  * 但是吧，我也不知道这个作者怎么想的，为什么感觉很多标签都这么变态啊…估计生产这玩意儿的是个技术高超的二刺猿宅男LSP，这我也莫得什么办法。\n\n![](\\image\\微信图片_20231003143640.png)\n\n```markdown\n高标准品质：best quality, masterpiece, highres,\n插画风格：paiting, illustration, drawing,\n二次元：anime, comic, game CG\n写实：photorealistic, realistic\nEmbeddings：ng_deepnegative_v1_75t, easynegative, EasyNegativeV2, negative_hand, negative_hand-neg, BadDream, Neg_Facelift768, badhandv4 （详见Embeddings章节）\n```\n\n## 其他\n\n* **迭代次数：**不需要太大，一般在50以内。通常20~28是一个不错的值。\n\n* **采样器：**采样器没有优劣之分，但是他们速度不同。全看个人喜好。UP主秋葉推荐的有\n  Euler A；DPM++ 2M Karras；DPM++SDE Karras\n  个人也用过DDIM，感觉也还可以。\n\n* **提示词相关性：**提示词相关性代表你输入的 Tag 对画面的引导程度有多大，可以理解为 “越小AI越自由发挥”\n\n  太大会出现锐化、线条变粗的效果。太小AI就自由发挥了，不看 Tag。一般设置在7~12之间。\n\n* **随机种子：**随机种子是 生成过程中所有随机性的源头 每个种子都是一幅不一样的画。默认的 -1 是代表每次都换一个随机种子。由随机种子，生成了随机的噪声图，再交给AI进行画出来。如果你之前跑了一张图感觉很好，想做微调，那么就把那张图的随机种子找出来（图片信息），然后复制进去。\n\n* 没讲到的东西少动点O.o\n\n## 图片尺寸\n\n* 请不要选择过大的图片尺寸，不然AI是跑不出来的。选择比较推荐的尺寸有：512×512；768×1024（或者再砍一半）；1024×768（或者再砍一半）。\n* 有人会问，如果我觉得太不清晰了怎么办？可以选择一个较小的尺寸，然后开启“高分辨率修复”，其中UP秋葉给出的推荐参数如下图所示：（放大倍数自己定，别太贪心把自己电脑炸了）这部分在本篇博客后续章节“图像の高清修复”中会更加详细地讲述。\n* **个人建议先选一个小尺寸**，这样子跑的时候就比较快。**如果跑出来一张你觉得比较好的比较喜欢，再点击后期处理**（我这个版本里是图像右下角一个三角尺的标志，叫什么send image … to extra tab；或者你可以在“文生图”边上找到“后期处理”），然后进行放大算法处理。\n* 当然小尺寸也有缺点，就是当尺寸过小时，很多细节都会跑不出来，这高清修复也修不了。如果电脑显存够建议跑1024左右大小的。\n\n![](\\image\\微信图片_20231002133105.png)\n\n## 启动！\n\n​\t自己随便放了几个关键词跑出来的一张图，整体看着还挺不错了。（其实我用了很多技巧呜呜呜，尤其是AI画手画的真的是一言难尽，天天给我整出六七根手指）想要真正让他跑出一个好图出来，确实很难。\n\n![](\\image\\s1.png)\n\n# ControlNet美化\n\n在网页的下方打开ControlNet，出现如下图所示的内容（具体格式可能每个人有差别，但大差不差，这里演示的是1.1版本）。\n\n![](\\image\\微信图片_20231002153828.png)\n\n​\t下面的操作想必大部分人看名字都能看懂什么意思，基本上就是控制**“预处理器影响效果的强弱”**。另外，低显存模式（在显存不够的时候降速）和允许预览应该都能理解，完美像素模式比较强大，大致就是会自动计算预处理的最优像素，建议勾选。\n\n​\t这里详细说明一下各个预处理器和模型的功能。这个插件的功能就是，把你的输入图片经过某个预处理器进行处理，得到一张效果图，然后网站在根据你这张效果图的指导生成新的图片。\n\n* 操作方式：根据你想要实现的效果选择对应的预处理器，然后选择与预处理器同名的模型，放入图片即可。\n\n* 更加详细的理解和应用可以参考Nenly的教程：\n\n{% btn 'https://www.bilibili.com/video/BV1Ds4y1e7ZB',Click,far fa-hand-point-right,center,larger %}\n\n* 这里会着重挑选几个常用的、易用的预处理器和使用方法进行讲解。（任何一个效果在第一次使用、生成的时候都会非常卡，这是正常的）\n\n## Openpose\n\nOpenpose预处理器是指导动作骨架，放入一张真人图片，然后他会根据真人图片生成骨骼，再根据骨骼指导人物动作来AI作画。如图所示：\n\n| 引导图                                  | 骨骼                        | 创作结果           |\n| --------------------------------------- | --------------------------- | ------------------ |\n| ![](\\image\\微信图片_20231002160402.png) | ![](\\image\\tmpjp_dhaa1.png) | ![](\\image\\s2.png) |\n\n​\t不同的Openpose预处理器可以产生不同的骨骼图，大家根据上面的英文后缀或者中文翻译应该都能非常好理解，比如是否带上手部动作、脸部表情等等。\n\n## Depth\n\nDepth顾名思义，深度。在一张图片中，计算机其实并不能很好的识别空间关系，经常把他当成二维图像来处理。举个例子，在Openpose预处理器中你选了一张手放在额头上的照片，但是AI跑出来手放在了后脑勺上。从骨骼图上讲，这两个是一样的，区别就是手和头部的空间关系。显然，单纯的Openpose并不具备空间处理的能力。\n\nDepth下也有很多预处理器，其中最强的是Leres++，但是相应的速度也会变慢。在空间关系不那么复杂的情况下，可以考虑使用Zoe或者Medas来处理图像。（比如上述照片，用Depth处理或许就能得到比Openpose更加好的结果）\n\n| 原图                 | 深度图（Medas）       | 创作结果             |\n| -------------------- | --------------------- | -------------------- |\n| ![](\\image\\back.png) | ![](\\image\\image.png) | ![](\\image\\home.png) |\n\n（看上去AI跑的没有原图牛逼，实际上不是AI的问题，是原图的pixiv画师太特么牛的）\n\n## Canny及其拓展\n\nCanny是一种边缘检测算法，致力于边缘检测、识别图像特征。在刚刚的Depth里面我们就可以看到，生成图少了很多的细节，这是因为Depth识别的是大体的空间关系，如果想要识别更加多的细节，那么就使用Canny吧。\n\n* Canny：将图像经过处理形成一张白底黑线的边缘图，然后根据边缘图和你的提示词来进行图片的生成。下面有两个阈值（Threshold）调节滑块，如果觉得线条太少就把阈值拉低，线条太多就把阈值拉高。\n* Invert：原理一样，但是有的时候我们使用的是白底黑线的素描线稿图（类似于你画的草稿），这个时候Canny由于算法的问题会识别的比较模糊，于是这个时候我们把预处理器改成Invert。\n* Lineart：暂时可以把这个理解为是Canny的全面升级。当然你要是要求不高用Canny也行。\n\n| 原图                 | 边缘线条图             | 创作结果               |\n| -------------------- | ---------------------- | ---------------------- |\n| ![](\\image\\back.png) | ![](\\image\\image2.png) | ![](\\image\\canny1.png) |\n\n## HED & SoftEdge\n\nHED是老版本，新版本（v1.1）里变成了SoftEdge，全称柔和边缘。SoftEdge生成出来的效果图要比Canny边缘更为柔和，因此在你认为Canny太过于拘束、写实的时候可以尝试用SoftEdge，提取一些更为关键的边缘信息，忽略不重要的边缘信息。这样做出来的图更加柔和，关系更加稳定一些。\n\n这里面的四个预处理器，HED的质量比Pid更高，Safe是精简版的意思。\n\n| 原图                                    | 边缘图                 | 创作结果           |\n| :-------------------------------------- | :--------------------- | ------------------ |\n| ![](\\image\\微信图片_20231002160402.png) | ![](\\image\\image3.png) | ![](\\image\\SE.png) |\n\n## Scribble\n\n原意涂鸦乱画，这个就是当初非常惊艳我们的随便画几笔就能生成图片的那个工具了。自己在PS里面随便画几笔，文本中输出不那么多的限定性不强的提示词，就能够生成 非常具有创造力的图片了。注意，Scribble也是黑底白线的模式，所以如果使用了白底黑线，那么请使用Invert处理器。\n\n| 原图（也可以手绘）      | 边缘图                 | 创作结果            |\n| ----------------------- | ---------------------- | ------------------- |\n| ![](\\image\\Back_Li.jpg) | ![](\\image\\image4.png) | ![](\\image\\cyb.png) |\n\n## Tile\n\n增加局部细节，根据画面自动推断内容，修复放大分辨率而导致的细节丢失。\n\n| before                | after                  |\n| --------------------- | ---------------------- |\n| ![](\\image\\after.png) | ![](\\image\\before.png) |\n\n## Multiple - ControlNet\n\n多重控制网，可以同时加载多个ControlNet预处理器，以达到他们功能和优缺点的互补。\n\n​\t比如上文中提到的Openpose的缺陷，就可以使用Openpose+Depth的双重控制来实现。同一张图，在两个Union中分别用Openpose和Depth来跑，并降低次要预处理器的权重系数（比如这里把Depth权重降为0.5左右），就可以实现手放在额头上，并且人物肢体动作被Openpose规定的效果了。\n\n​\t并非任意两个效果都可以叠加，需要注意他们的相性。除了上文提及的，其余常用的组合还有比如Depth+Canny，Openpose+SoftEdge等。\n\n# SD模型\n\n​\t模型，就是在创作页面中最左上角的Stable Diffusion模型了。一个模型对应的就是一组训练集，喂给AI不同风格的图片加以训练就能产生不同风格的AI画风，想要改变画风就可以改变模型。\n\n​\t右侧外挂的vae模型相当于是滤镜，不同的画风适配不同的滤镜，我推荐去网上下载一个“kl-f8-anime2”（直接在C站搜索就行），这个是比较普适的滤镜，对于大部分（二次元）模型都能有不错的效果。此外初始提供的anime的vae也是一个普适的二次元画风。下载我的安装包的同学会发现里面自带了一个“vae-ft-mse-840000”的vae，这个对很多非二次元画风也有很好的作用。市面上有些比较有名的模型可能会自带vae。\n\n## 模型下载网站\n\n### Hugging Face 抱脸\n\n网址：https://huggingface.co\n\n找后缀名为ckpt的下载（当然也有些模型不是以ckpt作为后缀，详见Nenly的教程）\n\n### C站 Civitai\n\n（可以不注册使用，注册的话注意一下身体顶不顶得住）\n\nModel Type直接选择CheckPoint就行，其他不用管，选自己喜欢的。\n\n### Nenly大佬提供\n\nhttps://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely\n\n大家可以进这个链接进行下载，其中模型部分是SD04，选择自己需要的下载即可，不然你的电脑会爆掉。他提供了下面我说的这几个常用模型。\n\n## 分类\n\n### 二次元类\n\n偏漫画、插画风格，具有比较鲜明的绘画笔触质感\n\n1. Anything V5 （中文名万象熔炉，就是一开始我让大噶选的）\n2. Counterfeit（精致感很好，细节还原程度高）\n3. Dreamlike Diffusion（比较具有科幻、梦幻色彩，带一点点赛博的感觉）\n4. Abyss Orange Mix（中文名深渊橘/橙，经典有名的二次元风格模型）\n\n### 真实系\n\n拟真化程度高，对现实世界还原较好\n\n1. Deliberate（目前最好的真实系模型之一，细节和质感都不错）\n2. Realistic Vision（更加朴素的写实类模型）\n3. LOFI（精致的照片级别人像专精模型）\n4. Film Grain 2.0（胶片颗粒2.0）\n   1. 是大佬Hello World模型的上一版，可惜我Hello World SDXL老是报错，退而求其次了\n   2. 建议使用Negative hand这个Embedding\n5. Majic 橘麦写实V2.5（用了几次，感觉真不行）\n   1. 不要开脸部修复AD etailer\n   2. 推荐关键词：`Best quality, masterpiece, ultra high res, (photorealistic:1.4), 1girl`\n   3. 推荐负面关键词：`ng_deepnegative_v1_75t, badhandv4`\n   5. 脸部修复的方法 to inpaint the face: inpaint-->only masked-->set to 512x512-->Denoising strength:0.2~0.5\n\n### 2.5D\n\n类似建模软件的三维渲染图，三渲二那种感觉\n\n1. NeverEnding Dream（接近三次元的2.5D模型，适合游戏中精致的人物建模）\n2. Protogen（优秀的照片效果和创意发挥空间）\n3. GuoFeng3（国风、古风主题模型，国人的优秀作品）\n4. MengX_Mix_Fantacy（偏向幻想风格的模型，偏向真人一点）\n   1. 建议使用插件：ADetailer 来进行面部和手部修复\n   2. 负面关键词 ：`(ng_deepnegative_v1_75t),(badhandv4),(worst quality:2),(low quality:2),(normal quality:2),lowres,bad anatomy,bad hands,normal quality,((monochrome)),((grayscale)),`\n\n\n## 实验\n\n这里用同一张农夫山泉跑了几组类似的图（如果是农夫山泉的话…）\n\n| 二次元：万象熔炉+kl-f8              | 二次元：DreamLike+animevae         | 二次元：深渊橘V3+kl-f8          |\n| ----------------------------------- | ---------------------------------- | ------------------------------- |\n| ![](\\image\\农夫山泉2.png)           | ![](\\image\\农夫山泉_DreamLike.png) | ![](\\image\\农夫山泉_深渊橘.png) |\n| **2.5D风：国风3+kl-f8**             | **2.5D风：NE Dream+kl-f8**         |                                 |\n| ![](\\image\\农夫山泉_国风.png)       | ![](\\image\\农夫山泉_NED.png)       |                                 |\n| **真实系：Deliberate+84000**        | **真实系：LOFI+84000**             |                                 |\n| ![](\\image\\农夫山泉_Deliberate.png) | ![](\\image\\农夫山泉_LF.png)        |                                 |\n\n# 图像の高清修复\n\n## 高清修复（Hires.fix）\n\n​\t正如上文所言，我推荐你在一个低分辨率的情况下跑AI进行抽卡，当你抽中一张比较符合你内心想法的画作的时候，就可以丢到文生图下方的高分辨率修复里面去了。使用方法很简单，把你喜欢的跑图的种子复制进来以确保产生的图几乎类似，然后开高清修复，尺寸可以用倍数设置也可以用分辨率设置。\n\n* 放大算法：各种放大算法在经过实验之后得出的结论是没有什么区别，几乎都长差不多。比较推荐的有Legan、R-ESRGAN、R-ESRGAN Anime6B（这个适合二次元），当然你可以选别的自己尝试，反正大差不差。\n\n* 采样步数：高清修复相当于重绘，因此同样需要设置采样步数。设置为默认0的话则采用与图像生成一样的采样步数。\n\n* 重绘幅度：如果跟原图偏差不想太大，选0.3 ~ 0.5；想稍微变一点让AI自由创作一些，选0.5 ~ 0.7。太小会使细节不够，太大有几率会出现奇怪现象。\n\n## 后期处理/附加功能\n\n这个就在文生图/图生图边上，操作方法不用人讲应该都能看懂：设置一个放大倍数和一个放大算法，剩下的全部维持默认一个别管。\n\n优点：跑得快，时间短\n\n缺点：精细程度较低\n\n特点：相当于重绘幅度为0的重绘，有点类似于PS的放大再锐化\n\n## SD Upscale脚本\n\n* 优点：显存小也能出大图；缺点：跑的比较慢。\n* 脚本的安装：进入网页最右侧的扩展，从网页下载，输入下方链接进行安装，完成后重启网页UI。\n\nhttps://github.com/Coyote-A/ultimate-upscale-for-automatic1111\n\n* 在图生图模式的最下方可以找到脚本，选择SD Upscale进入。自定义尺寸、选择放大算法不再赘述。\n* 蒙版边缘模糊程度：这个东西的原理是把一张大图切割成不同的小图去跑，这个参数越大相当于两张图重叠越大，过渡越柔和，但是也不应该太大，一般32 ~ 128是一个较好的值。\n\n| 原图                 | 结果图              |\n| -------------------- | ------------------- |\n| ![](\\image\\home.png) | ![](\\image\\SDU.png) |\n\n# 小模型\n\n在之前我们介绍过了SD模型，其后缀通常为CheckPoint，机翻为检查点，实际含义也就是大模型。而除了大模型之外，我们还可以使用小模型，恰到好处地美化AI图片，解决诸如AI不会画手在内的一系列难题。\n\n## Embeddings 文本嵌入\n\n​\t这个东西在机器学习中被称为嵌入式向量，在C站中可以使用Textual Invention来检索它。这是一个仅有KB级别大小的文件，直接丢在Embeddings文件夹，并在图像生成时输入对应的一个关键词即可。这个相当于是一个小小的扩展，帮助AI了解某个特定的词语。比如AI被喂了人和鱼的信息，但是不知道美人鱼是什么，这时候特定的Embedding就会告诉他，这是一个“上半身女人，下班人鱼尾”的生物。\n\n* 一个很好用的例子：解决手部错乱\n\n​\t网上有非常多著名的Embeddings都是为了解决手部问题而生，他们记录了一系列手部错误的集合，然后只需要把他们加入**负面提示词**内，即可将这个问题得到极大地改善。推荐几个：\n\n1. EasyNegative：主要针对二次元画风，关键词为`easynegative`，`EasyNegativeV2`\n2. DeepNegative：主要针对真人模型，关键词为`ng_deepnegative_v1_75t`\n3. Negative-Hand：关键词为`negative_hand`，`negative_hand-neg`\n3. badhandv4：关键词为`badhandv4`\n\n## LoRa 低秩适应模式\n\n​\tLoRa相比于上面的Embeddings，更着重于人物。比如说我想让AI帮我画一个嘉然（然然…嘿嘿我的嘉然…），但是这玩意儿肯定不是像美人鱼一样两三句话说得清的，于是就有作者专门针对嘉然构建了一个训练集。LoRa文件丢在models文件夹下的lora文件夹内，并在使用时加入`<lora: LoRa_Name:0.8>`这样的方式来调用，建议不要把提示强度开太高（大部分作者建议是0.5~0.8），不然容易影响画风。\n\n​\t可以考虑安装插件Additional Network，可以以一种可视化非常好的方式调用LoRa。此外，建议**详细研读LoRa作者的作图建议**。\n\n​\t这里下载了C站上一个下载量比较高的嘉然模型（触发关键词为`jiaran`），和另一个小众的嘉然常服训练集（无触发词），试一下。\n\n| 图1                     | 图2                     |\n| ----------------------- | ----------------------- |\n| ![](\\image\\Jiaran1.png) | ![](\\image\\jiaran2.png) |\n\n​\t根据Nenly的教程，LoRa基本上可以分为五种应用，即：\n\n1. 人物角色形象塑造：最常用的功能，比如上面的嘉然，一般来讲提示词强度开到0.7上下\n2. 画风/风格塑造：比如宫崎骏画风等，影响出图整体效果，一般提示词强度开到0.3上下\n3. 概念/构图：不太好描述，比如说画面变成抽卡立绘的感觉、角色呆在水晶球玻璃瓶的构图这样，一般不开太高\n4. 服饰：改变角色服饰，一般提示词强度开到0.2-0.3\n5. 物体/特定元素，常用于图生图局部重绘，改变特定部分的风格，一般不开太高\n\n### My LoRa\n\n1. 嘉然`Jiaran`\n2. 嘉然-常服`Jiaran_Changfu`\n   1. 数值在0.5-0.7之间最佳\n3. 细节修复`Detail Tweaker`\n   1. Based Model: SD1.5\n   2. 权重可以是-2到2之间的任何值，负值可以减少细节\n4. 细节增加`Detail Enhancer`\n   1. Based Model: SD1.5\n   2. 权重推荐在0.5上下，小于0.5可以获得比较微妙的效果。1太高了。\n5. 胶片风格`LEOSAM's FilmGirl`\n   1. Based Model: Hello World SDXL\n   2. 这是用于生成胶片风格AI写真照片的LoHA & LoRA模型，可以生成逼真的胶片风格照片。可以搭配`negative_hand`的Embedding\n   3. 常用的CFG范围是6 ~ 7，Lora权重通常在0.5 ~ 0.7\n   5. Clip skip设为1或2时，生成的效果会有所不同，看自己喜欢哪种风格\n6. 塔罗牌风格`taro`\n   1. 可以用`{} background`来设置背景，如`blue background`\n   2. 推荐使用Embedding：`EasyNegative, badhandv4`\n   3. 推荐强度：0.8~1\n   4. Based Model: 万象熔炉 & 深渊橘\n7. 服装调节器\n   1. 权重设置在-1到1之间，权重越大，对象衣物越少\n   2. 跟LoRa5、Hello World SDHX模型是同一个大佬发布的\n8. 带背景立绘`tachi-e`\n   1. 一般使用`wight background, full doby, looking at viewers`提示词\n   2. 触发词`tachi-e`，一般权重可以直接设置成1\n9. 弹弓泳衣`slingshot swimsuit`\n   1. 建议Clip Skip：2\n   2. 强度似乎是1 ~ 1.2？自己感觉0.8左右别大于1\n10. 人物美化Cute Girl`mix4`\n    1. 推荐强度0.4~0.7\n11. 亚洲女性脸模`MengX girl_Mix_V40`\n    1. 推荐强度0.7~1.0\n    2. 务必打开ADetailer插件使用\n    3. 可以尝试在提示词中增加blush，或许能更加可爱、少女\n12. 私房写真风的泛用少女感混血脸`shojovibe_v11`\n    1. 推荐强度0.6-0.8\n13. 八重神子\n    1. 应我室友要求搞的，被80了呜呜呜\n    2. 推荐提示词强度：0.45-0.75\n14. 液体波浪概念衣服\n    1. 触发词：`liquid clothes, water`\n    2. 可用提示词：`blue theme, blue dress, waves, sea, water, water dress`，甚至`liquid hair`和`sky_print`\n15. 露西（赛博朋克边缘行者）\n    1. 提示词强度0.65左右，最大1（1有点小大）\n    2. 建议提示词：`(robot joints:0.5), mechanical parts, lucy \\(cyberpunk\\), jacket, shorts`\n16. 素体机娘\n    1. 建议提示词：`mecha musume, mechanical arms, headgear, bodysuit (可选)`\n    2. 提示词强度:1-1.5\n17. Oversized Clothes\n    1.  LORA 权重：建议为 0.2-0.7（我在图像中使用了 0.5）\n    2. 关键词：`oversized_hoodie`、`oversized_sweater`\n\n\n\n\n## HyperNetwork\n\n​\t中文名：超网络，一般用于改善整体画风。一般来讲用的比较少，业内风评也相对一般。这里举一个著名的例子，C站的“Waven Chibi Style”，开启后可以获得非常Q版的图像。开启方式：将HyperNetwork文件丢在对应的文件夹内，然后在网页UI的设置界面中选择超网络。\n\n# 局部重绘\n\n字面意思很好理解，用于修正那些大题都非常满意，细节不太行的图。\n\n## 图生图局部重绘\n\n蒙版边缘模糊=羽化（10以下的非0值），蒙版边缘预留像素=扩展+融合（默认32，修改区域大就开大，反之减小）\n\n蒙版区域内容处理：选择“填充”可以使变化自由一些。\n\n重绘区域：一般建议修改区域大可以选整张图片，区域小选仅蒙版。\n\n## 图生图涂鸦重绘\n\n比局部重绘多了一个调色盘，意思就是说你画上去的东西会影响他的生成。比如你想在原有美女的脸上画一个带白色爱心的蓝色口罩，那你就可以自己简单用蓝色画一个口罩，再用白色画一个爱心即可。这样引导性会更强一些。记得修改提示词。\n\n# 插件\n\nhttps://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely\n\n其中插件是SD08\n\n## Trigger\n\n根据图画反推提示词，跟图生图里的类似但效果更好，但是不知道为什么我找不到这玩意儿。\n\n## LLUL\n\n局部细节重绘，使用方法跟图像放大类似。\n\n## Cut Off\n\n使用一些非常精细的描述（比如非常准确地描述人物穿搭），常常会使AI产生误判。将这些提示词丢到Cut Off里面可以大大减少AI误判程度。\n\n## AD etailer\n\nhttps://github.com/Bing-su/adetailer\n\n着重人脸修复。提示词直接复制模型提示词即可。\n\n| 模型                  | 适用对象      |\n| --------------------- | ------------- |\n| face_yolov8n.pt       | 2D / 真实人脸 |\n| face_yolov8s.pt       | 2D / 真实人脸 |\n| hand_yolov8n.pt       | 2D / 真实人手 |\n| person_yolov8n-seg.pt | 2D / 真实全身 |\n| person_yolov8s-seg.pt | 2D/真实全身   |\n| mediapipe_face_full   | 真实人脸      |\n| mediapipe_face_short  | 真实人脸      |\n| mediapipe_face_mesh   | 真实人脸      |\n","source":"_posts/AI绘画.md","raw":"---\ntitle: 纯小白也能变大画师？SD：AI绘画的神！\ndate: 2023-10-02\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://img1.baidu.com/it/u=161683432,2488264310&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500\ndescription: Stable Diffusion：一个极其强大的AI绘画工具整合包\ntags: \n  - 教程\n  - 有趣的东西\n  - AI绘画\ncategories: 软件教程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n\n# 引言\n\n* Stable Diffusion是一个极其强大的AI绘画工具整合包（开源项目），大菩萨UP主秋葉aaaki根据整合包创作了一个非常牛逼的网页启动器，包含了版本更新、插件下载、报错检测等等，并涵盖了很多插件；而大佛祖UP主Nenly同学上传了一套极为详细的使用教程。因为现在AI绘画的行业还处在起步的阶段，行业内并不规范，因此这里仅以秋葉aaaki提供的启动器和整合包进行创作，更复杂的我也不会。在机缘巧合之下我才接触到这个神奇的东西，因为之前一直没有关注、没有实践，所以现在尝试一下纯小白上手，绘制出属于自己的AI画作。\n\n* 相比于教程，本篇更像是一个个人使用的经历。因此暂时只涉及AI绘画的尝试，并不涉及模型调教（带佬可以试试自己跑一个模型出来）\n\n* 推荐关注UP主“秋葉aaaki”和“Nenly同学”，以及这里放一些他们的教程合集。本篇博客以秋葉提供的整合包做安装和基本入门，加以Nenly的更为细致的教学。\n\n---\n\n* 秋葉aaaki\n\n【前置要求】\n\n一个流畅的翻墙软件，在很多地方，这个东西需要科学上网。\n\n【新手快速入门】\n全套入门教程：https://www.bilibili.com/read/cv22159609\n快速入门生成图片：https://www.bilibili.com/read/cv22661198\n模型安装使用教程：https://www.bilibili.com/read/cv21362202\n2023年4月模型分享：https://www.bilibili.com/video/BV1em4y1z7Dg\n\n【常用网站】\nAI 作图知识库(教程): https://guide.novelai.dev/\n标签超市(解析组合): https://tags.novelai.dev/\n原图提取标签: https://spell.novelai.dev/\n\n【细致教程】\n入门参数设置基础：https://guide.novelai.dev/guide/configuration/param-basic\n常见安装问题: https://guide.novelai.dev/s/troubleshooting/install\n常见跑图问题: https://guide.novelai.dev/s/troubleshooting/generate\n怎么写提示词？ https://guide.novelai.dev/advanced/prompt-engineering/\n怎么训练模型？ https://guide.novelai.dev/advanced/finetuning/\n最新消息: https://guide.novelai.dev/newsfeed\n\n【问题速查】\n- CUDA out of memory： 炸显存 换启动参数 换显卡\n- DefaultCPUAllocator: 炸内存 加虚拟内存 加内存条\n- CUDA driver initialization failed: 装CUDA驱动\n- Training models with lowvram not possible: 这点显存还想炼丹？\n- WinError 5: 建议重装电脑，或者等下一个整合包\n\n---\n\n* Nenly同学\n\n{% btn 'https://www.bilibili.com/video/BV1As4y127HW',Click,far fa-hand-point-right,center,larger %}\n\n【资料下载】\n\nhttps://nenly.notion.site/017c3341c8b84a7ebb4c2cb16f36e28f\n\n# 软件及插件的安装\n\n​\t这里涉及到两个，一个是这个软件（绘世启动器及整个整合包），这个整个东西非常大，因此建议找一个空的盘安装；另一个是非常好用的ControlNet插件，第一次上手可以先跳过这一部分，等把软件搞明白了再来看插件。**我暂且推荐用我给你们的百度网盘链接下载安装**，因为我这个已经做好了非常好的汉化、UI改善和更新，并且具有了绝大部分的常用插件，非常方便。或者是根据秋葉的整合包下载安装（秋葉神中神），当然你可以在很多地方找到这个整合包，因为他是开源的，但是这会给后续的使用带来不便。\n\n## 绘世启动器&整合包安装\n\n### 下载\n\n​\t因为这个东西迭代更新速度很快，秋葉的大部分教程可能都还是version2、version3的软件，现在已经更新到version4.4了。可以考虑跟着他比较新的一个视频来进行安装。\n\n{% btn 'https://www.bilibili.com/video/BV1iM4y1y7oA',Click,far fa-hand-point-right,center,larger %}\n\n或者我这里也有一个v4.1的版本，安装完成之后可以进去直接更新，效果是一样的。\n\n链接：https://pan.baidu.com/s/1EIV7MvfHqQRMsJ8pAmUSMA \n提取码：72cj \n--来自百度网盘超级会员V4的分享\n\n### 安装\n\n以我发的百度网盘连接为例进行安装。下载完成之后大概是一个这样子的文件结构：\n\n```markdown\nsd-webui-aki\n\t|--可选controlnet1.1\n\t|--启动器运行依赖.exe\n\t|--sd-webui-aki-v4.1.zip\n```\n\n​\t双击启动器运行依赖.exe自动完成安装，然后解压v4.1.zip压缩包，找到下面的“A启动器.exe”，双击运行。启动完成后如下图所示，进入左边栏的“版本管理” - “内核” - “稳定版”，点击“切换”即可完成版本切换。（建议使用稳定版而不是开发版本）\n\n![](\\image\\微信图片_20231002123148.png)\n\n## ControlNet插件\n\n关于ControlNet插件的安装和使用，可以参考秋葉的这两个视频：\n\n初代：https://www.bilibili.com/video/BV1Wo4y1i77v\n\nv1.1版本：https://www.bilibili.com/video/BV1fa4y1G71W\n\n​\t如果你在之前启动器的下载中选择了我的百度网盘链接进行安装，那么想必肯定已经有controlnet1.1的文件夹了。其实就是跳过了初代版本的bag，直接更新了bag而已。\n\n* 我这里好像默认提供了controlnet的插件，你可以在“版本管理” - “扩展”中找一下是否有controlnet，如果有那么就代表没问题，更新一下即可。如果没有，请参照上文的第一个哔哩哔哩网址视频中**第30秒至第1分07秒**的内容进行插件安装。\n\n* 模型的安装可以直接参考第二个哔哩哔哩网址视频中**第2分18秒至第2分55秒**\n\n## AI绘画，启动！\n\n首先开启翻墙软件，然后开启A启动器，点击右下角的“一键启动”。之后会出现一个“控制台”，也就是一个类似于bash文件的东西。第一次启动所需时间可能较久，大概在2-3分钟左右。成功的标志是跳出一个网页。大概长这样：\n\n![](\\image\\微信图片_20231002125925.png)\n\n记得不要把控制台关掉哦~\n\n# 文生图创作技巧\n\n文生图创作是AI创作最基本的方式。这部分可以参考秋葉的文档：https://www.bilibili.com/read/cv22661198\n\n当然，这里我也会用我自己的语言详细说明。\n\n## 模型\n\n* **Stable Diffusion模型：**这个是AI绘画的大模型，一开始进入应该只有一个叫“anything……”什么的模型，这个是一个有名的二次元模型，直接用就好了。如果你是官方版本下载，可能是一个叫官方模组Stable Diffusion的东西。在后文我也会介绍更多的SD模型，相当于使用了不同的画风、不同的创作手法之类，如果你是大佬（大佬应该不会看我这篇文档）可以试试自己调教一个模型出来（就是机器学习的过程），但是本篇不做介绍。\n* **外挂vae模型：**目前你先直接选择animevae.pt即可\n\n## 标签（Tag&Prompt）\n\n* **正向提示词Prompt：**选择你想要的内容，英文表述，逗号分隔。比如你想要画面中有一个女的，就写`1girl`；想要画面以教室为背景，就写`classroom`，以此类推。\n* **反向提示词Negative Prompt：**选择你不想要的内容，比如一般可以有如下类似的描述（提供了两个模板）：\n\n```\n ((((ugly)))), (((duplicate))), ((morbid)), ((mutilated)), (((tranny))), (((trans))), (((trannsexual))), (hermaphrodite), [out of frame], extra fingers, mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), ((ugly)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))),out of frame, ugly, extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck)))\n```\n\n```\nlowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry \n```\n\n* **进阶使用：**以 girl 这个 Tag 作为例子\n  * (girl) 加权重，这里是1.1倍。括号是可以叠加的，如（(girl)) 加很多权重：1.1*1.1=1.21倍。\n  * [girl] 减权重，一般用的少。减权重也一般就用下面的指定倍数。\n  * (girl = 1.2)指定权重\n* **标签超市**\n  * https://tags.novelai.dev/\n  * https://ai.dawnmark.cn/\n  * 进入标签超市，可以根据你的喜好任意选择标签（自己打的时候不知道怎么表述，这里就提供了很多标签和预制的标签组合）这玩意儿的使用非常简单，因为个人觉得很多功能都不需要，只需要知道最基本的几个即可。\n  * 但是吧，我也不知道这个作者怎么想的，为什么感觉很多标签都这么变态啊…估计生产这玩意儿的是个技术高超的二刺猿宅男LSP，这我也莫得什么办法。\n\n![](\\image\\微信图片_20231003143640.png)\n\n```markdown\n高标准品质：best quality, masterpiece, highres,\n插画风格：paiting, illustration, drawing,\n二次元：anime, comic, game CG\n写实：photorealistic, realistic\nEmbeddings：ng_deepnegative_v1_75t, easynegative, EasyNegativeV2, negative_hand, negative_hand-neg, BadDream, Neg_Facelift768, badhandv4 （详见Embeddings章节）\n```\n\n## 其他\n\n* **迭代次数：**不需要太大，一般在50以内。通常20~28是一个不错的值。\n\n* **采样器：**采样器没有优劣之分，但是他们速度不同。全看个人喜好。UP主秋葉推荐的有\n  Euler A；DPM++ 2M Karras；DPM++SDE Karras\n  个人也用过DDIM，感觉也还可以。\n\n* **提示词相关性：**提示词相关性代表你输入的 Tag 对画面的引导程度有多大，可以理解为 “越小AI越自由发挥”\n\n  太大会出现锐化、线条变粗的效果。太小AI就自由发挥了，不看 Tag。一般设置在7~12之间。\n\n* **随机种子：**随机种子是 生成过程中所有随机性的源头 每个种子都是一幅不一样的画。默认的 -1 是代表每次都换一个随机种子。由随机种子，生成了随机的噪声图，再交给AI进行画出来。如果你之前跑了一张图感觉很好，想做微调，那么就把那张图的随机种子找出来（图片信息），然后复制进去。\n\n* 没讲到的东西少动点O.o\n\n## 图片尺寸\n\n* 请不要选择过大的图片尺寸，不然AI是跑不出来的。选择比较推荐的尺寸有：512×512；768×1024（或者再砍一半）；1024×768（或者再砍一半）。\n* 有人会问，如果我觉得太不清晰了怎么办？可以选择一个较小的尺寸，然后开启“高分辨率修复”，其中UP秋葉给出的推荐参数如下图所示：（放大倍数自己定，别太贪心把自己电脑炸了）这部分在本篇博客后续章节“图像の高清修复”中会更加详细地讲述。\n* **个人建议先选一个小尺寸**，这样子跑的时候就比较快。**如果跑出来一张你觉得比较好的比较喜欢，再点击后期处理**（我这个版本里是图像右下角一个三角尺的标志，叫什么send image … to extra tab；或者你可以在“文生图”边上找到“后期处理”），然后进行放大算法处理。\n* 当然小尺寸也有缺点，就是当尺寸过小时，很多细节都会跑不出来，这高清修复也修不了。如果电脑显存够建议跑1024左右大小的。\n\n![](\\image\\微信图片_20231002133105.png)\n\n## 启动！\n\n​\t自己随便放了几个关键词跑出来的一张图，整体看着还挺不错了。（其实我用了很多技巧呜呜呜，尤其是AI画手画的真的是一言难尽，天天给我整出六七根手指）想要真正让他跑出一个好图出来，确实很难。\n\n![](\\image\\s1.png)\n\n# ControlNet美化\n\n在网页的下方打开ControlNet，出现如下图所示的内容（具体格式可能每个人有差别，但大差不差，这里演示的是1.1版本）。\n\n![](\\image\\微信图片_20231002153828.png)\n\n​\t下面的操作想必大部分人看名字都能看懂什么意思，基本上就是控制**“预处理器影响效果的强弱”**。另外，低显存模式（在显存不够的时候降速）和允许预览应该都能理解，完美像素模式比较强大，大致就是会自动计算预处理的最优像素，建议勾选。\n\n​\t这里详细说明一下各个预处理器和模型的功能。这个插件的功能就是，把你的输入图片经过某个预处理器进行处理，得到一张效果图，然后网站在根据你这张效果图的指导生成新的图片。\n\n* 操作方式：根据你想要实现的效果选择对应的预处理器，然后选择与预处理器同名的模型，放入图片即可。\n\n* 更加详细的理解和应用可以参考Nenly的教程：\n\n{% btn 'https://www.bilibili.com/video/BV1Ds4y1e7ZB',Click,far fa-hand-point-right,center,larger %}\n\n* 这里会着重挑选几个常用的、易用的预处理器和使用方法进行讲解。（任何一个效果在第一次使用、生成的时候都会非常卡，这是正常的）\n\n## Openpose\n\nOpenpose预处理器是指导动作骨架，放入一张真人图片，然后他会根据真人图片生成骨骼，再根据骨骼指导人物动作来AI作画。如图所示：\n\n| 引导图                                  | 骨骼                        | 创作结果           |\n| --------------------------------------- | --------------------------- | ------------------ |\n| ![](\\image\\微信图片_20231002160402.png) | ![](\\image\\tmpjp_dhaa1.png) | ![](\\image\\s2.png) |\n\n​\t不同的Openpose预处理器可以产生不同的骨骼图，大家根据上面的英文后缀或者中文翻译应该都能非常好理解，比如是否带上手部动作、脸部表情等等。\n\n## Depth\n\nDepth顾名思义，深度。在一张图片中，计算机其实并不能很好的识别空间关系，经常把他当成二维图像来处理。举个例子，在Openpose预处理器中你选了一张手放在额头上的照片，但是AI跑出来手放在了后脑勺上。从骨骼图上讲，这两个是一样的，区别就是手和头部的空间关系。显然，单纯的Openpose并不具备空间处理的能力。\n\nDepth下也有很多预处理器，其中最强的是Leres++，但是相应的速度也会变慢。在空间关系不那么复杂的情况下，可以考虑使用Zoe或者Medas来处理图像。（比如上述照片，用Depth处理或许就能得到比Openpose更加好的结果）\n\n| 原图                 | 深度图（Medas）       | 创作结果             |\n| -------------------- | --------------------- | -------------------- |\n| ![](\\image\\back.png) | ![](\\image\\image.png) | ![](\\image\\home.png) |\n\n（看上去AI跑的没有原图牛逼，实际上不是AI的问题，是原图的pixiv画师太特么牛的）\n\n## Canny及其拓展\n\nCanny是一种边缘检测算法，致力于边缘检测、识别图像特征。在刚刚的Depth里面我们就可以看到，生成图少了很多的细节，这是因为Depth识别的是大体的空间关系，如果想要识别更加多的细节，那么就使用Canny吧。\n\n* Canny：将图像经过处理形成一张白底黑线的边缘图，然后根据边缘图和你的提示词来进行图片的生成。下面有两个阈值（Threshold）调节滑块，如果觉得线条太少就把阈值拉低，线条太多就把阈值拉高。\n* Invert：原理一样，但是有的时候我们使用的是白底黑线的素描线稿图（类似于你画的草稿），这个时候Canny由于算法的问题会识别的比较模糊，于是这个时候我们把预处理器改成Invert。\n* Lineart：暂时可以把这个理解为是Canny的全面升级。当然你要是要求不高用Canny也行。\n\n| 原图                 | 边缘线条图             | 创作结果               |\n| -------------------- | ---------------------- | ---------------------- |\n| ![](\\image\\back.png) | ![](\\image\\image2.png) | ![](\\image\\canny1.png) |\n\n## HED & SoftEdge\n\nHED是老版本，新版本（v1.1）里变成了SoftEdge，全称柔和边缘。SoftEdge生成出来的效果图要比Canny边缘更为柔和，因此在你认为Canny太过于拘束、写实的时候可以尝试用SoftEdge，提取一些更为关键的边缘信息，忽略不重要的边缘信息。这样做出来的图更加柔和，关系更加稳定一些。\n\n这里面的四个预处理器，HED的质量比Pid更高，Safe是精简版的意思。\n\n| 原图                                    | 边缘图                 | 创作结果           |\n| :-------------------------------------- | :--------------------- | ------------------ |\n| ![](\\image\\微信图片_20231002160402.png) | ![](\\image\\image3.png) | ![](\\image\\SE.png) |\n\n## Scribble\n\n原意涂鸦乱画，这个就是当初非常惊艳我们的随便画几笔就能生成图片的那个工具了。自己在PS里面随便画几笔，文本中输出不那么多的限定性不强的提示词，就能够生成 非常具有创造力的图片了。注意，Scribble也是黑底白线的模式，所以如果使用了白底黑线，那么请使用Invert处理器。\n\n| 原图（也可以手绘）      | 边缘图                 | 创作结果            |\n| ----------------------- | ---------------------- | ------------------- |\n| ![](\\image\\Back_Li.jpg) | ![](\\image\\image4.png) | ![](\\image\\cyb.png) |\n\n## Tile\n\n增加局部细节，根据画面自动推断内容，修复放大分辨率而导致的细节丢失。\n\n| before                | after                  |\n| --------------------- | ---------------------- |\n| ![](\\image\\after.png) | ![](\\image\\before.png) |\n\n## Multiple - ControlNet\n\n多重控制网，可以同时加载多个ControlNet预处理器，以达到他们功能和优缺点的互补。\n\n​\t比如上文中提到的Openpose的缺陷，就可以使用Openpose+Depth的双重控制来实现。同一张图，在两个Union中分别用Openpose和Depth来跑，并降低次要预处理器的权重系数（比如这里把Depth权重降为0.5左右），就可以实现手放在额头上，并且人物肢体动作被Openpose规定的效果了。\n\n​\t并非任意两个效果都可以叠加，需要注意他们的相性。除了上文提及的，其余常用的组合还有比如Depth+Canny，Openpose+SoftEdge等。\n\n# SD模型\n\n​\t模型，就是在创作页面中最左上角的Stable Diffusion模型了。一个模型对应的就是一组训练集，喂给AI不同风格的图片加以训练就能产生不同风格的AI画风，想要改变画风就可以改变模型。\n\n​\t右侧外挂的vae模型相当于是滤镜，不同的画风适配不同的滤镜，我推荐去网上下载一个“kl-f8-anime2”（直接在C站搜索就行），这个是比较普适的滤镜，对于大部分（二次元）模型都能有不错的效果。此外初始提供的anime的vae也是一个普适的二次元画风。下载我的安装包的同学会发现里面自带了一个“vae-ft-mse-840000”的vae，这个对很多非二次元画风也有很好的作用。市面上有些比较有名的模型可能会自带vae。\n\n## 模型下载网站\n\n### Hugging Face 抱脸\n\n网址：https://huggingface.co\n\n找后缀名为ckpt的下载（当然也有些模型不是以ckpt作为后缀，详见Nenly的教程）\n\n### C站 Civitai\n\n（可以不注册使用，注册的话注意一下身体顶不顶得住）\n\nModel Type直接选择CheckPoint就行，其他不用管，选自己喜欢的。\n\n### Nenly大佬提供\n\nhttps://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely\n\n大家可以进这个链接进行下载，其中模型部分是SD04，选择自己需要的下载即可，不然你的电脑会爆掉。他提供了下面我说的这几个常用模型。\n\n## 分类\n\n### 二次元类\n\n偏漫画、插画风格，具有比较鲜明的绘画笔触质感\n\n1. Anything V5 （中文名万象熔炉，就是一开始我让大噶选的）\n2. Counterfeit（精致感很好，细节还原程度高）\n3. Dreamlike Diffusion（比较具有科幻、梦幻色彩，带一点点赛博的感觉）\n4. Abyss Orange Mix（中文名深渊橘/橙，经典有名的二次元风格模型）\n\n### 真实系\n\n拟真化程度高，对现实世界还原较好\n\n1. Deliberate（目前最好的真实系模型之一，细节和质感都不错）\n2. Realistic Vision（更加朴素的写实类模型）\n3. LOFI（精致的照片级别人像专精模型）\n4. Film Grain 2.0（胶片颗粒2.0）\n   1. 是大佬Hello World模型的上一版，可惜我Hello World SDXL老是报错，退而求其次了\n   2. 建议使用Negative hand这个Embedding\n5. Majic 橘麦写实V2.5（用了几次，感觉真不行）\n   1. 不要开脸部修复AD etailer\n   2. 推荐关键词：`Best quality, masterpiece, ultra high res, (photorealistic:1.4), 1girl`\n   3. 推荐负面关键词：`ng_deepnegative_v1_75t, badhandv4`\n   5. 脸部修复的方法 to inpaint the face: inpaint-->only masked-->set to 512x512-->Denoising strength:0.2~0.5\n\n### 2.5D\n\n类似建模软件的三维渲染图，三渲二那种感觉\n\n1. NeverEnding Dream（接近三次元的2.5D模型，适合游戏中精致的人物建模）\n2. Protogen（优秀的照片效果和创意发挥空间）\n3. GuoFeng3（国风、古风主题模型，国人的优秀作品）\n4. MengX_Mix_Fantacy（偏向幻想风格的模型，偏向真人一点）\n   1. 建议使用插件：ADetailer 来进行面部和手部修复\n   2. 负面关键词 ：`(ng_deepnegative_v1_75t),(badhandv4),(worst quality:2),(low quality:2),(normal quality:2),lowres,bad anatomy,bad hands,normal quality,((monochrome)),((grayscale)),`\n\n\n## 实验\n\n这里用同一张农夫山泉跑了几组类似的图（如果是农夫山泉的话…）\n\n| 二次元：万象熔炉+kl-f8              | 二次元：DreamLike+animevae         | 二次元：深渊橘V3+kl-f8          |\n| ----------------------------------- | ---------------------------------- | ------------------------------- |\n| ![](\\image\\农夫山泉2.png)           | ![](\\image\\农夫山泉_DreamLike.png) | ![](\\image\\农夫山泉_深渊橘.png) |\n| **2.5D风：国风3+kl-f8**             | **2.5D风：NE Dream+kl-f8**         |                                 |\n| ![](\\image\\农夫山泉_国风.png)       | ![](\\image\\农夫山泉_NED.png)       |                                 |\n| **真实系：Deliberate+84000**        | **真实系：LOFI+84000**             |                                 |\n| ![](\\image\\农夫山泉_Deliberate.png) | ![](\\image\\农夫山泉_LF.png)        |                                 |\n\n# 图像の高清修复\n\n## 高清修复（Hires.fix）\n\n​\t正如上文所言，我推荐你在一个低分辨率的情况下跑AI进行抽卡，当你抽中一张比较符合你内心想法的画作的时候，就可以丢到文生图下方的高分辨率修复里面去了。使用方法很简单，把你喜欢的跑图的种子复制进来以确保产生的图几乎类似，然后开高清修复，尺寸可以用倍数设置也可以用分辨率设置。\n\n* 放大算法：各种放大算法在经过实验之后得出的结论是没有什么区别，几乎都长差不多。比较推荐的有Legan、R-ESRGAN、R-ESRGAN Anime6B（这个适合二次元），当然你可以选别的自己尝试，反正大差不差。\n\n* 采样步数：高清修复相当于重绘，因此同样需要设置采样步数。设置为默认0的话则采用与图像生成一样的采样步数。\n\n* 重绘幅度：如果跟原图偏差不想太大，选0.3 ~ 0.5；想稍微变一点让AI自由创作一些，选0.5 ~ 0.7。太小会使细节不够，太大有几率会出现奇怪现象。\n\n## 后期处理/附加功能\n\n这个就在文生图/图生图边上，操作方法不用人讲应该都能看懂：设置一个放大倍数和一个放大算法，剩下的全部维持默认一个别管。\n\n优点：跑得快，时间短\n\n缺点：精细程度较低\n\n特点：相当于重绘幅度为0的重绘，有点类似于PS的放大再锐化\n\n## SD Upscale脚本\n\n* 优点：显存小也能出大图；缺点：跑的比较慢。\n* 脚本的安装：进入网页最右侧的扩展，从网页下载，输入下方链接进行安装，完成后重启网页UI。\n\nhttps://github.com/Coyote-A/ultimate-upscale-for-automatic1111\n\n* 在图生图模式的最下方可以找到脚本，选择SD Upscale进入。自定义尺寸、选择放大算法不再赘述。\n* 蒙版边缘模糊程度：这个东西的原理是把一张大图切割成不同的小图去跑，这个参数越大相当于两张图重叠越大，过渡越柔和，但是也不应该太大，一般32 ~ 128是一个较好的值。\n\n| 原图                 | 结果图              |\n| -------------------- | ------------------- |\n| ![](\\image\\home.png) | ![](\\image\\SDU.png) |\n\n# 小模型\n\n在之前我们介绍过了SD模型，其后缀通常为CheckPoint，机翻为检查点，实际含义也就是大模型。而除了大模型之外，我们还可以使用小模型，恰到好处地美化AI图片，解决诸如AI不会画手在内的一系列难题。\n\n## Embeddings 文本嵌入\n\n​\t这个东西在机器学习中被称为嵌入式向量，在C站中可以使用Textual Invention来检索它。这是一个仅有KB级别大小的文件，直接丢在Embeddings文件夹，并在图像生成时输入对应的一个关键词即可。这个相当于是一个小小的扩展，帮助AI了解某个特定的词语。比如AI被喂了人和鱼的信息，但是不知道美人鱼是什么，这时候特定的Embedding就会告诉他，这是一个“上半身女人，下班人鱼尾”的生物。\n\n* 一个很好用的例子：解决手部错乱\n\n​\t网上有非常多著名的Embeddings都是为了解决手部问题而生，他们记录了一系列手部错误的集合，然后只需要把他们加入**负面提示词**内，即可将这个问题得到极大地改善。推荐几个：\n\n1. EasyNegative：主要针对二次元画风，关键词为`easynegative`，`EasyNegativeV2`\n2. DeepNegative：主要针对真人模型，关键词为`ng_deepnegative_v1_75t`\n3. Negative-Hand：关键词为`negative_hand`，`negative_hand-neg`\n3. badhandv4：关键词为`badhandv4`\n\n## LoRa 低秩适应模式\n\n​\tLoRa相比于上面的Embeddings，更着重于人物。比如说我想让AI帮我画一个嘉然（然然…嘿嘿我的嘉然…），但是这玩意儿肯定不是像美人鱼一样两三句话说得清的，于是就有作者专门针对嘉然构建了一个训练集。LoRa文件丢在models文件夹下的lora文件夹内，并在使用时加入`<lora: LoRa_Name:0.8>`这样的方式来调用，建议不要把提示强度开太高（大部分作者建议是0.5~0.8），不然容易影响画风。\n\n​\t可以考虑安装插件Additional Network，可以以一种可视化非常好的方式调用LoRa。此外，建议**详细研读LoRa作者的作图建议**。\n\n​\t这里下载了C站上一个下载量比较高的嘉然模型（触发关键词为`jiaran`），和另一个小众的嘉然常服训练集（无触发词），试一下。\n\n| 图1                     | 图2                     |\n| ----------------------- | ----------------------- |\n| ![](\\image\\Jiaran1.png) | ![](\\image\\jiaran2.png) |\n\n​\t根据Nenly的教程，LoRa基本上可以分为五种应用，即：\n\n1. 人物角色形象塑造：最常用的功能，比如上面的嘉然，一般来讲提示词强度开到0.7上下\n2. 画风/风格塑造：比如宫崎骏画风等，影响出图整体效果，一般提示词强度开到0.3上下\n3. 概念/构图：不太好描述，比如说画面变成抽卡立绘的感觉、角色呆在水晶球玻璃瓶的构图这样，一般不开太高\n4. 服饰：改变角色服饰，一般提示词强度开到0.2-0.3\n5. 物体/特定元素，常用于图生图局部重绘，改变特定部分的风格，一般不开太高\n\n### My LoRa\n\n1. 嘉然`Jiaran`\n2. 嘉然-常服`Jiaran_Changfu`\n   1. 数值在0.5-0.7之间最佳\n3. 细节修复`Detail Tweaker`\n   1. Based Model: SD1.5\n   2. 权重可以是-2到2之间的任何值，负值可以减少细节\n4. 细节增加`Detail Enhancer`\n   1. Based Model: SD1.5\n   2. 权重推荐在0.5上下，小于0.5可以获得比较微妙的效果。1太高了。\n5. 胶片风格`LEOSAM's FilmGirl`\n   1. Based Model: Hello World SDXL\n   2. 这是用于生成胶片风格AI写真照片的LoHA & LoRA模型，可以生成逼真的胶片风格照片。可以搭配`negative_hand`的Embedding\n   3. 常用的CFG范围是6 ~ 7，Lora权重通常在0.5 ~ 0.7\n   5. Clip skip设为1或2时，生成的效果会有所不同，看自己喜欢哪种风格\n6. 塔罗牌风格`taro`\n   1. 可以用`{} background`来设置背景，如`blue background`\n   2. 推荐使用Embedding：`EasyNegative, badhandv4`\n   3. 推荐强度：0.8~1\n   4. Based Model: 万象熔炉 & 深渊橘\n7. 服装调节器\n   1. 权重设置在-1到1之间，权重越大，对象衣物越少\n   2. 跟LoRa5、Hello World SDHX模型是同一个大佬发布的\n8. 带背景立绘`tachi-e`\n   1. 一般使用`wight background, full doby, looking at viewers`提示词\n   2. 触发词`tachi-e`，一般权重可以直接设置成1\n9. 弹弓泳衣`slingshot swimsuit`\n   1. 建议Clip Skip：2\n   2. 强度似乎是1 ~ 1.2？自己感觉0.8左右别大于1\n10. 人物美化Cute Girl`mix4`\n    1. 推荐强度0.4~0.7\n11. 亚洲女性脸模`MengX girl_Mix_V40`\n    1. 推荐强度0.7~1.0\n    2. 务必打开ADetailer插件使用\n    3. 可以尝试在提示词中增加blush，或许能更加可爱、少女\n12. 私房写真风的泛用少女感混血脸`shojovibe_v11`\n    1. 推荐强度0.6-0.8\n13. 八重神子\n    1. 应我室友要求搞的，被80了呜呜呜\n    2. 推荐提示词强度：0.45-0.75\n14. 液体波浪概念衣服\n    1. 触发词：`liquid clothes, water`\n    2. 可用提示词：`blue theme, blue dress, waves, sea, water, water dress`，甚至`liquid hair`和`sky_print`\n15. 露西（赛博朋克边缘行者）\n    1. 提示词强度0.65左右，最大1（1有点小大）\n    2. 建议提示词：`(robot joints:0.5), mechanical parts, lucy \\(cyberpunk\\), jacket, shorts`\n16. 素体机娘\n    1. 建议提示词：`mecha musume, mechanical arms, headgear, bodysuit (可选)`\n    2. 提示词强度:1-1.5\n17. Oversized Clothes\n    1.  LORA 权重：建议为 0.2-0.7（我在图像中使用了 0.5）\n    2. 关键词：`oversized_hoodie`、`oversized_sweater`\n\n\n\n\n## HyperNetwork\n\n​\t中文名：超网络，一般用于改善整体画风。一般来讲用的比较少，业内风评也相对一般。这里举一个著名的例子，C站的“Waven Chibi Style”，开启后可以获得非常Q版的图像。开启方式：将HyperNetwork文件丢在对应的文件夹内，然后在网页UI的设置界面中选择超网络。\n\n# 局部重绘\n\n字面意思很好理解，用于修正那些大题都非常满意，细节不太行的图。\n\n## 图生图局部重绘\n\n蒙版边缘模糊=羽化（10以下的非0值），蒙版边缘预留像素=扩展+融合（默认32，修改区域大就开大，反之减小）\n\n蒙版区域内容处理：选择“填充”可以使变化自由一些。\n\n重绘区域：一般建议修改区域大可以选整张图片，区域小选仅蒙版。\n\n## 图生图涂鸦重绘\n\n比局部重绘多了一个调色盘，意思就是说你画上去的东西会影响他的生成。比如你想在原有美女的脸上画一个带白色爱心的蓝色口罩，那你就可以自己简单用蓝色画一个口罩，再用白色画一个爱心即可。这样引导性会更强一些。记得修改提示词。\n\n# 插件\n\nhttps://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely\n\n其中插件是SD08\n\n## Trigger\n\n根据图画反推提示词，跟图生图里的类似但效果更好，但是不知道为什么我找不到这玩意儿。\n\n## LLUL\n\n局部细节重绘，使用方法跟图像放大类似。\n\n## Cut Off\n\n使用一些非常精细的描述（比如非常准确地描述人物穿搭），常常会使AI产生误判。将这些提示词丢到Cut Off里面可以大大减少AI误判程度。\n\n## AD etailer\n\nhttps://github.com/Bing-su/adetailer\n\n着重人脸修复。提示词直接复制模型提示词即可。\n\n| 模型                  | 适用对象      |\n| --------------------- | ------------- |\n| face_yolov8n.pt       | 2D / 真实人脸 |\n| face_yolov8s.pt       | 2D / 真实人脸 |\n| hand_yolov8n.pt       | 2D / 真实人手 |\n| person_yolov8n-seg.pt | 2D / 真实全身 |\n| person_yolov8s-seg.pt | 2D/真实全身   |\n| mediapipe_face_full   | 真实人脸      |\n| mediapipe_face_short  | 真实人脸      |\n| mediapipe_face_mesh   | 真实人脸      |\n","slug":"AI绘画","published":1,"updated":"2023-10-17T14:01:34.826Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0300019kth98rj9rd3","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"引言\">引言</h1>\r\n<ul>\r\n<li><p>Stable\r\nDiffusion是一个极其强大的AI绘画工具整合包（开源项目），大菩萨UP主秋葉aaaki根据整合包创作了一个非常牛逼的网页启动器，包含了版本更新、插件下载、报错检测等等，并涵盖了很多插件；而大佛祖UP主Nenly同学上传了一套极为详细的使用教程。因为现在AI绘画的行业还处在起步的阶段，行业内并不规范，因此这里仅以秋葉aaaki提供的启动器和整合包进行创作，更复杂的我也不会。在机缘巧合之下我才接触到这个神奇的东西，因为之前一直没有关注、没有实践，所以现在尝试一下纯小白上手，绘制出属于自己的AI画作。</p></li>\r\n<li><p>相比于教程，本篇更像是一个个人使用的经历。因此暂时只涉及AI绘画的尝试，并不涉及模型调教（带佬可以试试自己跑一个模型出来）</p></li>\r\n<li><p>推荐关注UP主“秋葉aaaki”和“Nenly同学”，以及这里放一些他们的教程合集。本篇博客以秋葉提供的整合包做安装和基本入门，加以Nenly的更为细致的教学。</p></li>\r\n</ul>\r\n<hr />\r\n<ul>\r\n<li>秋葉aaaki</li>\r\n</ul>\r\n<p>【前置要求】</p>\r\n<p>一个流畅的翻墙软件，在很多地方，这个东西需要科学上网。</p>\r\n<p>【新手快速入门】<br />\r\n全套入门教程：https://www.bilibili.com/read/cv22159609<br />\r\n快速入门生成图片：https://www.bilibili.com/read/cv22661198<br />\r\n模型安装使用教程：https://www.bilibili.com/read/cv21362202<br />\r\n2023年4月模型分享：https://www.bilibili.com/video/BV1em4y1z7Dg</p>\r\n<p>【常用网站】<br />\r\nAI 作图知识库(教程): https://guide.novelai.dev/<br />\r\n标签超市(解析组合): https://tags.novelai.dev/<br />\r\n原图提取标签: https://spell.novelai.dev/</p>\r\n<p>【细致教程】<br />\r\n入门参数设置基础：https://guide.novelai.dev/guide/configuration/param-basic<br />\r\n常见安装问题: https://guide.novelai.dev/s/troubleshooting/install<br />\r\n常见跑图问题: https://guide.novelai.dev/s/troubleshooting/generate<br />\r\n怎么写提示词？\r\nhttps://guide.novelai.dev/advanced/prompt-engineering/<br />\r\n怎么训练模型？ https://guide.novelai.dev/advanced/finetuning/<br />\r\n最新消息: https://guide.novelai.dev/newsfeed</p>\r\n<p>【问题速查】<br />\r\n- CUDA out of memory： 炸显存 换启动参数 换显卡<br />\r\n- DefaultCPUAllocator: 炸内存 加虚拟内存 加内存条<br />\r\n- CUDA driver initialization failed: 装CUDA驱动<br />\r\n- Training models with lowvram not possible: 这点显存还想炼丹？<br />\r\n- WinError 5: 建议重装电脑，或者等下一个整合包</p>\r\n<hr />\r\n<ul>\r\n<li>Nenly同学</li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1As4y127HW\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<p>【资料下载】</p>\r\n<p>https://nenly.notion.site/017c3341c8b84a7ebb4c2cb16f36e28f</p>\r\n<h1 id=\"软件及插件的安装\">软件及插件的安装</h1>\r\n<p>​\r\n这里涉及到两个，一个是这个软件（绘世启动器及整个整合包），这个整个东西非常大，因此建议找一个空的盘安装；另一个是非常好用的ControlNet插件，第一次上手可以先跳过这一部分，等把软件搞明白了再来看插件。<strong>我暂且推荐用我给你们的百度网盘链接下载安装</strong>，因为我这个已经做好了非常好的汉化、UI改善和更新，并且具有了绝大部分的常用插件，非常方便。或者是根据秋葉的整合包下载安装（秋葉神中神），当然你可以在很多地方找到这个整合包，因为他是开源的，但是这会给后续的使用带来不便。</p>\r\n<h2 id=\"绘世启动器整合包安装\">绘世启动器&amp;整合包安装</h2>\r\n<h3 id=\"下载\">下载</h3>\r\n<p>​\r\n因为这个东西迭代更新速度很快，秋葉的大部分教程可能都还是version2、version3的软件，现在已经更新到version4.4了。可以考虑跟着他比较新的一个视频来进行安装。</p>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1iM4y1y7oA\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<p>或者我这里也有一个v4.1的版本，安装完成之后可以进去直接更新，效果是一样的。</p>\r\n<p>链接：https://pan.baidu.com/s/1EIV7MvfHqQRMsJ8pAmUSMA<br />\r\n提取码：72cj<br />\r\n--来自百度网盘超级会员V4的分享</p>\r\n<h3 id=\"安装\">安装</h3>\r\n<p>以我发的百度网盘连接为例进行安装。下载完成之后大概是一个这样子的文件结构：</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sd-webui-aki</span><br><span class=\"line\"><span class=\"code\">\t|--可选controlnet1.1</span></span><br><span class=\"line\"><span class=\"code\">\t|--启动器运行依赖.exe</span></span><br><span class=\"line\"><span class=\"code\">\t|--sd-webui-aki-v4.1.zip</span></span><br></pre></td></tr></table></figure>\r\n<p>​\r\n双击启动器运行依赖.exe自动完成安装，然后解压v4.1.zip压缩包，找到下面的“A启动器.exe”，双击运行。启动完成后如下图所示，进入左边栏的“版本管理”\r\n- “内核” -\r\n“稳定版”，点击“切换”即可完成版本切换。（建议使用稳定版而不是开发版本）</p>\r\n<p><img src=\"\\image\\微信图片_20231002123148.png\" /></p>\r\n<h2 id=\"controlnet插件\">ControlNet插件</h2>\r\n<p>关于ControlNet插件的安装和使用，可以参考秋葉的这两个视频：</p>\r\n<p>初代：https://www.bilibili.com/video/BV1Wo4y1i77v</p>\r\n<p>v1.1版本：https://www.bilibili.com/video/BV1fa4y1G71W</p>\r\n<p>​\r\n如果你在之前启动器的下载中选择了我的百度网盘链接进行安装，那么想必肯定已经有controlnet1.1的文件夹了。其实就是跳过了初代版本的bag，直接更新了bag而已。</p>\r\n<ul>\r\n<li><p>我这里好像默认提供了controlnet的插件，你可以在“版本管理” -\r\n“扩展”中找一下是否有controlnet，如果有那么就代表没问题，更新一下即可。如果没有，请参照上文的第一个哔哩哔哩网址视频中<strong>第30秒至第1分07秒</strong>的内容进行插件安装。</p></li>\r\n<li><p>模型的安装可以直接参考第二个哔哩哔哩网址视频中<strong>第2分18秒至第2分55秒</strong></p></li>\r\n</ul>\r\n<h2 id=\"ai绘画启动\">AI绘画，启动！</h2>\r\n<p>首先开启翻墙软件，然后开启A启动器，点击右下角的“一键启动”。之后会出现一个“控制台”，也就是一个类似于bash文件的东西。第一次启动所需时间可能较久，大概在2-3分钟左右。成功的标志是跳出一个网页。大概长这样：</p>\r\n<p><img src=\"\\image\\微信图片_20231002125925.png\" /></p>\r\n<p>记得不要把控制台关掉哦~</p>\r\n<h1 id=\"文生图创作技巧\">文生图创作技巧</h1>\r\n<p>文生图创作是AI创作最基本的方式。这部分可以参考秋葉的文档：https://www.bilibili.com/read/cv22661198</p>\r\n<p>当然，这里我也会用我自己的语言详细说明。</p>\r\n<h2 id=\"模型\">模型</h2>\r\n<ul>\r\n<li><strong>Stable\r\nDiffusion模型：</strong>这个是AI绘画的大模型，一开始进入应该只有一个叫“anything……”什么的模型，这个是一个有名的二次元模型，直接用就好了。如果你是官方版本下载，可能是一个叫官方模组Stable\r\nDiffusion的东西。在后文我也会介绍更多的SD模型，相当于使用了不同的画风、不同的创作手法之类，如果你是大佬（大佬应该不会看我这篇文档）可以试试自己调教一个模型出来（就是机器学习的过程），但是本篇不做介绍。</li>\r\n<li><strong>外挂vae模型：</strong>目前你先直接选择animevae.pt即可</li>\r\n</ul>\r\n<h2 id=\"标签tagprompt\">标签（Tag&amp;Prompt）</h2>\r\n<ul>\r\n<li><strong>正向提示词Prompt：</strong>选择你想要的内容，英文表述，逗号分隔。比如你想要画面中有一个女的，就写<code>1girl</code>；想要画面以教室为背景，就写<code>classroom</code>，以此类推。</li>\r\n<li><strong>反向提示词Negative\r\nPrompt：</strong>选择你不想要的内容，比如一般可以有如下类似的描述（提供了两个模板）：</li>\r\n</ul>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">((((ugly)))), (((duplicate))), ((morbid)), ((mutilated)), (((tranny))), (((trans))), (((trannsexual))), (hermaphrodite), [out of frame], extra fingers, mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), ((ugly)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))),out of frame, ugly, extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck)))</span><br></pre></td></tr></table></figure>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry </span><br></pre></td></tr></table></figure>\r\n<ul>\r\n<li><strong>进阶使用：</strong>以 girl 这个 Tag 作为例子\r\n<ul>\r\n<li>(girl) 加权重，这里是1.1倍。括号是可以叠加的，如（(girl))\r\n加很多权重：1.1*1.1=1.21倍。</li>\r\n<li>[girl] 减权重，一般用的少。减权重也一般就用下面的指定倍数。</li>\r\n<li>(girl = 1.2)指定权重</li>\r\n</ul></li>\r\n<li><strong>标签超市</strong>\r\n<ul>\r\n<li>https://tags.novelai.dev/</li>\r\n<li>https://ai.dawnmark.cn/</li>\r\n<li>进入标签超市，可以根据你的喜好任意选择标签（自己打的时候不知道怎么表述，这里就提供了很多标签和预制的标签组合）这玩意儿的使用非常简单，因为个人觉得很多功能都不需要，只需要知道最基本的几个即可。</li>\r\n<li>但是吧，我也不知道这个作者怎么想的，为什么感觉很多标签都这么变态啊…估计生产这玩意儿的是个技术高超的二刺猿宅男LSP，这我也莫得什么办法。</li>\r\n</ul></li>\r\n</ul>\r\n<p><img src=\"\\image\\微信图片_20231003143640.png\" /></p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">高标准品质：best quality, masterpiece, highres,</span><br><span class=\"line\">插画风格：paiting, illustration, drawing,</span><br><span class=\"line\">二次元：anime, comic, game CG</span><br><span class=\"line\">写实：photorealistic, realistic</span><br><span class=\"line\">Embeddings：ng<span class=\"emphasis\">_deepnegative_</span>v1<span class=\"emphasis\">_75t, easynegative, EasyNegativeV2, negative_</span>hand, negative<span class=\"emphasis\">_hand-neg, BadDream, Neg_</span>Facelift768, badhandv4 （详见Embeddings章节）</span><br></pre></td></tr></table></figure>\r\n<h2 id=\"其他\">其他</h2>\r\n<ul>\r\n<li><p><strong>迭代次数：</strong>不需要太大，一般在50以内。通常20~28是一个不错的值。</p></li>\r\n<li><p><strong>采样器：</strong>采样器没有优劣之分，但是他们速度不同。全看个人喜好。UP主秋葉推荐的有<br />\r\nEuler A；DPM++ 2M Karras；DPM++SDE Karras<br />\r\n个人也用过DDIM，感觉也还可以。</p></li>\r\n<li><p><strong>提示词相关性：</strong>提示词相关性代表你输入的 Tag\r\n对画面的引导程度有多大，可以理解为 “越小AI越自由发挥”</p>\r\n<p>太大会出现锐化、线条变粗的效果。太小AI就自由发挥了，不看\r\nTag。一般设置在7~12之间。</p></li>\r\n<li><p><strong>随机种子：</strong>随机种子是 生成过程中所有随机性的源头\r\n每个种子都是一幅不一样的画。默认的 -1\r\n是代表每次都换一个随机种子。由随机种子，生成了随机的噪声图，再交给AI进行画出来。如果你之前跑了一张图感觉很好，想做微调，那么就把那张图的随机种子找出来（图片信息），然后复制进去。</p></li>\r\n<li><p>没讲到的东西少动点O.o</p></li>\r\n</ul>\r\n<h2 id=\"图片尺寸\">图片尺寸</h2>\r\n<ul>\r\n<li>请不要选择过大的图片尺寸，不然AI是跑不出来的。选择比较推荐的尺寸有：512×512；768×1024（或者再砍一半）；1024×768（或者再砍一半）。</li>\r\n<li>有人会问，如果我觉得太不清晰了怎么办？可以选择一个较小的尺寸，然后开启“高分辨率修复”，其中UP秋葉给出的推荐参数如下图所示：（放大倍数自己定，别太贪心把自己电脑炸了）这部分在本篇博客后续章节“图像の高清修复”中会更加详细地讲述。</li>\r\n<li><strong>个人建议先选一个小尺寸</strong>，这样子跑的时候就比较快。<strong>如果跑出来一张你觉得比较好的比较喜欢，再点击后期处理</strong>（我这个版本里是图像右下角一个三角尺的标志，叫什么send\r\nimage … to extra\r\ntab；或者你可以在“文生图”边上找到“后期处理”），然后进行放大算法处理。</li>\r\n<li>当然小尺寸也有缺点，就是当尺寸过小时，很多细节都会跑不出来，这高清修复也修不了。如果电脑显存够建议跑1024左右大小的。</li>\r\n</ul>\r\n<p><img src=\"\\image\\微信图片_20231002133105.png\" /></p>\r\n<h2 id=\"启动\">启动！</h2>\r\n<p>​\r\n自己随便放了几个关键词跑出来的一张图，整体看着还挺不错了。（其实我用了很多技巧呜呜呜，尤其是AI画手画的真的是一言难尽，天天给我整出六七根手指）想要真正让他跑出一个好图出来，确实很难。</p>\r\n<p><img src=\"\\image\\s1.png\" /></p>\r\n<h1 id=\"controlnet美化\">ControlNet美化</h1>\r\n<p>在网页的下方打开ControlNet，出现如下图所示的内容（具体格式可能每个人有差别，但大差不差，这里演示的是1.1版本）。</p>\r\n<p><img src=\"\\image\\微信图片_20231002153828.png\" /></p>\r\n<p>​\r\n下面的操作想必大部分人看名字都能看懂什么意思，基本上就是控制<strong>“预处理器影响效果的强弱”</strong>。另外，低显存模式（在显存不够的时候降速）和允许预览应该都能理解，完美像素模式比较强大，大致就是会自动计算预处理的最优像素，建议勾选。</p>\r\n<p>​\r\n这里详细说明一下各个预处理器和模型的功能。这个插件的功能就是，把你的输入图片经过某个预处理器进行处理，得到一张效果图，然后网站在根据你这张效果图的指导生成新的图片。</p>\r\n<ul>\r\n<li><p>操作方式：根据你想要实现的效果选择对应的预处理器，然后选择与预处理器同名的模型，放入图片即可。</p></li>\r\n<li><p>更加详细的理解和应用可以参考Nenly的教程：</p></li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1Ds4y1e7ZB\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<ul>\r\n<li>这里会着重挑选几个常用的、易用的预处理器和使用方法进行讲解。（任何一个效果在第一次使用、生成的时候都会非常卡，这是正常的）</li>\r\n</ul>\r\n<h2 id=\"openpose\">Openpose</h2>\r\n<p>Openpose预处理器是指导动作骨架，放入一张真人图片，然后他会根据真人图片生成骨骼，再根据骨骼指导人物动作来AI作画。如图所示：</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 46%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 21%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>引导图</th>\r\n<th>骨骼</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\微信图片_20231002160402.png\" /></td>\r\n<td><img src=\"\\image\\tmpjp_dhaa1.png\" /></td>\r\n<td><img src=\"\\image\\s2.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>​\r\n不同的Openpose预处理器可以产生不同的骨骼图，大家根据上面的英文后缀或者中文翻译应该都能非常好理解，比如是否带上手部动作、脸部表情等等。</p>\r\n<h2 id=\"depth\">Depth</h2>\r\n<p>Depth顾名思义，深度。在一张图片中，计算机其实并不能很好的识别空间关系，经常把他当成二维图像来处理。举个例子，在Openpose预处理器中你选了一张手放在额头上的照片，但是AI跑出来手放在了后脑勺上。从骨骼图上讲，这两个是一样的，区别就是手和头部的空间关系。显然，单纯的Openpose并不具备空间处理的能力。</p>\r\n<p>Depth下也有很多预处理器，其中最强的是Leres++，但是相应的速度也会变慢。在空间关系不那么复杂的情况下，可以考虑使用Zoe或者Medas来处理图像。（比如上述照片，用Depth处理或许就能得到比Openpose更加好的结果）</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>深度图（Medas）</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\back.png\" /></td>\r\n<td><img src=\"\\image\\image.png\" /></td>\r\n<td><img src=\"\\image\\home.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>（看上去AI跑的没有原图牛逼，实际上不是AI的问题，是原图的pixiv画师太特么牛的）</p>\r\n<h2 id=\"canny及其拓展\">Canny及其拓展</h2>\r\n<p>Canny是一种边缘检测算法，致力于边缘检测、识别图像特征。在刚刚的Depth里面我们就可以看到，生成图少了很多的细节，这是因为Depth识别的是大体的空间关系，如果想要识别更加多的细节，那么就使用Canny吧。</p>\r\n<ul>\r\n<li>Canny：将图像经过处理形成一张白底黑线的边缘图，然后根据边缘图和你的提示词来进行图片的生成。下面有两个阈值（Threshold）调节滑块，如果觉得线条太少就把阈值拉低，线条太多就把阈值拉高。</li>\r\n<li>Invert：原理一样，但是有的时候我们使用的是白底黑线的素描线稿图（类似于你画的草稿），这个时候Canny由于算法的问题会识别的比较模糊，于是这个时候我们把预处理器改成Invert。</li>\r\n<li>Lineart：暂时可以把这个理解为是Canny的全面升级。当然你要是要求不高用Canny也行。</li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 31%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 34%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>边缘线条图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\back.png\" /></td>\r\n<td><img src=\"\\image\\image2.png\" /></td>\r\n<td><img src=\"\\image\\canny1.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"hed-softedge\">HED &amp; SoftEdge</h2>\r\n<p>HED是老版本，新版本（v1.1）里变成了SoftEdge，全称柔和边缘。SoftEdge生成出来的效果图要比Canny边缘更为柔和，因此在你认为Canny太过于拘束、写实的时候可以尝试用SoftEdge，提取一些更为关键的边缘信息，忽略不重要的边缘信息。这样做出来的图更加柔和，关系更加稳定一些。</p>\r\n<p>这里面的四个预处理器，HED的质量比Pid更高，Safe是精简版的意思。</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 49%\" />\r\n<col style=\"width: 27%\" />\r\n<col style=\"width: 22%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th style=\"text-align: left;\">原图</th>\r\n<th style=\"text-align: left;\">边缘图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td style=\"text-align: left;\"><img\r\nsrc=\"\\image\\微信图片_20231002160402.png\" /></td>\r\n<td style=\"text-align: left;\"><img src=\"\\image\\image3.png\" /></td>\r\n<td><img src=\"\\image\\SE.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"scribble\">Scribble</h2>\r\n<p>原意涂鸦乱画，这个就是当初非常惊艳我们的随便画几笔就能生成图片的那个工具了。自己在PS里面随便画几笔，文本中输出不那么多的限定性不强的提示词，就能够生成\r\n非常具有创造力的图片了。注意，Scribble也是黑底白线的模式，所以如果使用了白底黑线，那么请使用Invert处理器。</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 35%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 29%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图（也可以手绘）</th>\r\n<th>边缘图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\Back_Li.jpg\" /></td>\r\n<td><img src=\"\\image\\image4.png\" /></td>\r\n<td><img src=\"\\image\\cyb.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"tile\">Tile</h2>\r\n<p>增加局部细节，根据画面自动推断内容，修复放大分辨率而导致的细节丢失。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>before</th>\r\n<th>after</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\after.png\" /></td>\r\n<td><img src=\"\\image\\before.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"multiple---controlnet\">Multiple - ControlNet</h2>\r\n<p>多重控制网，可以同时加载多个ControlNet预处理器，以达到他们功能和优缺点的互补。</p>\r\n<p>​\r\n比如上文中提到的Openpose的缺陷，就可以使用Openpose+Depth的双重控制来实现。同一张图，在两个Union中分别用Openpose和Depth来跑，并降低次要预处理器的权重系数（比如这里把Depth权重降为0.5左右），就可以实现手放在额头上，并且人物肢体动作被Openpose规定的效果了。</p>\r\n<p>​\r\n并非任意两个效果都可以叠加，需要注意他们的相性。除了上文提及的，其余常用的组合还有比如Depth+Canny，Openpose+SoftEdge等。</p>\r\n<h1 id=\"sd模型\">SD模型</h1>\r\n<p>​ 模型，就是在创作页面中最左上角的Stable\r\nDiffusion模型了。一个模型对应的就是一组训练集，喂给AI不同风格的图片加以训练就能产生不同风格的AI画风，想要改变画风就可以改变模型。</p>\r\n<p>​\r\n右侧外挂的vae模型相当于是滤镜，不同的画风适配不同的滤镜，我推荐去网上下载一个“kl-f8-anime2”（直接在C站搜索就行），这个是比较普适的滤镜，对于大部分（二次元）模型都能有不错的效果。此外初始提供的anime的vae也是一个普适的二次元画风。下载我的安装包的同学会发现里面自带了一个“vae-ft-mse-840000”的vae，这个对很多非二次元画风也有很好的作用。市面上有些比较有名的模型可能会自带vae。</p>\r\n<h2 id=\"模型下载网站\">模型下载网站</h2>\r\n<h3 id=\"hugging-face-抱脸\">Hugging Face 抱脸</h3>\r\n<p>网址：https://huggingface.co</p>\r\n<p>找后缀名为ckpt的下载（当然也有些模型不是以ckpt作为后缀，详见Nenly的教程）</p>\r\n<h3 id=\"c站-civitai\">C站 Civitai</h3>\r\n<p>（可以不注册使用，注册的话注意一下身体顶不顶得住）</p>\r\n<p>Model Type直接选择CheckPoint就行，其他不用管，选自己喜欢的。</p>\r\n<h3 id=\"nenly大佬提供\">Nenly大佬提供</h3>\r\n<p>https://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely</p>\r\n<p>大家可以进这个链接进行下载，其中模型部分是SD04，选择自己需要的下载即可，不然你的电脑会爆掉。他提供了下面我说的这几个常用模型。</p>\r\n<h2 id=\"分类\">分类</h2>\r\n<h3 id=\"二次元类\">二次元类</h3>\r\n<p>偏漫画、插画风格，具有比较鲜明的绘画笔触质感</p>\r\n<ol type=\"1\">\r\n<li>Anything V5 （中文名万象熔炉，就是一开始我让大噶选的）</li>\r\n<li>Counterfeit（精致感很好，细节还原程度高）</li>\r\n<li>Dreamlike\r\nDiffusion（比较具有科幻、梦幻色彩，带一点点赛博的感觉）</li>\r\n<li>Abyss Orange Mix（中文名深渊橘/橙，经典有名的二次元风格模型）</li>\r\n</ol>\r\n<h3 id=\"真实系\">真实系</h3>\r\n<p>拟真化程度高，对现实世界还原较好</p>\r\n<ol type=\"1\">\r\n<li>Deliberate（目前最好的真实系模型之一，细节和质感都不错）</li>\r\n<li>Realistic Vision（更加朴素的写实类模型）</li>\r\n<li>LOFI（精致的照片级别人像专精模型）</li>\r\n<li>Film Grain 2.0（胶片颗粒2.0）\r\n<ol type=\"1\">\r\n<li>是大佬Hello World模型的上一版，可惜我Hello World\r\nSDXL老是报错，退而求其次了</li>\r\n<li>建议使用Negative hand这个Embedding</li>\r\n</ol></li>\r\n<li>Majic 橘麦写实V2.5（用了几次，感觉真不行）\r\n<ol type=\"1\">\r\n<li>不要开脸部修复AD etailer</li>\r\n<li>推荐关键词：<code>Best quality, masterpiece, ultra high res, (photorealistic:1.4), 1girl</code></li>\r\n<li>推荐负面关键词：<code>ng_deepnegative_v1_75t, badhandv4</code></li>\r\n<li>脸部修复的方法 to inpaint the face: inpaint--&gt;only\r\nmasked--&gt;set to 512x512--&gt;Denoising strength:0.2~0.5</li>\r\n</ol></li>\r\n</ol>\r\n<h3 id=\"d\">2.5D</h3>\r\n<p>类似建模软件的三维渲染图，三渲二那种感觉</p>\r\n<ol type=\"1\">\r\n<li>NeverEnding\r\nDream（接近三次元的2.5D模型，适合游戏中精致的人物建模）</li>\r\n<li>Protogen（优秀的照片效果和创意发挥空间）</li>\r\n<li>GuoFeng3（国风、古风主题模型，国人的优秀作品）</li>\r\n<li>MengX_Mix_Fantacy（偏向幻想风格的模型，偏向真人一点）\r\n<ol type=\"1\">\r\n<li>建议使用插件：ADetailer 来进行面部和手部修复</li>\r\n<li>负面关键词\r\n：<code>(ng_deepnegative_v1_75t),(badhandv4),(worst quality:2),(low quality:2),(normal quality:2),lowres,bad anatomy,bad hands,normal quality,((monochrome)),((grayscale)),</code></li>\r\n</ol></li>\r\n</ol>\r\n<h2 id=\"实验\">实验</h2>\r\n<p>这里用同一张农夫山泉跑了几组类似的图（如果是农夫山泉的话…）</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 35%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 31%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>二次元：万象熔炉+kl-f8</th>\r\n<th>二次元：DreamLike+animevae</th>\r\n<th>二次元：深渊橘V3+kl-f8</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉2.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_DreamLike.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_深渊橘.png\" /></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td><strong>2.5D风：国风3+kl-f8</strong></td>\r\n<td><strong>2.5D风：NE Dream+kl-f8</strong></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉_国风.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_NED.png\" /></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td><strong>真实系：Deliberate+84000</strong></td>\r\n<td><strong>真实系：LOFI+84000</strong></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉_Deliberate.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_LF.png\" /></td>\r\n<td></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"图像の高清修复\">图像の高清修复</h1>\r\n<h2 id=\"高清修复hires.fix\">高清修复（Hires.fix）</h2>\r\n<p>​\r\n正如上文所言，我推荐你在一个低分辨率的情况下跑AI进行抽卡，当你抽中一张比较符合你内心想法的画作的时候，就可以丢到文生图下方的高分辨率修复里面去了。使用方法很简单，把你喜欢的跑图的种子复制进来以确保产生的图几乎类似，然后开高清修复，尺寸可以用倍数设置也可以用分辨率设置。</p>\r\n<ul>\r\n<li><p>放大算法：各种放大算法在经过实验之后得出的结论是没有什么区别，几乎都长差不多。比较推荐的有Legan、R-ESRGAN、R-ESRGAN\r\nAnime6B（这个适合二次元），当然你可以选别的自己尝试，反正大差不差。</p></li>\r\n<li><p>采样步数：高清修复相当于重绘，因此同样需要设置采样步数。设置为默认0的话则采用与图像生成一样的采样步数。</p></li>\r\n<li><p>重绘幅度：如果跟原图偏差不想太大，选0.3 ~\r\n0.5；想稍微变一点让AI自由创作一些，选0.5 ~\r\n0.7。太小会使细节不够，太大有几率会出现奇怪现象。</p></li>\r\n</ul>\r\n<h2 id=\"后期处理附加功能\">后期处理/附加功能</h2>\r\n<p>这个就在文生图/图生图边上，操作方法不用人讲应该都能看懂：设置一个放大倍数和一个放大算法，剩下的全部维持默认一个别管。</p>\r\n<p>优点：跑得快，时间短</p>\r\n<p>缺点：精细程度较低</p>\r\n<p>特点：相当于重绘幅度为0的重绘，有点类似于PS的放大再锐化</p>\r\n<h2 id=\"sd-upscale脚本\">SD Upscale脚本</h2>\r\n<ul>\r\n<li>优点：显存小也能出大图；缺点：跑的比较慢。</li>\r\n<li>脚本的安装：进入网页最右侧的扩展，从网页下载，输入下方链接进行安装，完成后重启网页UI。</li>\r\n</ul>\r\n<p>https://github.com/Coyote-A/ultimate-upscale-for-automatic1111</p>\r\n<ul>\r\n<li>在图生图模式的最下方可以找到脚本，选择SD\r\nUpscale进入。自定义尺寸、选择放大算法不再赘述。</li>\r\n<li>蒙版边缘模糊程度：这个东西的原理是把一张大图切割成不同的小图去跑，这个参数越大相当于两张图重叠越大，过渡越柔和，但是也不应该太大，一般32\r\n~ 128是一个较好的值。</li>\r\n</ul>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>结果图</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\home.png\" /></td>\r\n<td><img src=\"\\image\\SDU.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"小模型\">小模型</h1>\r\n<p>在之前我们介绍过了SD模型，其后缀通常为CheckPoint，机翻为检查点，实际含义也就是大模型。而除了大模型之外，我们还可以使用小模型，恰到好处地美化AI图片，解决诸如AI不会画手在内的一系列难题。</p>\r\n<h2 id=\"embeddings-文本嵌入\">Embeddings 文本嵌入</h2>\r\n<p>​ 这个东西在机器学习中被称为嵌入式向量，在C站中可以使用Textual\r\nInvention来检索它。这是一个仅有KB级别大小的文件，直接丢在Embeddings文件夹，并在图像生成时输入对应的一个关键词即可。这个相当于是一个小小的扩展，帮助AI了解某个特定的词语。比如AI被喂了人和鱼的信息，但是不知道美人鱼是什么，这时候特定的Embedding就会告诉他，这是一个“上半身女人，下班人鱼尾”的生物。</p>\r\n<ul>\r\n<li>一个很好用的例子：解决手部错乱</li>\r\n</ul>\r\n<p>​\r\n网上有非常多著名的Embeddings都是为了解决手部问题而生，他们记录了一系列手部错误的集合，然后只需要把他们加入<strong>负面提示词</strong>内，即可将这个问题得到极大地改善。推荐几个：</p>\r\n<ol type=\"1\">\r\n<li>EasyNegative：主要针对二次元画风，关键词为<code>easynegative</code>，<code>EasyNegativeV2</code></li>\r\n<li>DeepNegative：主要针对真人模型，关键词为<code>ng_deepnegative_v1_75t</code></li>\r\n<li>Negative-Hand：关键词为<code>negative_hand</code>，<code>negative_hand-neg</code></li>\r\n<li>badhandv4：关键词为<code>badhandv4</code></li>\r\n</ol>\r\n<h2 id=\"lora-低秩适应模式\">LoRa 低秩适应模式</h2>\r\n<p>​\r\nLoRa相比于上面的Embeddings，更着重于人物。比如说我想让AI帮我画一个嘉然（然然…嘿嘿我的嘉然…），但是这玩意儿肯定不是像美人鱼一样两三句话说得清的，于是就有作者专门针对嘉然构建了一个训练集。LoRa文件丢在models文件夹下的lora文件夹内，并在使用时加入<code>&lt;lora: LoRa_Name:0.8&gt;</code>这样的方式来调用，建议不要把提示强度开太高（大部分作者建议是0.5~0.8），不然容易影响画风。</p>\r\n<p>​ 可以考虑安装插件Additional\r\nNetwork，可以以一种可视化非常好的方式调用LoRa。此外，建议<strong>详细研读LoRa作者的作图建议</strong>。</p>\r\n<p>​\r\n这里下载了C站上一个下载量比较高的嘉然模型（触发关键词为<code>jiaran</code>），和另一个小众的嘉然常服训练集（无触发词），试一下。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>图1</th>\r\n<th>图2</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\Jiaran1.png\" /></td>\r\n<td><img src=\"\\image\\jiaran2.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>​ 根据Nenly的教程，LoRa基本上可以分为五种应用，即：</p>\r\n<ol type=\"1\">\r\n<li>人物角色形象塑造：最常用的功能，比如上面的嘉然，一般来讲提示词强度开到0.7上下</li>\r\n<li>画风/风格塑造：比如宫崎骏画风等，影响出图整体效果，一般提示词强度开到0.3上下</li>\r\n<li>概念/构图：不太好描述，比如说画面变成抽卡立绘的感觉、角色呆在水晶球玻璃瓶的构图这样，一般不开太高</li>\r\n<li>服饰：改变角色服饰，一般提示词强度开到0.2-0.3</li>\r\n<li>物体/特定元素，常用于图生图局部重绘，改变特定部分的风格，一般不开太高</li>\r\n</ol>\r\n<h3 id=\"my-lora\">My LoRa</h3>\r\n<ol type=\"1\">\r\n<li>嘉然<code>Jiaran</code></li>\r\n<li>嘉然-常服<code>Jiaran_Changfu</code>\r\n<ol type=\"1\">\r\n<li>数值在0.5-0.7之间最佳</li>\r\n</ol></li>\r\n<li>细节修复<code>Detail Tweaker</code>\r\n<ol type=\"1\">\r\n<li>Based Model: SD1.5</li>\r\n<li>权重可以是-2到2之间的任何值，负值可以减少细节</li>\r\n</ol></li>\r\n<li>细节增加<code>Detail Enhancer</code>\r\n<ol type=\"1\">\r\n<li>Based Model: SD1.5</li>\r\n<li>权重推荐在0.5上下，小于0.5可以获得比较微妙的效果。1太高了。</li>\r\n</ol></li>\r\n<li>胶片风格<code>LEOSAM's FilmGirl</code>\r\n<ol type=\"1\">\r\n<li>Based Model: Hello World SDXL</li>\r\n<li>这是用于生成胶片风格AI写真照片的LoHA &amp;\r\nLoRA模型，可以生成逼真的胶片风格照片。可以搭配<code>negative_hand</code>的Embedding</li>\r\n<li>常用的CFG范围是6 ~ 7，Lora权重通常在0.5 ~ 0.7</li>\r\n<li>Clip skip设为1或2时，生成的效果会有所不同，看自己喜欢哪种风格</li>\r\n</ol></li>\r\n<li>塔罗牌风格<code>taro</code>\r\n<ol type=\"1\">\r\n<li>可以用<code>&#123;&#125; background</code>来设置背景，如<code>blue background</code></li>\r\n<li>推荐使用Embedding：<code>EasyNegative, badhandv4</code></li>\r\n<li>推荐强度：0.8~1</li>\r\n<li>Based Model: 万象熔炉 &amp; 深渊橘</li>\r\n</ol></li>\r\n<li>服装调节器\r\n<ol type=\"1\">\r\n<li>权重设置在-1到1之间，权重越大，对象衣物越少</li>\r\n<li>跟LoRa5、Hello World SDHX模型是同一个大佬发布的</li>\r\n</ol></li>\r\n<li>带背景立绘<code>tachi-e</code>\r\n<ol type=\"1\">\r\n<li>一般使用<code>wight background, full doby, looking at viewers</code>提示词</li>\r\n<li>触发词<code>tachi-e</code>，一般权重可以直接设置成1</li>\r\n</ol></li>\r\n<li>弹弓泳衣<code>slingshot swimsuit</code>\r\n<ol type=\"1\">\r\n<li>建议Clip Skip：2</li>\r\n<li>强度似乎是1 ~ 1.2？自己感觉0.8左右别大于1</li>\r\n</ol></li>\r\n<li>人物美化Cute Girl<code>mix4</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.4~0.7</li>\r\n</ol></li>\r\n<li>亚洲女性脸模<code>MengX girl_Mix_V40</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.7~1.0</li>\r\n<li>务必打开ADetailer插件使用</li>\r\n<li>可以尝试在提示词中增加blush，或许能更加可爱、少女</li>\r\n</ol></li>\r\n<li>私房写真风的泛用少女感混血脸<code>shojovibe_v11</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.6-0.8</li>\r\n</ol></li>\r\n<li>八重神子\r\n<ol type=\"1\">\r\n<li>应我室友要求搞的，被80了呜呜呜</li>\r\n<li>推荐提示词强度：0.45-0.75</li>\r\n</ol></li>\r\n<li>液体波浪概念衣服\r\n<ol type=\"1\">\r\n<li>触发词：<code>liquid clothes, water</code></li>\r\n<li>可用提示词：<code>blue theme, blue dress, waves, sea, water, water dress</code>，甚至<code>liquid hair</code>和<code>sky_print</code></li>\r\n</ol></li>\r\n<li>露西（赛博朋克边缘行者）\r\n<ol type=\"1\">\r\n<li>提示词强度0.65左右，最大1（1有点小大）</li>\r\n<li>建议提示词：<code>(robot joints:0.5), mechanical parts, lucy \\(cyberpunk\\), jacket, shorts</code></li>\r\n</ol></li>\r\n<li>素体机娘\r\n<ol type=\"1\">\r\n<li>建议提示词：<code>mecha musume, mechanical arms, headgear, bodysuit (可选)</code></li>\r\n<li>提示词强度:1-1.5</li>\r\n</ol></li>\r\n<li>Oversized Clothes\r\n<ol type=\"1\">\r\n<li>LORA 权重：建议为 0.2-0.7（我在图像中使用了 0.5）</li>\r\n<li>关键词：<code>oversized_hoodie</code>、<code>oversized_sweater</code></li>\r\n</ol></li>\r\n</ol>\r\n<h2 id=\"hypernetwork\">HyperNetwork</h2>\r\n<p>​\r\n中文名：超网络，一般用于改善整体画风。一般来讲用的比较少，业内风评也相对一般。这里举一个著名的例子，C站的“Waven\r\nChibi\r\nStyle”，开启后可以获得非常Q版的图像。开启方式：将HyperNetwork文件丢在对应的文件夹内，然后在网页UI的设置界面中选择超网络。</p>\r\n<h1 id=\"局部重绘\">局部重绘</h1>\r\n<p>字面意思很好理解，用于修正那些大题都非常满意，细节不太行的图。</p>\r\n<h2 id=\"图生图局部重绘\">图生图局部重绘</h2>\r\n<p>蒙版边缘模糊=羽化（10以下的非0值），蒙版边缘预留像素=扩展+融合（默认32，修改区域大就开大，反之减小）</p>\r\n<p>蒙版区域内容处理：选择“填充”可以使变化自由一些。</p>\r\n<p>重绘区域：一般建议修改区域大可以选整张图片，区域小选仅蒙版。</p>\r\n<h2 id=\"图生图涂鸦重绘\">图生图涂鸦重绘</h2>\r\n<p>比局部重绘多了一个调色盘，意思就是说你画上去的东西会影响他的生成。比如你想在原有美女的脸上画一个带白色爱心的蓝色口罩，那你就可以自己简单用蓝色画一个口罩，再用白色画一个爱心即可。这样引导性会更强一些。记得修改提示词。</p>\r\n<h1 id=\"插件\">插件</h1>\r\n<p>https://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely</p>\r\n<p>其中插件是SD08</p>\r\n<h2 id=\"trigger\">Trigger</h2>\r\n<p>根据图画反推提示词，跟图生图里的类似但效果更好，但是不知道为什么我找不到这玩意儿。</p>\r\n<h2 id=\"llul\">LLUL</h2>\r\n<p>局部细节重绘，使用方法跟图像放大类似。</p>\r\n<h2 id=\"cut-off\">Cut Off</h2>\r\n<p>使用一些非常精细的描述（比如非常准确地描述人物穿搭），常常会使AI产生误判。将这些提示词丢到Cut\r\nOff里面可以大大减少AI误判程度。</p>\r\n<h2 id=\"ad-etailer\">AD etailer</h2>\r\n<p>https://github.com/Bing-su/adetailer</p>\r\n<p>着重人脸修复。提示词直接复制模型提示词即可。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>模型</th>\r\n<th>适用对象</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>face_yolov8n.pt</td>\r\n<td>2D / 真实人脸</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>face_yolov8s.pt</td>\r\n<td>2D / 真实人脸</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>hand_yolov8n.pt</td>\r\n<td>2D / 真实人手</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>person_yolov8n-seg.pt</td>\r\n<td>2D / 真实全身</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>person_yolov8s-seg.pt</td>\r\n<td>2D/真实全身</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>mediapipe_face_full</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>mediapipe_face_short</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>mediapipe_face_mesh</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h1 id=\"引言\">引言</h1>\r\n<ul>\r\n<li><p>Stable\r\nDiffusion是一个极其强大的AI绘画工具整合包（开源项目），大菩萨UP主秋葉aaaki根据整合包创作了一个非常牛逼的网页启动器，包含了版本更新、插件下载、报错检测等等，并涵盖了很多插件；而大佛祖UP主Nenly同学上传了一套极为详细的使用教程。因为现在AI绘画的行业还处在起步的阶段，行业内并不规范，因此这里仅以秋葉aaaki提供的启动器和整合包进行创作，更复杂的我也不会。在机缘巧合之下我才接触到这个神奇的东西，因为之前一直没有关注、没有实践，所以现在尝试一下纯小白上手，绘制出属于自己的AI画作。</p></li>\r\n<li><p>相比于教程，本篇更像是一个个人使用的经历。因此暂时只涉及AI绘画的尝试，并不涉及模型调教（带佬可以试试自己跑一个模型出来）</p></li>\r\n<li><p>推荐关注UP主“秋葉aaaki”和“Nenly同学”，以及这里放一些他们的教程合集。本篇博客以秋葉提供的整合包做安装和基本入门，加以Nenly的更为细致的教学。</p></li>\r\n</ul>\r\n<hr />\r\n<ul>\r\n<li>秋葉aaaki</li>\r\n</ul>\r\n<p>【前置要求】</p>\r\n<p>一个流畅的翻墙软件，在很多地方，这个东西需要科学上网。</p>\r\n<p>【新手快速入门】<br />\r\n全套入门教程：https://www.bilibili.com/read/cv22159609<br />\r\n快速入门生成图片：https://www.bilibili.com/read/cv22661198<br />\r\n模型安装使用教程：https://www.bilibili.com/read/cv21362202<br />\r\n2023年4月模型分享：https://www.bilibili.com/video/BV1em4y1z7Dg</p>\r\n<p>【常用网站】<br />\r\nAI 作图知识库(教程): https://guide.novelai.dev/<br />\r\n标签超市(解析组合): https://tags.novelai.dev/<br />\r\n原图提取标签: https://spell.novelai.dev/</p>\r\n<p>【细致教程】<br />\r\n入门参数设置基础：https://guide.novelai.dev/guide/configuration/param-basic<br />\r\n常见安装问题: https://guide.novelai.dev/s/troubleshooting/install<br />\r\n常见跑图问题: https://guide.novelai.dev/s/troubleshooting/generate<br />\r\n怎么写提示词？\r\nhttps://guide.novelai.dev/advanced/prompt-engineering/<br />\r\n怎么训练模型？ https://guide.novelai.dev/advanced/finetuning/<br />\r\n最新消息: https://guide.novelai.dev/newsfeed</p>\r\n<p>【问题速查】<br />\r\n- CUDA out of memory： 炸显存 换启动参数 换显卡<br />\r\n- DefaultCPUAllocator: 炸内存 加虚拟内存 加内存条<br />\r\n- CUDA driver initialization failed: 装CUDA驱动<br />\r\n- Training models with lowvram not possible: 这点显存还想炼丹？<br />\r\n- WinError 5: 建议重装电脑，或者等下一个整合包</p>\r\n<hr />\r\n<ul>\r\n<li>Nenly同学</li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1As4y127HW\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<p>【资料下载】</p>\r\n<p>https://nenly.notion.site/017c3341c8b84a7ebb4c2cb16f36e28f</p>\r\n<h1 id=\"软件及插件的安装\">软件及插件的安装</h1>\r\n<p>​\r\n这里涉及到两个，一个是这个软件（绘世启动器及整个整合包），这个整个东西非常大，因此建议找一个空的盘安装；另一个是非常好用的ControlNet插件，第一次上手可以先跳过这一部分，等把软件搞明白了再来看插件。<strong>我暂且推荐用我给你们的百度网盘链接下载安装</strong>，因为我这个已经做好了非常好的汉化、UI改善和更新，并且具有了绝大部分的常用插件，非常方便。或者是根据秋葉的整合包下载安装（秋葉神中神），当然你可以在很多地方找到这个整合包，因为他是开源的，但是这会给后续的使用带来不便。</p>\r\n<h2 id=\"绘世启动器整合包安装\">绘世启动器&amp;整合包安装</h2>\r\n<h3 id=\"下载\">下载</h3>\r\n<p>​\r\n因为这个东西迭代更新速度很快，秋葉的大部分教程可能都还是version2、version3的软件，现在已经更新到version4.4了。可以考虑跟着他比较新的一个视频来进行安装。</p>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1iM4y1y7oA\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<p>或者我这里也有一个v4.1的版本，安装完成之后可以进去直接更新，效果是一样的。</p>\r\n<p>链接：https://pan.baidu.com/s/1EIV7MvfHqQRMsJ8pAmUSMA<br />\r\n提取码：72cj<br />\r\n--来自百度网盘超级会员V4的分享</p>\r\n<h3 id=\"安装\">安装</h3>\r\n<p>以我发的百度网盘连接为例进行安装。下载完成之后大概是一个这样子的文件结构：</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sd-webui-aki</span><br><span class=\"line\"><span class=\"code\">\t|--可选controlnet1.1</span></span><br><span class=\"line\"><span class=\"code\">\t|--启动器运行依赖.exe</span></span><br><span class=\"line\"><span class=\"code\">\t|--sd-webui-aki-v4.1.zip</span></span><br></pre></td></tr></table></figure>\r\n<p>​\r\n双击启动器运行依赖.exe自动完成安装，然后解压v4.1.zip压缩包，找到下面的“A启动器.exe”，双击运行。启动完成后如下图所示，进入左边栏的“版本管理”\r\n- “内核” -\r\n“稳定版”，点击“切换”即可完成版本切换。（建议使用稳定版而不是开发版本）</p>\r\n<p><img src=\"\\image\\微信图片_20231002123148.png\" /></p>\r\n<h2 id=\"controlnet插件\">ControlNet插件</h2>\r\n<p>关于ControlNet插件的安装和使用，可以参考秋葉的这两个视频：</p>\r\n<p>初代：https://www.bilibili.com/video/BV1Wo4y1i77v</p>\r\n<p>v1.1版本：https://www.bilibili.com/video/BV1fa4y1G71W</p>\r\n<p>​\r\n如果你在之前启动器的下载中选择了我的百度网盘链接进行安装，那么想必肯定已经有controlnet1.1的文件夹了。其实就是跳过了初代版本的bag，直接更新了bag而已。</p>\r\n<ul>\r\n<li><p>我这里好像默认提供了controlnet的插件，你可以在“版本管理” -\r\n“扩展”中找一下是否有controlnet，如果有那么就代表没问题，更新一下即可。如果没有，请参照上文的第一个哔哩哔哩网址视频中<strong>第30秒至第1分07秒</strong>的内容进行插件安装。</p></li>\r\n<li><p>模型的安装可以直接参考第二个哔哩哔哩网址视频中<strong>第2分18秒至第2分55秒</strong></p></li>\r\n</ul>\r\n<h2 id=\"ai绘画启动\">AI绘画，启动！</h2>\r\n<p>首先开启翻墙软件，然后开启A启动器，点击右下角的“一键启动”。之后会出现一个“控制台”，也就是一个类似于bash文件的东西。第一次启动所需时间可能较久，大概在2-3分钟左右。成功的标志是跳出一个网页。大概长这样：</p>\r\n<p><img src=\"\\image\\微信图片_20231002125925.png\" /></p>\r\n<p>记得不要把控制台关掉哦~</p>\r\n<h1 id=\"文生图创作技巧\">文生图创作技巧</h1>\r\n<p>文生图创作是AI创作最基本的方式。这部分可以参考秋葉的文档：https://www.bilibili.com/read/cv22661198</p>\r\n<p>当然，这里我也会用我自己的语言详细说明。</p>\r\n<h2 id=\"模型\">模型</h2>\r\n<ul>\r\n<li><strong>Stable\r\nDiffusion模型：</strong>这个是AI绘画的大模型，一开始进入应该只有一个叫“anything……”什么的模型，这个是一个有名的二次元模型，直接用就好了。如果你是官方版本下载，可能是一个叫官方模组Stable\r\nDiffusion的东西。在后文我也会介绍更多的SD模型，相当于使用了不同的画风、不同的创作手法之类，如果你是大佬（大佬应该不会看我这篇文档）可以试试自己调教一个模型出来（就是机器学习的过程），但是本篇不做介绍。</li>\r\n<li><strong>外挂vae模型：</strong>目前你先直接选择animevae.pt即可</li>\r\n</ul>\r\n<h2 id=\"标签tagprompt\">标签（Tag&amp;Prompt）</h2>\r\n<ul>\r\n<li><strong>正向提示词Prompt：</strong>选择你想要的内容，英文表述，逗号分隔。比如你想要画面中有一个女的，就写<code>1girl</code>；想要画面以教室为背景，就写<code>classroom</code>，以此类推。</li>\r\n<li><strong>反向提示词Negative\r\nPrompt：</strong>选择你不想要的内容，比如一般可以有如下类似的描述（提供了两个模板）：</li>\r\n</ul>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">((((ugly)))), (((duplicate))), ((morbid)), ((mutilated)), (((tranny))), (((trans))), (((trannsexual))), (hermaphrodite), [out of frame], extra fingers, mutated hands, ((poorly drawn hands)), ((poorly drawn face)), (((mutation))), (((deformed))), ((ugly)), blurry, ((bad anatomy)), (((bad proportions))), ((extra limbs)), cloned face, (((disfigured))),out of frame, ugly, extra limbs, (bad anatomy), gross proportions, (malformed limbs), ((missing arms)), ((missing legs)), (((extra arms))), (((extra legs))), mutated hands, (fused fingers), (too many fingers), (((long neck)))</span><br></pre></td></tr></table></figure>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">lowres, bad anatomy, bad hands, text, error, missing fingers, extra digit, fewer digits, cropped, worst quality, low quality, normal quality, jpeg artifacts, signature, watermark, username, blurry </span><br></pre></td></tr></table></figure>\r\n<ul>\r\n<li><strong>进阶使用：</strong>以 girl 这个 Tag 作为例子\r\n<ul>\r\n<li>(girl) 加权重，这里是1.1倍。括号是可以叠加的，如（(girl))\r\n加很多权重：1.1*1.1=1.21倍。</li>\r\n<li>[girl] 减权重，一般用的少。减权重也一般就用下面的指定倍数。</li>\r\n<li>(girl = 1.2)指定权重</li>\r\n</ul></li>\r\n<li><strong>标签超市</strong>\r\n<ul>\r\n<li>https://tags.novelai.dev/</li>\r\n<li>https://ai.dawnmark.cn/</li>\r\n<li>进入标签超市，可以根据你的喜好任意选择标签（自己打的时候不知道怎么表述，这里就提供了很多标签和预制的标签组合）这玩意儿的使用非常简单，因为个人觉得很多功能都不需要，只需要知道最基本的几个即可。</li>\r\n<li>但是吧，我也不知道这个作者怎么想的，为什么感觉很多标签都这么变态啊…估计生产这玩意儿的是个技术高超的二刺猿宅男LSP，这我也莫得什么办法。</li>\r\n</ul></li>\r\n</ul>\r\n<p><img src=\"\\image\\微信图片_20231003143640.png\" /></p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">高标准品质：best quality, masterpiece, highres,</span><br><span class=\"line\">插画风格：paiting, illustration, drawing,</span><br><span class=\"line\">二次元：anime, comic, game CG</span><br><span class=\"line\">写实：photorealistic, realistic</span><br><span class=\"line\">Embeddings：ng<span class=\"emphasis\">_deepnegative_</span>v1<span class=\"emphasis\">_75t, easynegative, EasyNegativeV2, negative_</span>hand, negative<span class=\"emphasis\">_hand-neg, BadDream, Neg_</span>Facelift768, badhandv4 （详见Embeddings章节）</span><br></pre></td></tr></table></figure>\r\n<h2 id=\"其他\">其他</h2>\r\n<ul>\r\n<li><p><strong>迭代次数：</strong>不需要太大，一般在50以内。通常20~28是一个不错的值。</p></li>\r\n<li><p><strong>采样器：</strong>采样器没有优劣之分，但是他们速度不同。全看个人喜好。UP主秋葉推荐的有<br />\r\nEuler A；DPM++ 2M Karras；DPM++SDE Karras<br />\r\n个人也用过DDIM，感觉也还可以。</p></li>\r\n<li><p><strong>提示词相关性：</strong>提示词相关性代表你输入的 Tag\r\n对画面的引导程度有多大，可以理解为 “越小AI越自由发挥”</p>\r\n<p>太大会出现锐化、线条变粗的效果。太小AI就自由发挥了，不看\r\nTag。一般设置在7~12之间。</p></li>\r\n<li><p><strong>随机种子：</strong>随机种子是 生成过程中所有随机性的源头\r\n每个种子都是一幅不一样的画。默认的 -1\r\n是代表每次都换一个随机种子。由随机种子，生成了随机的噪声图，再交给AI进行画出来。如果你之前跑了一张图感觉很好，想做微调，那么就把那张图的随机种子找出来（图片信息），然后复制进去。</p></li>\r\n<li><p>没讲到的东西少动点O.o</p></li>\r\n</ul>\r\n<h2 id=\"图片尺寸\">图片尺寸</h2>\r\n<ul>\r\n<li>请不要选择过大的图片尺寸，不然AI是跑不出来的。选择比较推荐的尺寸有：512×512；768×1024（或者再砍一半）；1024×768（或者再砍一半）。</li>\r\n<li>有人会问，如果我觉得太不清晰了怎么办？可以选择一个较小的尺寸，然后开启“高分辨率修复”，其中UP秋葉给出的推荐参数如下图所示：（放大倍数自己定，别太贪心把自己电脑炸了）这部分在本篇博客后续章节“图像の高清修复”中会更加详细地讲述。</li>\r\n<li><strong>个人建议先选一个小尺寸</strong>，这样子跑的时候就比较快。<strong>如果跑出来一张你觉得比较好的比较喜欢，再点击后期处理</strong>（我这个版本里是图像右下角一个三角尺的标志，叫什么send\r\nimage … to extra\r\ntab；或者你可以在“文生图”边上找到“后期处理”），然后进行放大算法处理。</li>\r\n<li>当然小尺寸也有缺点，就是当尺寸过小时，很多细节都会跑不出来，这高清修复也修不了。如果电脑显存够建议跑1024左右大小的。</li>\r\n</ul>\r\n<p><img src=\"\\image\\微信图片_20231002133105.png\" /></p>\r\n<h2 id=\"启动\">启动！</h2>\r\n<p>​\r\n自己随便放了几个关键词跑出来的一张图，整体看着还挺不错了。（其实我用了很多技巧呜呜呜，尤其是AI画手画的真的是一言难尽，天天给我整出六七根手指）想要真正让他跑出一个好图出来，确实很难。</p>\r\n<p><img src=\"\\image\\s1.png\" /></p>\r\n<h1 id=\"controlnet美化\">ControlNet美化</h1>\r\n<p>在网页的下方打开ControlNet，出现如下图所示的内容（具体格式可能每个人有差别，但大差不差，这里演示的是1.1版本）。</p>\r\n<p><img src=\"\\image\\微信图片_20231002153828.png\" /></p>\r\n<p>​\r\n下面的操作想必大部分人看名字都能看懂什么意思，基本上就是控制<strong>“预处理器影响效果的强弱”</strong>。另外，低显存模式（在显存不够的时候降速）和允许预览应该都能理解，完美像素模式比较强大，大致就是会自动计算预处理的最优像素，建议勾选。</p>\r\n<p>​\r\n这里详细说明一下各个预处理器和模型的功能。这个插件的功能就是，把你的输入图片经过某个预处理器进行处理，得到一张效果图，然后网站在根据你这张效果图的指导生成新的图片。</p>\r\n<ul>\r\n<li><p>操作方式：根据你想要实现的效果选择对应的预处理器，然后选择与预处理器同名的模型，放入图片即可。</p></li>\r\n<li><p>更加详细的理解和应用可以参考Nenly的教程：</p></li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://www.bilibili.com/video/BV1Ds4y1e7ZB\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<ul>\r\n<li>这里会着重挑选几个常用的、易用的预处理器和使用方法进行讲解。（任何一个效果在第一次使用、生成的时候都会非常卡，这是正常的）</li>\r\n</ul>\r\n<h2 id=\"openpose\">Openpose</h2>\r\n<p>Openpose预处理器是指导动作骨架，放入一张真人图片，然后他会根据真人图片生成骨骼，再根据骨骼指导人物动作来AI作画。如图所示：</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 46%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 21%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>引导图</th>\r\n<th>骨骼</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\微信图片_20231002160402.png\" /></td>\r\n<td><img src=\"\\image\\tmpjp_dhaa1.png\" /></td>\r\n<td><img src=\"\\image\\s2.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>​\r\n不同的Openpose预处理器可以产生不同的骨骼图，大家根据上面的英文后缀或者中文翻译应该都能非常好理解，比如是否带上手部动作、脸部表情等等。</p>\r\n<h2 id=\"depth\">Depth</h2>\r\n<p>Depth顾名思义，深度。在一张图片中，计算机其实并不能很好的识别空间关系，经常把他当成二维图像来处理。举个例子，在Openpose预处理器中你选了一张手放在额头上的照片，但是AI跑出来手放在了后脑勺上。从骨骼图上讲，这两个是一样的，区别就是手和头部的空间关系。显然，单纯的Openpose并不具备空间处理的能力。</p>\r\n<p>Depth下也有很多预处理器，其中最强的是Leres++，但是相应的速度也会变慢。在空间关系不那么复杂的情况下，可以考虑使用Zoe或者Medas来处理图像。（比如上述照片，用Depth处理或许就能得到比Openpose更加好的结果）</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>深度图（Medas）</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\back.png\" /></td>\r\n<td><img src=\"\\image\\image.png\" /></td>\r\n<td><img src=\"\\image\\home.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>（看上去AI跑的没有原图牛逼，实际上不是AI的问题，是原图的pixiv画师太特么牛的）</p>\r\n<h2 id=\"canny及其拓展\">Canny及其拓展</h2>\r\n<p>Canny是一种边缘检测算法，致力于边缘检测、识别图像特征。在刚刚的Depth里面我们就可以看到，生成图少了很多的细节，这是因为Depth识别的是大体的空间关系，如果想要识别更加多的细节，那么就使用Canny吧。</p>\r\n<ul>\r\n<li>Canny：将图像经过处理形成一张白底黑线的边缘图，然后根据边缘图和你的提示词来进行图片的生成。下面有两个阈值（Threshold）调节滑块，如果觉得线条太少就把阈值拉低，线条太多就把阈值拉高。</li>\r\n<li>Invert：原理一样，但是有的时候我们使用的是白底黑线的素描线稿图（类似于你画的草稿），这个时候Canny由于算法的问题会识别的比较模糊，于是这个时候我们把预处理器改成Invert。</li>\r\n<li>Lineart：暂时可以把这个理解为是Canny的全面升级。当然你要是要求不高用Canny也行。</li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 31%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 34%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>边缘线条图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\back.png\" /></td>\r\n<td><img src=\"\\image\\image2.png\" /></td>\r\n<td><img src=\"\\image\\canny1.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"hed-softedge\">HED &amp; SoftEdge</h2>\r\n<p>HED是老版本，新版本（v1.1）里变成了SoftEdge，全称柔和边缘。SoftEdge生成出来的效果图要比Canny边缘更为柔和，因此在你认为Canny太过于拘束、写实的时候可以尝试用SoftEdge，提取一些更为关键的边缘信息，忽略不重要的边缘信息。这样做出来的图更加柔和，关系更加稳定一些。</p>\r\n<p>这里面的四个预处理器，HED的质量比Pid更高，Safe是精简版的意思。</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 49%\" />\r\n<col style=\"width: 27%\" />\r\n<col style=\"width: 22%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th style=\"text-align: left;\">原图</th>\r\n<th style=\"text-align: left;\">边缘图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td style=\"text-align: left;\"><img\r\nsrc=\"\\image\\微信图片_20231002160402.png\" /></td>\r\n<td style=\"text-align: left;\"><img src=\"\\image\\image3.png\" /></td>\r\n<td><img src=\"\\image\\SE.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"scribble\">Scribble</h2>\r\n<p>原意涂鸦乱画，这个就是当初非常惊艳我们的随便画几笔就能生成图片的那个工具了。自己在PS里面随便画几笔，文本中输出不那么多的限定性不强的提示词，就能够生成\r\n非常具有创造力的图片了。注意，Scribble也是黑底白线的模式，所以如果使用了白底黑线，那么请使用Invert处理器。</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 35%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 29%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图（也可以手绘）</th>\r\n<th>边缘图</th>\r\n<th>创作结果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\Back_Li.jpg\" /></td>\r\n<td><img src=\"\\image\\image4.png\" /></td>\r\n<td><img src=\"\\image\\cyb.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"tile\">Tile</h2>\r\n<p>增加局部细节，根据画面自动推断内容，修复放大分辨率而导致的细节丢失。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>before</th>\r\n<th>after</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\after.png\" /></td>\r\n<td><img src=\"\\image\\before.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"multiple---controlnet\">Multiple - ControlNet</h2>\r\n<p>多重控制网，可以同时加载多个ControlNet预处理器，以达到他们功能和优缺点的互补。</p>\r\n<p>​\r\n比如上文中提到的Openpose的缺陷，就可以使用Openpose+Depth的双重控制来实现。同一张图，在两个Union中分别用Openpose和Depth来跑，并降低次要预处理器的权重系数（比如这里把Depth权重降为0.5左右），就可以实现手放在额头上，并且人物肢体动作被Openpose规定的效果了。</p>\r\n<p>​\r\n并非任意两个效果都可以叠加，需要注意他们的相性。除了上文提及的，其余常用的组合还有比如Depth+Canny，Openpose+SoftEdge等。</p>\r\n<h1 id=\"sd模型\">SD模型</h1>\r\n<p>​ 模型，就是在创作页面中最左上角的Stable\r\nDiffusion模型了。一个模型对应的就是一组训练集，喂给AI不同风格的图片加以训练就能产生不同风格的AI画风，想要改变画风就可以改变模型。</p>\r\n<p>​\r\n右侧外挂的vae模型相当于是滤镜，不同的画风适配不同的滤镜，我推荐去网上下载一个“kl-f8-anime2”（直接在C站搜索就行），这个是比较普适的滤镜，对于大部分（二次元）模型都能有不错的效果。此外初始提供的anime的vae也是一个普适的二次元画风。下载我的安装包的同学会发现里面自带了一个“vae-ft-mse-840000”的vae，这个对很多非二次元画风也有很好的作用。市面上有些比较有名的模型可能会自带vae。</p>\r\n<h2 id=\"模型下载网站\">模型下载网站</h2>\r\n<h3 id=\"hugging-face-抱脸\">Hugging Face 抱脸</h3>\r\n<p>网址：https://huggingface.co</p>\r\n<p>找后缀名为ckpt的下载（当然也有些模型不是以ckpt作为后缀，详见Nenly的教程）</p>\r\n<h3 id=\"c站-civitai\">C站 Civitai</h3>\r\n<p>（可以不注册使用，注册的话注意一下身体顶不顶得住）</p>\r\n<p>Model Type直接选择CheckPoint就行，其他不用管，选自己喜欢的。</p>\r\n<h3 id=\"nenly大佬提供\">Nenly大佬提供</h3>\r\n<p>https://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely</p>\r\n<p>大家可以进这个链接进行下载，其中模型部分是SD04，选择自己需要的下载即可，不然你的电脑会爆掉。他提供了下面我说的这几个常用模型。</p>\r\n<h2 id=\"分类\">分类</h2>\r\n<h3 id=\"二次元类\">二次元类</h3>\r\n<p>偏漫画、插画风格，具有比较鲜明的绘画笔触质感</p>\r\n<ol type=\"1\">\r\n<li>Anything V5 （中文名万象熔炉，就是一开始我让大噶选的）</li>\r\n<li>Counterfeit（精致感很好，细节还原程度高）</li>\r\n<li>Dreamlike\r\nDiffusion（比较具有科幻、梦幻色彩，带一点点赛博的感觉）</li>\r\n<li>Abyss Orange Mix（中文名深渊橘/橙，经典有名的二次元风格模型）</li>\r\n</ol>\r\n<h3 id=\"真实系\">真实系</h3>\r\n<p>拟真化程度高，对现实世界还原较好</p>\r\n<ol type=\"1\">\r\n<li>Deliberate（目前最好的真实系模型之一，细节和质感都不错）</li>\r\n<li>Realistic Vision（更加朴素的写实类模型）</li>\r\n<li>LOFI（精致的照片级别人像专精模型）</li>\r\n<li>Film Grain 2.0（胶片颗粒2.0）\r\n<ol type=\"1\">\r\n<li>是大佬Hello World模型的上一版，可惜我Hello World\r\nSDXL老是报错，退而求其次了</li>\r\n<li>建议使用Negative hand这个Embedding</li>\r\n</ol></li>\r\n<li>Majic 橘麦写实V2.5（用了几次，感觉真不行）\r\n<ol type=\"1\">\r\n<li>不要开脸部修复AD etailer</li>\r\n<li>推荐关键词：<code>Best quality, masterpiece, ultra high res, (photorealistic:1.4), 1girl</code></li>\r\n<li>推荐负面关键词：<code>ng_deepnegative_v1_75t, badhandv4</code></li>\r\n<li>脸部修复的方法 to inpaint the face: inpaint--&gt;only\r\nmasked--&gt;set to 512x512--&gt;Denoising strength:0.2~0.5</li>\r\n</ol></li>\r\n</ol>\r\n<h3 id=\"d\">2.5D</h3>\r\n<p>类似建模软件的三维渲染图，三渲二那种感觉</p>\r\n<ol type=\"1\">\r\n<li>NeverEnding\r\nDream（接近三次元的2.5D模型，适合游戏中精致的人物建模）</li>\r\n<li>Protogen（优秀的照片效果和创意发挥空间）</li>\r\n<li>GuoFeng3（国风、古风主题模型，国人的优秀作品）</li>\r\n<li>MengX_Mix_Fantacy（偏向幻想风格的模型，偏向真人一点）\r\n<ol type=\"1\">\r\n<li>建议使用插件：ADetailer 来进行面部和手部修复</li>\r\n<li>负面关键词\r\n：<code>(ng_deepnegative_v1_75t),(badhandv4),(worst quality:2),(low quality:2),(normal quality:2),lowres,bad anatomy,bad hands,normal quality,((monochrome)),((grayscale)),</code></li>\r\n</ol></li>\r\n</ol>\r\n<h2 id=\"实验\">实验</h2>\r\n<p>这里用同一张农夫山泉跑了几组类似的图（如果是农夫山泉的话…）</p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 35%\" />\r\n<col style=\"width: 34%\" />\r\n<col style=\"width: 31%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>二次元：万象熔炉+kl-f8</th>\r\n<th>二次元：DreamLike+animevae</th>\r\n<th>二次元：深渊橘V3+kl-f8</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉2.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_DreamLike.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_深渊橘.png\" /></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td><strong>2.5D风：国风3+kl-f8</strong></td>\r\n<td><strong>2.5D风：NE Dream+kl-f8</strong></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉_国风.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_NED.png\" /></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td><strong>真实系：Deliberate+84000</strong></td>\r\n<td><strong>真实系：LOFI+84000</strong></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\农夫山泉_Deliberate.png\" /></td>\r\n<td><img src=\"\\image\\农夫山泉_LF.png\" /></td>\r\n<td></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"图像の高清修复\">图像の高清修复</h1>\r\n<h2 id=\"高清修复hires.fix\">高清修复（Hires.fix）</h2>\r\n<p>​\r\n正如上文所言，我推荐你在一个低分辨率的情况下跑AI进行抽卡，当你抽中一张比较符合你内心想法的画作的时候，就可以丢到文生图下方的高分辨率修复里面去了。使用方法很简单，把你喜欢的跑图的种子复制进来以确保产生的图几乎类似，然后开高清修复，尺寸可以用倍数设置也可以用分辨率设置。</p>\r\n<ul>\r\n<li><p>放大算法：各种放大算法在经过实验之后得出的结论是没有什么区别，几乎都长差不多。比较推荐的有Legan、R-ESRGAN、R-ESRGAN\r\nAnime6B（这个适合二次元），当然你可以选别的自己尝试，反正大差不差。</p></li>\r\n<li><p>采样步数：高清修复相当于重绘，因此同样需要设置采样步数。设置为默认0的话则采用与图像生成一样的采样步数。</p></li>\r\n<li><p>重绘幅度：如果跟原图偏差不想太大，选0.3 ~\r\n0.5；想稍微变一点让AI自由创作一些，选0.5 ~\r\n0.7。太小会使细节不够，太大有几率会出现奇怪现象。</p></li>\r\n</ul>\r\n<h2 id=\"后期处理附加功能\">后期处理/附加功能</h2>\r\n<p>这个就在文生图/图生图边上，操作方法不用人讲应该都能看懂：设置一个放大倍数和一个放大算法，剩下的全部维持默认一个别管。</p>\r\n<p>优点：跑得快，时间短</p>\r\n<p>缺点：精细程度较低</p>\r\n<p>特点：相当于重绘幅度为0的重绘，有点类似于PS的放大再锐化</p>\r\n<h2 id=\"sd-upscale脚本\">SD Upscale脚本</h2>\r\n<ul>\r\n<li>优点：显存小也能出大图；缺点：跑的比较慢。</li>\r\n<li>脚本的安装：进入网页最右侧的扩展，从网页下载，输入下方链接进行安装，完成后重启网页UI。</li>\r\n</ul>\r\n<p>https://github.com/Coyote-A/ultimate-upscale-for-automatic1111</p>\r\n<ul>\r\n<li>在图生图模式的最下方可以找到脚本，选择SD\r\nUpscale进入。自定义尺寸、选择放大算法不再赘述。</li>\r\n<li>蒙版边缘模糊程度：这个东西的原理是把一张大图切割成不同的小图去跑，这个参数越大相当于两张图重叠越大，过渡越柔和，但是也不应该太大，一般32\r\n~ 128是一个较好的值。</li>\r\n</ul>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>原图</th>\r\n<th>结果图</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\home.png\" /></td>\r\n<td><img src=\"\\image\\SDU.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"小模型\">小模型</h1>\r\n<p>在之前我们介绍过了SD模型，其后缀通常为CheckPoint，机翻为检查点，实际含义也就是大模型。而除了大模型之外，我们还可以使用小模型，恰到好处地美化AI图片，解决诸如AI不会画手在内的一系列难题。</p>\r\n<h2 id=\"embeddings-文本嵌入\">Embeddings 文本嵌入</h2>\r\n<p>​ 这个东西在机器学习中被称为嵌入式向量，在C站中可以使用Textual\r\nInvention来检索它。这是一个仅有KB级别大小的文件，直接丢在Embeddings文件夹，并在图像生成时输入对应的一个关键词即可。这个相当于是一个小小的扩展，帮助AI了解某个特定的词语。比如AI被喂了人和鱼的信息，但是不知道美人鱼是什么，这时候特定的Embedding就会告诉他，这是一个“上半身女人，下班人鱼尾”的生物。</p>\r\n<ul>\r\n<li>一个很好用的例子：解决手部错乱</li>\r\n</ul>\r\n<p>​\r\n网上有非常多著名的Embeddings都是为了解决手部问题而生，他们记录了一系列手部错误的集合，然后只需要把他们加入<strong>负面提示词</strong>内，即可将这个问题得到极大地改善。推荐几个：</p>\r\n<ol type=\"1\">\r\n<li>EasyNegative：主要针对二次元画风，关键词为<code>easynegative</code>，<code>EasyNegativeV2</code></li>\r\n<li>DeepNegative：主要针对真人模型，关键词为<code>ng_deepnegative_v1_75t</code></li>\r\n<li>Negative-Hand：关键词为<code>negative_hand</code>，<code>negative_hand-neg</code></li>\r\n<li>badhandv4：关键词为<code>badhandv4</code></li>\r\n</ol>\r\n<h2 id=\"lora-低秩适应模式\">LoRa 低秩适应模式</h2>\r\n<p>​\r\nLoRa相比于上面的Embeddings，更着重于人物。比如说我想让AI帮我画一个嘉然（然然…嘿嘿我的嘉然…），但是这玩意儿肯定不是像美人鱼一样两三句话说得清的，于是就有作者专门针对嘉然构建了一个训练集。LoRa文件丢在models文件夹下的lora文件夹内，并在使用时加入<code>&lt;lora: LoRa_Name:0.8&gt;</code>这样的方式来调用，建议不要把提示强度开太高（大部分作者建议是0.5~0.8），不然容易影响画风。</p>\r\n<p>​ 可以考虑安装插件Additional\r\nNetwork，可以以一种可视化非常好的方式调用LoRa。此外，建议<strong>详细研读LoRa作者的作图建议</strong>。</p>\r\n<p>​\r\n这里下载了C站上一个下载量比较高的嘉然模型（触发关键词为<code>jiaran</code>），和另一个小众的嘉然常服训练集（无触发词），试一下。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>图1</th>\r\n<th>图2</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><img src=\"\\image\\Jiaran1.png\" /></td>\r\n<td><img src=\"\\image\\jiaran2.png\" /></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>​ 根据Nenly的教程，LoRa基本上可以分为五种应用，即：</p>\r\n<ol type=\"1\">\r\n<li>人物角色形象塑造：最常用的功能，比如上面的嘉然，一般来讲提示词强度开到0.7上下</li>\r\n<li>画风/风格塑造：比如宫崎骏画风等，影响出图整体效果，一般提示词强度开到0.3上下</li>\r\n<li>概念/构图：不太好描述，比如说画面变成抽卡立绘的感觉、角色呆在水晶球玻璃瓶的构图这样，一般不开太高</li>\r\n<li>服饰：改变角色服饰，一般提示词强度开到0.2-0.3</li>\r\n<li>物体/特定元素，常用于图生图局部重绘，改变特定部分的风格，一般不开太高</li>\r\n</ol>\r\n<h3 id=\"my-lora\">My LoRa</h3>\r\n<ol type=\"1\">\r\n<li>嘉然<code>Jiaran</code></li>\r\n<li>嘉然-常服<code>Jiaran_Changfu</code>\r\n<ol type=\"1\">\r\n<li>数值在0.5-0.7之间最佳</li>\r\n</ol></li>\r\n<li>细节修复<code>Detail Tweaker</code>\r\n<ol type=\"1\">\r\n<li>Based Model: SD1.5</li>\r\n<li>权重可以是-2到2之间的任何值，负值可以减少细节</li>\r\n</ol></li>\r\n<li>细节增加<code>Detail Enhancer</code>\r\n<ol type=\"1\">\r\n<li>Based Model: SD1.5</li>\r\n<li>权重推荐在0.5上下，小于0.5可以获得比较微妙的效果。1太高了。</li>\r\n</ol></li>\r\n<li>胶片风格<code>LEOSAM's FilmGirl</code>\r\n<ol type=\"1\">\r\n<li>Based Model: Hello World SDXL</li>\r\n<li>这是用于生成胶片风格AI写真照片的LoHA &amp;\r\nLoRA模型，可以生成逼真的胶片风格照片。可以搭配<code>negative_hand</code>的Embedding</li>\r\n<li>常用的CFG范围是6 ~ 7，Lora权重通常在0.5 ~ 0.7</li>\r\n<li>Clip skip设为1或2时，生成的效果会有所不同，看自己喜欢哪种风格</li>\r\n</ol></li>\r\n<li>塔罗牌风格<code>taro</code>\r\n<ol type=\"1\">\r\n<li>可以用<code>&#123;&#125; background</code>来设置背景，如<code>blue background</code></li>\r\n<li>推荐使用Embedding：<code>EasyNegative, badhandv4</code></li>\r\n<li>推荐强度：0.8~1</li>\r\n<li>Based Model: 万象熔炉 &amp; 深渊橘</li>\r\n</ol></li>\r\n<li>服装调节器\r\n<ol type=\"1\">\r\n<li>权重设置在-1到1之间，权重越大，对象衣物越少</li>\r\n<li>跟LoRa5、Hello World SDHX模型是同一个大佬发布的</li>\r\n</ol></li>\r\n<li>带背景立绘<code>tachi-e</code>\r\n<ol type=\"1\">\r\n<li>一般使用<code>wight background, full doby, looking at viewers</code>提示词</li>\r\n<li>触发词<code>tachi-e</code>，一般权重可以直接设置成1</li>\r\n</ol></li>\r\n<li>弹弓泳衣<code>slingshot swimsuit</code>\r\n<ol type=\"1\">\r\n<li>建议Clip Skip：2</li>\r\n<li>强度似乎是1 ~ 1.2？自己感觉0.8左右别大于1</li>\r\n</ol></li>\r\n<li>人物美化Cute Girl<code>mix4</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.4~0.7</li>\r\n</ol></li>\r\n<li>亚洲女性脸模<code>MengX girl_Mix_V40</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.7~1.0</li>\r\n<li>务必打开ADetailer插件使用</li>\r\n<li>可以尝试在提示词中增加blush，或许能更加可爱、少女</li>\r\n</ol></li>\r\n<li>私房写真风的泛用少女感混血脸<code>shojovibe_v11</code>\r\n<ol type=\"1\">\r\n<li>推荐强度0.6-0.8</li>\r\n</ol></li>\r\n<li>八重神子\r\n<ol type=\"1\">\r\n<li>应我室友要求搞的，被80了呜呜呜</li>\r\n<li>推荐提示词强度：0.45-0.75</li>\r\n</ol></li>\r\n<li>液体波浪概念衣服\r\n<ol type=\"1\">\r\n<li>触发词：<code>liquid clothes, water</code></li>\r\n<li>可用提示词：<code>blue theme, blue dress, waves, sea, water, water dress</code>，甚至<code>liquid hair</code>和<code>sky_print</code></li>\r\n</ol></li>\r\n<li>露西（赛博朋克边缘行者）\r\n<ol type=\"1\">\r\n<li>提示词强度0.65左右，最大1（1有点小大）</li>\r\n<li>建议提示词：<code>(robot joints:0.5), mechanical parts, lucy \\(cyberpunk\\), jacket, shorts</code></li>\r\n</ol></li>\r\n<li>素体机娘\r\n<ol type=\"1\">\r\n<li>建议提示词：<code>mecha musume, mechanical arms, headgear, bodysuit (可选)</code></li>\r\n<li>提示词强度:1-1.5</li>\r\n</ol></li>\r\n<li>Oversized Clothes\r\n<ol type=\"1\">\r\n<li>LORA 权重：建议为 0.2-0.7（我在图像中使用了 0.5）</li>\r\n<li>关键词：<code>oversized_hoodie</code>、<code>oversized_sweater</code></li>\r\n</ol></li>\r\n</ol>\r\n<h2 id=\"hypernetwork\">HyperNetwork</h2>\r\n<p>​\r\n中文名：超网络，一般用于改善整体画风。一般来讲用的比较少，业内风评也相对一般。这里举一个著名的例子，C站的“Waven\r\nChibi\r\nStyle”，开启后可以获得非常Q版的图像。开启方式：将HyperNetwork文件丢在对应的文件夹内，然后在网页UI的设置界面中选择超网络。</p>\r\n<h1 id=\"局部重绘\">局部重绘</h1>\r\n<p>字面意思很好理解，用于修正那些大题都非常满意，细节不太行的图。</p>\r\n<h2 id=\"图生图局部重绘\">图生图局部重绘</h2>\r\n<p>蒙版边缘模糊=羽化（10以下的非0值），蒙版边缘预留像素=扩展+融合（默认32，修改区域大就开大，反之减小）</p>\r\n<p>蒙版区域内容处理：选择“填充”可以使变化自由一些。</p>\r\n<p>重绘区域：一般建议修改区域大可以选整张图片，区域小选仅蒙版。</p>\r\n<h2 id=\"图生图涂鸦重绘\">图生图涂鸦重绘</h2>\r\n<p>比局部重绘多了一个调色盘，意思就是说你画上去的东西会影响他的生成。比如你想在原有美女的脸上画一个带白色爱心的蓝色口罩，那你就可以自己简单用蓝色画一个口罩，再用白色画一个爱心即可。这样引导性会更强一些。记得修改提示词。</p>\r\n<h1 id=\"插件\">插件</h1>\r\n<p>https://pan.baidu.com/s/10rzgzIjzad7AKmj-w8zO_w?pwd=nely</p>\r\n<p>其中插件是SD08</p>\r\n<h2 id=\"trigger\">Trigger</h2>\r\n<p>根据图画反推提示词，跟图生图里的类似但效果更好，但是不知道为什么我找不到这玩意儿。</p>\r\n<h2 id=\"llul\">LLUL</h2>\r\n<p>局部细节重绘，使用方法跟图像放大类似。</p>\r\n<h2 id=\"cut-off\">Cut Off</h2>\r\n<p>使用一些非常精细的描述（比如非常准确地描述人物穿搭），常常会使AI产生误判。将这些提示词丢到Cut\r\nOff里面可以大大减少AI误判程度。</p>\r\n<h2 id=\"ad-etailer\">AD etailer</h2>\r\n<p>https://github.com/Bing-su/adetailer</p>\r\n<p>着重人脸修复。提示词直接复制模型提示词即可。</p>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>模型</th>\r\n<th>适用对象</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>face_yolov8n.pt</td>\r\n<td>2D / 真实人脸</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>face_yolov8s.pt</td>\r\n<td>2D / 真实人脸</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>hand_yolov8n.pt</td>\r\n<td>2D / 真实人手</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>person_yolov8n-seg.pt</td>\r\n<td>2D / 真实全身</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>person_yolov8s-seg.pt</td>\r\n<td>2D/真实全身</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>mediapipe_face_full</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>mediapipe_face_short</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>mediapipe_face_mesh</td>\r\n<td>真实人脸</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n"},{"title":"Read Me","date":"2023-09-26T16:00:00.000Z","comments":1,"mathjax":true,"top_img":"/image/top3.jpg","cover":"/image/top2.png","description":"If you come here for the first time, it's advisable to READ ME.","top":1,"post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n\n\n恭喜你找到这个文档。（好吧，作为一个名为Read me的置顶文档，大部分会查资料的人应该都会点进来看。）\n\n欢迎来到我的个人博客主页，目前这个网站正在有条不紊（手忙脚乱）地建设当中。（不过现在已经差不多完善了）\n\n* 你可以在右上角的**分类**和**标签**中找到你所需要的资料，或者在右侧边栏中找到他们。\n* 你可以在右上角的**搜索**栏中快速搜索到你需要的内容。\n* 你可以在右上角的**友链**中找到其他人的博客，和一些有意思的网站。\n* 你可以在右上角的**图库**中找到一些能播的图片，与此同时我会将其同步更新在本文档下面。\n* 如果你有一些关于我笔记的疑问，可以在对应博客文档下方的**评论**区中发表。\n* 如果你想随便聊聊写点什么，可以在右上角的**说说**中发表评论。（注：说说仅有我本人可以发表）\n\n---\n\n* My Wechat：hans420907574\n\n\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '画作' '源自Pixiv或其他地方的画师作品' '/gallery/new/' /image/top2.png %}\n</div>","source":"_posts/Read Me.md","raw":"---\ntitle: Read Me\ndate: 2023-09-27\ncomments: true\nmathjax: true # 开启数学公式\ntop_img: /image/top3.jpg\ncover: /image/top2.png\ndescription: If you come here for the first time, it's advisable to READ ME.\ntop: 1\n\npost_meta:\n  page:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n  post:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n\n\n---\n\n\n\n恭喜你找到这个文档。（好吧，作为一个名为Read me的置顶文档，大部分会查资料的人应该都会点进来看。）\n\n欢迎来到我的个人博客主页，目前这个网站正在有条不紊（手忙脚乱）地建设当中。（不过现在已经差不多完善了）\n\n* 你可以在右上角的**分类**和**标签**中找到你所需要的资料，或者在右侧边栏中找到他们。\n* 你可以在右上角的**搜索**栏中快速搜索到你需要的内容。\n* 你可以在右上角的**友链**中找到其他人的博客，和一些有意思的网站。\n* 你可以在右上角的**图库**中找到一些能播的图片，与此同时我会将其同步更新在本文档下面。\n* 如果你有一些关于我笔记的疑问，可以在对应博客文档下方的**评论**区中发表。\n* 如果你想随便聊聊写点什么，可以在右上角的**说说**中发表评论。（注：说说仅有我本人可以发表）\n\n---\n\n* My Wechat：hans420907574\n\n\n\n<div class=\"gallery-group-main\">\n{% galleryGroup '画作' '源自Pixiv或其他地方的画师作品' '/gallery/new/' /image/top2.png %}\n</div>","slug":"Read Me","published":1,"updated":"2023-09-27T12:04:40.477Z","layout":"post","photos":[],"link":"","_id":"clojorf0600039kth7ica5z6k","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>恭喜你找到这个文档。（好吧，作为一个名为Read\r\nme的置顶文档，大部分会查资料的人应该都会点进来看。）</p>\r\n<p>欢迎来到我的个人博客主页，目前这个网站正在有条不紊（手忙脚乱）地建设当中。（不过现在已经差不多完善了）</p>\r\n<ul>\r\n<li>你可以在右上角的<strong>分类</strong>和<strong>标签</strong>中找到你所需要的资料，或者在右侧边栏中找到他们。</li>\r\n<li>你可以在右上角的<strong>搜索</strong>栏中快速搜索到你需要的内容。</li>\r\n<li>你可以在右上角的<strong>友链</strong>中找到其他人的博客，和一些有意思的网站。</li>\r\n<li>你可以在右上角的<strong>图库</strong>中找到一些能播的图片，与此同时我会将其同步更新在本文档下面。</li>\r\n<li>如果你有一些关于我笔记的疑问，可以在对应博客文档下方的<strong>评论</strong>区中发表。</li>\r\n<li>如果你想随便聊聊写点什么，可以在右上角的<strong>说说</strong>中发表评论。（注：说说仅有我本人可以发表）</li>\r\n</ul>\r\n<hr />\r\n<ul>\r\n<li>My Wechat：hans420907574</li>\r\n</ul>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/top2.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">画作</div>\n  <p>源自Pixiv或其他地方的画师作品</p>\n  <a href='/gallery/new/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<p>恭喜你找到这个文档。（好吧，作为一个名为Read\r\nme的置顶文档，大部分会查资料的人应该都会点进来看。）</p>\r\n<p>欢迎来到我的个人博客主页，目前这个网站正在有条不紊（手忙脚乱）地建设当中。（不过现在已经差不多完善了）</p>\r\n<ul>\r\n<li>你可以在右上角的<strong>分类</strong>和<strong>标签</strong>中找到你所需要的资料，或者在右侧边栏中找到他们。</li>\r\n<li>你可以在右上角的<strong>搜索</strong>栏中快速搜索到你需要的内容。</li>\r\n<li>你可以在右上角的<strong>友链</strong>中找到其他人的博客，和一些有意思的网站。</li>\r\n<li>你可以在右上角的<strong>图库</strong>中找到一些能播的图片，与此同时我会将其同步更新在本文档下面。</li>\r\n<li>如果你有一些关于我笔记的疑问，可以在对应博客文档下方的<strong>评论</strong>区中发表。</li>\r\n<li>如果你想随便聊聊写点什么，可以在右上角的<strong>说说</strong>中发表评论。（注：说说仅有我本人可以发表）</li>\r\n</ul>\r\n<hr />\r\n<ul>\r\n<li>My Wechat：hans420907574</li>\r\n</ul>\r\n<div class=\"gallery-group-main\">\r\n\n  <figure class=\"gallery-group\">\n  <img class=\"gallery-group-img no-lightbox\" src='/image/top2.png' alt=\"Group Image Gallery\">\n  <figcaption>\n  <div class=\"gallery-group-name\">画作</div>\n  <p>源自Pixiv或其他地方的画师作品</p>\n  <a href='/gallery/new/'></a>\n  </figcaption>\n  </figure>\n  \r\n</div>\r\n"},{"title":"数据结构基础FDS","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://img-qn.51miz.com/Photo/2017/03/27/23/P226220_c682c184336b010907a3ea4842f8ea38.jpg","description":"数据结构基础FDS课程笔记","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n## FDS\n\n* 公众号版本：\n\n\n\n\n{% btn 'https://mp.weixin.qq.com/s/TXiznrF1Xp9Qlu0wQJ8Oyg',Click,far fa-hand-point-right,center,larger %}\n\n\n\n\n* 网页PDF版本：\n\n<a href=\"\\myfile\\FDS.pdf\" target=\"_blank\">FDS笔记</a>\n","source":"_posts/FDS.md","raw":"---\ntitle: 数据结构基础FDS\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://img-qn.51miz.com/Photo/2017/03/27/23/P226220_c682c184336b010907a3ea4842f8ea38.jpg\ndescription: 数据结构基础FDS课程笔记\ntags: \n  - 笔记\n  - 大二\n  - ACEE\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n## FDS\n\n* 公众号版本：\n\n\n\n\n{% btn 'https://mp.weixin.qq.com/s/TXiznrF1Xp9Qlu0wQJ8Oyg',Click,far fa-hand-point-right,center,larger %}\n\n\n\n\n* 网页PDF版本：\n\n<a href=\"\\myfile\\FDS.pdf\" target=\"_blank\">FDS笔记</a>\n","slug":"FDS","published":1,"date":"2023-09-26T11:37:46.265Z","updated":"2023-10-06T01:51:47.451Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0900079kth2n4peu2p","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"fds\">FDS</h2>\r\n<ul>\r\n<li>公众号版本：</li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://mp.weixin.qq.com/s/TXiznrF1Xp9Qlu0wQJ8Oyg\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<ul>\r\n<li>网页PDF版本：</li>\r\n</ul>\r\n<p><a href=\"\\myfile\\FDS.pdf\" target=\"_blank\">FDS笔记</a></p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"fds\">FDS</h2>\r\n<ul>\r\n<li>公众号版本：</li>\r\n</ul>\r\n<a class=\"btn-beautify center\" href=\"https://mp.weixin.qq.com/s/TXiznrF1Xp9Qlu0wQJ8Oyg\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n<ul>\r\n<li>网页PDF版本：</li>\r\n</ul>\r\n<p><a href=\"\\myfile\\FDS.pdf\" target=\"_blank\">FDS笔记</a></p>\r\n"},{"title":"Hello World","date":"2023-09-23T16:00:00.000Z","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://img1.baidu.com/it/u=2357593784,3294108420&fm=253&fmt=auto&app=120&f=JPEG?w=854&h=480","description":"Hello, World!","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n* This article is for me.\n\n## 一些网页端的简记\n\n### 开头\n\n在每篇文档开头，打上标签，如下：\n\n````markdown\n---\ntitle: 文章标题\ndate: 2023-09-25\ncomments: true\nmathjax: true # 开启数学公式\ntop_img: /image/top3.jpg\ncover: 缩略图图片连接\ndescription: 文章简介\ntags: 标签\ncategories: 分类\n\npost_meta:\n  page:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n  post:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n\n---\n````\n\n### 使用\n\n* 文章的标题图片统一使用“/image/top3.jpg”\n\n* 页面的标题图片统一使用“/image/top.jpeg”\n\n* 标准图表网站：[Find Icons with the Perfect Look & Feel | Font Awesome](https://fontawesome.com/)\n  * 例：``<i class=\"fa-brands fa-github\"></i>``\n  * 改为：fab fa-github\n  \n* 按钮button（附上两个好看的。第二个有手指第一个没有）\n\n```markdown\n    {% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %}\n    中间用逗号或\"-\"隔开，按要求\n    [url]         : 链接\n    [text]        : 按钮文字\n    [icon]        : [可选] 图标\n    [color]       : [可选] 按钮背景顔色(默认style时）\n                          按钮字体和边框顔色(outline时)，default/blue/pink/red/purple/orange/green\n    [style]       : [可选] 按钮样式 默认实心，outline/留空\n    [layout]      : [可选] 按钮佈局 默认为line，block/留空\n    [position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边，center/right/留空\n    [size]        : [可选] 按钮大小，larger/留空\n```\n\n```markdown\n    {% btn 'https://butterfly.js.org/',Butterfly %}\n    {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n```\n\n* \n\n### 文章缩略图\n\n按需取用：\n\n```\ndefault_cover: \n    - https://img2.baidu.com/it/u=1235612171,3868693941&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281（√）\n    - https://img1.baidu.com/it/u=2996267891,32376633&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500（√）\n    - https://img1.baidu.com/it/u=312822943,1236795569&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800\n    - https://img0.baidu.com/it/u=1804133410,3139237737&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n    - https://img1.baidu.com/it/u=161683432,2488264310&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500（√）\n    - https://img1.baidu.com/it/u=3498215964,1377341541&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500\n    - https://img1.baidu.com/it/u=3664282049,2844914481&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500\n    - https://img0.baidu.com/it/u=2189029883,1880322455&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n    - https://img1.baidu.com/it/u=2477736930,489697403&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800\n    - https://img2.baidu.com/it/u=504235302,299195994&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\n    - https://img0.baidu.com/it/u=6927155,1857076631&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\n    - https://img0.baidu.com/it/u=3270195087,2703081542&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n```\n\n\n\n### Test Part\n\n$q=\\frac{T_1-T_2}{\\frac1{h_1A}+\\frac{\\delta}{\\lambda A}+\\frac1{h_2A}}$\n\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\ndate: 2023-09-24\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://img1.baidu.com/it/u=2357593784,3294108420&fm=253&fmt=auto&app=120&f=JPEG?w=854&h=480\ndescription: Hello, World!\ntags: \n  - Hexo\n  - 随笔\ncategories: Hexo\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n* This article is for me.\n\n## 一些网页端的简记\n\n### 开头\n\n在每篇文档开头，打上标签，如下：\n\n````markdown\n---\ntitle: 文章标题\ndate: 2023-09-25\ncomments: true\nmathjax: true # 开启数学公式\ntop_img: /image/top3.jpg\ncover: 缩略图图片连接\ndescription: 文章简介\ntags: 标签\ncategories: 分类\n\npost_meta:\n  page:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n  post:\n    date_type: both \n    date_format: date \n    categories: true \n    tags: true \n    label: true \n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n\n---\n````\n\n### 使用\n\n* 文章的标题图片统一使用“/image/top3.jpg”\n\n* 页面的标题图片统一使用“/image/top.jpeg”\n\n* 标准图表网站：[Find Icons with the Perfect Look & Feel | Font Awesome](https://fontawesome.com/)\n  * 例：``<i class=\"fa-brands fa-github\"></i>``\n  * 改为：fab fa-github\n  \n* 按钮button（附上两个好看的。第二个有手指第一个没有）\n\n```markdown\n    {% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %}\n    中间用逗号或\"-\"隔开，按要求\n    [url]         : 链接\n    [text]        : 按钮文字\n    [icon]        : [可选] 图标\n    [color]       : [可选] 按钮背景顔色(默认style时）\n                          按钮字体和边框顔色(outline时)，default/blue/pink/red/purple/orange/green\n    [style]       : [可选] 按钮样式 默认实心，outline/留空\n    [layout]      : [可选] 按钮佈局 默认为line，block/留空\n    [position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边，center/right/留空\n    [size]        : [可选] 按钮大小，larger/留空\n```\n\n```markdown\n    {% btn 'https://butterfly.js.org/',Butterfly %}\n    {% btn 'https://butterfly.js.org/',Butterfly,far fa-hand-point-right,larger %}\n```\n\n* \n\n### 文章缩略图\n\n按需取用：\n\n```\ndefault_cover: \n    - https://img2.baidu.com/it/u=1235612171,3868693941&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281（√）\n    - https://img1.baidu.com/it/u=2996267891,32376633&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500（√）\n    - https://img1.baidu.com/it/u=312822943,1236795569&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800\n    - https://img0.baidu.com/it/u=1804133410,3139237737&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n    - https://img1.baidu.com/it/u=161683432,2488264310&fm=253&fmt=auto&app=138&f=JPEG?w=800&h=500（√）\n    - https://img1.baidu.com/it/u=3498215964,1377341541&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500\n    - https://img1.baidu.com/it/u=3664282049,2844914481&fm=253&fmt=auto&app=138&f=JPEG?w=889&h=500\n    - https://img0.baidu.com/it/u=2189029883,1880322455&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n    - https://img1.baidu.com/it/u=2477736930,489697403&fm=253&fmt=auto&app=120&f=JPEG?w=1422&h=800\n    - https://img2.baidu.com/it/u=504235302,299195994&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\n    - https://img0.baidu.com/it/u=6927155,1857076631&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\n    - https://img0.baidu.com/it/u=3270195087,2703081542&fm=253&fmt=auto&app=120&f=JPEG?w=1280&h=800\n```\n\n\n\n### Test Part\n\n$q=\\frac{T_1-T_2}{\\frac1{h_1A}+\\frac{\\delta}{\\lambda A}+\\frac1{h_2A}}$\n\n","slug":"hello-world","published":1,"updated":"2023-10-07T10:53:27.690Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0900099kth2wb36gff","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><ul>\r\n<li>This article is for me.</li>\r\n</ul>\r\n<h2 id=\"一些网页端的简记\">一些网页端的简记</h2>\r\n<h3 id=\"开头\">开头</h3>\r\n<p>在每篇文档开头，打上标签，如下：</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 文章标题</span><br><span class=\"line\">date: 2023-09-25</span><br><span class=\"line\">comments: true</span><br><span class=\"line\">mathjax: true # 开启数学公式</span><br><span class=\"line\">top<span class=\"emphasis\">_img: /image/top3.jpg</span></span><br><span class=\"line\"><span class=\"emphasis\">cover: 缩略图图片连接</span></span><br><span class=\"line\"><span class=\"emphasis\">description: 文章简介</span></span><br><span class=\"line\"><span class=\"emphasis\">tags: 标签</span></span><br><span class=\"line\"><span class=\"emphasis\">categories: 分类</span></span><br><span class=\"line\"><span class=\"emphasis\"></span></span><br><span class=\"line\"><span class=\"emphasis\">post_</span>meta:</span><br><span class=\"line\">  page:</span><br><span class=\"line\"><span class=\"code\">    date_type: both </span></span><br><span class=\"line\"><span class=\"code\">    date_format: date </span></span><br><span class=\"line\"><span class=\"code\">    categories: true </span></span><br><span class=\"line\"><span class=\"code\">    tags: true </span></span><br><span class=\"line\"><span class=\"code\">    label: true </span></span><br><span class=\"line\"><span class=\"code\">  post:</span></span><br><span class=\"line\"><span class=\"code\">    date_type: both </span></span><br><span class=\"line\"><span class=\"code\">    date_format: date </span></span><br><span class=\"line\"><span class=\"code\">    categories: true </span></span><br><span class=\"line\"><span class=\"code\">    tags: true </span></span><br><span class=\"line\"><span class=\"code\">    label: true </span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\">copyright<span class=\"emphasis\">_author: Paradox</span></span><br><span class=\"line\"><span class=\"emphasis\">copyright_</span>author<span class=\"emphasis\">_href: https://github.com/ParadoxTZ</span></span><br><span class=\"line\"><span class=\"emphasis\">copyright_</span>info: 此文章版权归Paradox所有，如有转载，请注明来自原作者</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"使用\">使用</h3>\r\n<ul>\r\n<li><p>文章的标题图片统一使用“/image/top3.jpg”</p></li>\r\n<li><p>页面的标题图片统一使用“/image/top.jpeg”</p></li>\r\n<li><p>标准图表网站：<a href=\"https://fontawesome.com/\">Find Icons with\r\nthe Perfect Look &amp; Feel | Font Awesome</a></p>\r\n<ul>\r\n<li>例：<code>&lt;i class=\"fa-brands fa-github\"&gt;&lt;/i&gt;</code></li>\r\n<li>改为：fab fa-github</li>\r\n</ul></li>\r\n<li><p>按钮button（附上两个好看的。第二个有手指第一个没有）</p></li>\r\n</ul>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class=\"line\">中间用逗号或&quot;-&quot;隔开，按要求</span><br><span class=\"line\">[url]         : 链接</span><br><span class=\"line\">[text]        : 按钮文字</span><br><span class=\"line\">[icon]        : [可选] 图标</span><br><span class=\"line\">[color]       : [可选] 按钮背景顔色(默认style时）</span><br><span class=\"line\"><span class=\"code\">                      按钮字体和边框顔色(outline时)，default/blue/pink/red/purple/orange/green</span></span><br><span class=\"line\"><span class=\"code\">[style]       : [可选] 按钮样式 默认实心，outline/留空</span></span><br><span class=\"line\"><span class=\"code\">[layout]      : [可选] 按钮佈局 默认为line，block/留空</span></span><br><span class=\"line\"><span class=\"code\">[position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边，center/right/留空</span></span><br><span class=\"line\"><span class=\"code\">[size]        : [可选] 按钮大小，larger/留空</span></span><br></pre></td></tr></table></figure>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn &#x27;https://butterfly.js.org/&#x27;,Butterfly %&#125;</span><br><span class=\"line\">&#123;% btn &#x27;https://butterfly.js.org/&#x27;,Butterfly,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure>\r\n<ul>\r\n<li></li>\r\n</ul>\r\n<h3 id=\"文章缩略图\">文章缩略图</h3>\r\n<p>按需取用：</p>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">default_cover: </span><br><span class=\"line\">    - https://img2.baidu.com/it/u=1235612171,3868693941&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=2996267891,32376633&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=312822943,1236795569&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=1804133410,3139237737&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=161683432,2488264310&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=3498215964,1377341541&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=3664282049,2844914481&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=2189029883,1880322455&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=2477736930,489697403&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800</span><br><span class=\"line\">    - https://img2.baidu.com/it/u=504235302,299195994&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=6927155,1857076631&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=3270195087,2703081542&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"test-part\">Test Part</h3>\r\n<p><span\r\nclass=\"math inline\">\\(q=\\frac{T_1-T_2}{\\frac1{h_1A}+\\frac{\\delta}{\\lambda\r\nA}+\\frac1{h_2A}}\\)</span></p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<ul>\r\n<li>This article is for me.</li>\r\n</ul>\r\n<h2 id=\"一些网页端的简记\">一些网页端的简记</h2>\r\n<h3 id=\"开头\">开头</h3>\r\n<p>在每篇文档开头，打上标签，如下：</p>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">---</span><br><span class=\"line\">title: 文章标题</span><br><span class=\"line\">date: 2023-09-25</span><br><span class=\"line\">comments: true</span><br><span class=\"line\">mathjax: true # 开启数学公式</span><br><span class=\"line\">top<span class=\"emphasis\">_img: /image/top3.jpg</span></span><br><span class=\"line\"><span class=\"emphasis\">cover: 缩略图图片连接</span></span><br><span class=\"line\"><span class=\"emphasis\">description: 文章简介</span></span><br><span class=\"line\"><span class=\"emphasis\">tags: 标签</span></span><br><span class=\"line\"><span class=\"emphasis\">categories: 分类</span></span><br><span class=\"line\"><span class=\"emphasis\"></span></span><br><span class=\"line\"><span class=\"emphasis\">post_</span>meta:</span><br><span class=\"line\">  page:</span><br><span class=\"line\"><span class=\"code\">    date_type: both </span></span><br><span class=\"line\"><span class=\"code\">    date_format: date </span></span><br><span class=\"line\"><span class=\"code\">    categories: true </span></span><br><span class=\"line\"><span class=\"code\">    tags: true </span></span><br><span class=\"line\"><span class=\"code\">    label: true </span></span><br><span class=\"line\"><span class=\"code\">  post:</span></span><br><span class=\"line\"><span class=\"code\">    date_type: both </span></span><br><span class=\"line\"><span class=\"code\">    date_format: date </span></span><br><span class=\"line\"><span class=\"code\">    categories: true </span></span><br><span class=\"line\"><span class=\"code\">    tags: true </span></span><br><span class=\"line\"><span class=\"code\">    label: true </span></span><br><span class=\"line\"><span class=\"code\"></span></span><br><span class=\"line\">copyright<span class=\"emphasis\">_author: Paradox</span></span><br><span class=\"line\"><span class=\"emphasis\">copyright_</span>author<span class=\"emphasis\">_href: https://github.com/ParadoxTZ</span></span><br><span class=\"line\"><span class=\"emphasis\">copyright_</span>info: 此文章版权归Paradox所有，如有转载，请注明来自原作者</span><br><span class=\"line\"></span><br><span class=\"line\">---</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"使用\">使用</h3>\r\n<ul>\r\n<li><p>文章的标题图片统一使用“/image/top3.jpg”</p></li>\r\n<li><p>页面的标题图片统一使用“/image/top.jpeg”</p></li>\r\n<li><p>标准图表网站：<a href=\"https://fontawesome.com/\">Find Icons with\r\nthe Perfect Look &amp; Feel | Font Awesome</a></p>\r\n<ul>\r\n<li>例：<code>&lt;i class=\"fa-brands fa-github\"&gt;&lt;/i&gt;</code></li>\r\n<li>改为：fab fa-github</li>\r\n</ul></li>\r\n<li><p>按钮button（附上两个好看的。第二个有手指第一个没有）</p></li>\r\n</ul>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn [url],[text],[icon],[color] [style] [layout] [position] [size] %&#125;</span><br><span class=\"line\">中间用逗号或&quot;-&quot;隔开，按要求</span><br><span class=\"line\">[url]         : 链接</span><br><span class=\"line\">[text]        : 按钮文字</span><br><span class=\"line\">[icon]        : [可选] 图标</span><br><span class=\"line\">[color]       : [可选] 按钮背景顔色(默认style时）</span><br><span class=\"line\"><span class=\"code\">                      按钮字体和边框顔色(outline时)，default/blue/pink/red/purple/orange/green</span></span><br><span class=\"line\"><span class=\"code\">[style]       : [可选] 按钮样式 默认实心，outline/留空</span></span><br><span class=\"line\"><span class=\"code\">[layout]      : [可选] 按钮佈局 默认为line，block/留空</span></span><br><span class=\"line\"><span class=\"code\">[position]    : [可选] 按钮位置 前提是设置了layout为block 默认为左边，center/right/留空</span></span><br><span class=\"line\"><span class=\"code\">[size]        : [可选] 按钮大小，larger/留空</span></span><br></pre></td></tr></table></figure>\r\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% btn &#x27;https://butterfly.js.org/&#x27;,Butterfly %&#125;</span><br><span class=\"line\">&#123;% btn &#x27;https://butterfly.js.org/&#x27;,Butterfly,far fa-hand-point-right,larger %&#125;</span><br></pre></td></tr></table></figure>\r\n<ul>\r\n<li></li>\r\n</ul>\r\n<h3 id=\"文章缩略图\">文章缩略图</h3>\r\n<p>按需取用：</p>\r\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">default_cover: </span><br><span class=\"line\">    - https://img2.baidu.com/it/u=1235612171,3868693941&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=2996267891,32376633&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=312822943,1236795569&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=1804133410,3139237737&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=161683432,2488264310&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=800&amp;h=500（√）</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=3498215964,1377341541&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=3664282049,2844914481&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=889&amp;h=500</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=2189029883,1880322455&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br><span class=\"line\">    - https://img1.baidu.com/it/u=2477736930,489697403&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1422&amp;h=800</span><br><span class=\"line\">    - https://img2.baidu.com/it/u=504235302,299195994&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=6927155,1857076631&amp;fm=253&amp;fmt=auto&amp;app=138&amp;f=JPEG?w=500&amp;h=281</span><br><span class=\"line\">    - https://img0.baidu.com/it/u=3270195087,2703081542&amp;fm=253&amp;fmt=auto&amp;app=120&amp;f=JPEG?w=1280&amp;h=800</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"test-part\">Test Part</h3>\r\n<p><span\r\nclass=\"math inline\">\\(q=\\frac{T_1-T_2}{\\frac1{h_1A}+\\frac{\\delta}{\\lambda\r\nA}+\\frac1{h_2A}}\\)</span></p>\r\n"},{"title":"双足机器人课程笔记","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://ts1.cn.mm.bing.net/th/id/R-C.ff3a008f04d73eb1d36f8c440a7c5f6e?rik=isriF0iOOG0dRQ&riu=http%3a%2f%2fimg.ugainian.com%2f2413%2f5ab5f3c6d74cd.jpg&ehk=C18YlFJaNEdIgWvM1m2GPulTAxoTm1tEa4b0h9DCY7Y%3d&risl=&pid=ImgRaw&r=0","description":"双足移动机器人技术及强化实践","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n\n\n# Articulated robots（关节型机器人）\n\n## Mechanisms（机构）\n\n* Def：A system of 2 or more linked machine parts with kinematic pairs（运动副）\n  * 运动副的元素：点、线、面\n  * 分类：\n    * 按压强：高副（点、线）、低副（面）\n    * 按自由度：平面副、空间副\n  * 机器人机械臂基本都是平面转动副\n\n* 自由度（Degree of Freedom，DoF）\n  * 机器人的自由度认为是可被独立驱动器的数目\n  * n：可以动的零部件数目（结构数）\n  * L：低副数目\n  * H：高副数目\n  * $DoF = 3n-2L-H$\n\n## Robot Manipulators（机械臂）\n\n- Def： A sequence of rigid bodies ~（没抄完）\n\n# Rotation Geometry（旋转几何体）\n\n## Position & Orientation\n\n* Coordinate Frame（坐标系）变换的推导\n\n\n$$\n\\begin{gather*}\n\n对一个矢量r，在不同坐标系下的表达分别为：\\\\\n\\begin{cases}\n^0r=X\\dot I+Y\\dot J+Z\\dot K\\\\\n^1r=x\\dot i+y\\dot j+z\\dot k\\end{cases}\\\\\n根据点积的几何意义，可以写出三条表达式：\\\\\n\\begin{cases}\nX=\\dot I\\cdot \\dot r=\\dot I\\cdot \\dot {r^1}=\\dot I\\cdot x\\dot i+\\dot I\\cdot y\\dot j+\\dot I\\cdot z\\dot k\\\\\nY=...\\\\Z=...\n\\end{cases}\\\\\n得：^0r=\\begin{bmatrix}X\\\\Y\\\\Z\\end{bmatrix}= \\,^0R_1\\begin{bmatrix}x\\\\y\\\\z\\end{bmatrix}=\\,^0R_1\\,^1r\\\\\n且：^0R_1=\\,^1R_0^{(-1)}=\\,^1R_0^T(即：旋转矩阵の逆=转置)\\\\\n^0R_1(1到0)=\\begin{bmatrix}\nIi&Ij&Ik\\\\Ji&Jj&Jk\\\\Ki&Kj&Kk\n\\end{bmatrix}=\\begin{bmatrix}\ni在OXYZ的向量&y在OXYZ的向量&z在OXYZ的向量\n\\end{bmatrix}\\triangleq \\begin{bmatrix}\nn&s&a\n\\end{bmatrix}\\\\\n约束：|n|=|s|=|a|=1;\\,\\,l_1\\times l_2=l_3(三条);\\\\因此还剩下三个自由度，正好对应旋转矩阵\\\\\n举个例子，1坐标系绕0坐标系z轴逆时针转动，旋转矩阵为：\\\\\n^0R_1=\\begin{bmatrix}\ncos&sin&0\\\\-sin&cos&0\\\\0&0&1\n\\end{bmatrix}\n\\end{gather*}\n$$\n\n* **多考虑几何意义，在手算的时候不需要手撕公式，直接看坐标系1三个轴在坐标系0中的坐标，搞成列向量的形式拼在一起就是旋转矩阵。**\n* 两次旋转的两种不同方式：\n\n1. 绕0系某坐标轴转动为1系，1系再绕0系某轴转动为2系：$^0R_2=R_{(1)}R_{(2)}$\n\n2. 绕0系某坐标轴转动为1系，绕1系(自身)某轴转动为2系：$^0R_2=\\,^0R_1\\,^1R_2$\n\n* 结论：**绕父坐标系(世界坐标系)旋转，左乘新矩阵；绕自身旋转，右乘新矩阵。**\n\n## Representation of Orientation\n\n### 固定角描述法\n\n* **RPY Angels**（RPY固定角描述法）：先X，再Y，再Z，全部都默认**绕世界坐标系**转动。\n  * R：Roll横滚；P：Pitch俯仰；Y：Yaw侧航。\n  * $^0R_1=R_Z\\,R_Y\\,R_X$\n\n### 欧拉角描述法\n\n* **Zxz Eular Angles**：先Z，再x，再z。\n  * Z：Precession进动；x：Nutation章动；z：Spin自旋。\n  * $^0R_1=R_Z\\,R_x\\,R_z$\n* **RPY Eular Angels**：先X，再y，再z。\n\n## Triple-Angels\n\n* ABC（CBA）Type：$\\beta\\in(-\\frac{\\pi}2,\\frac{\\pi}2)$\n* ABA Type：$\\beta\\in(0,\\pi)$\n\n在$\\beta\\ne\\pm\\frac{\\pi}2$时的**RPY Angle下的转换公式**：\n$$\n\\beta=-arcsin(r_{31});\\gamma=arctan2(r_{32},r_{33});\\alpha=arctan2(r_{21},r_{11} )\n$$\n在$\\beta\\ne0 、\\pi$时的Eular **Zxz** Angle下的转换公式：\n$$\n\\beta=arccos(r_{33});\\alpha=arctan2(r_{13},-r_{23});\\gamma=arctan2(r_{32},r_{33})\n$$\n为了更好的完成后续内容，**请不要让你的机器人出现$\\beta=\\pm\\frac{\\pi}2$的奇异性现象**，否则将无法确认$\\alpha,\\gamma$的值。\n\n其中，arctan2是双变量反正切函数，跟arctan基本一样，只是多规定了一下象限，能直接帮你判断象限和具体角度，一般用于编程。\n\n\n\n# Forward Kinematics（正运动学）\n\n## Position & Orientation\n\n旋转矩阵+偏移矢量：$^0r={}^0R_1{}^1r+{}^0d$\n\n**旋转矩阵（非齐次式） ——> 转移矩阵（齐次式）：**\n$$\n\\begin{gather*}\n\\begin{bmatrix}{}^0r\\\\1\\end{bmatrix}=\n\\begin{bmatrix}{}^0R_1&{}^0d\\\\0_{1\\times3}&1\\end{bmatrix}\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}=\n{}^0T_1\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}\n\\end{gather*}\n$$\n其中，$\\begin{gather*}^0d=d_{3\\times1}=\\begin{bmatrix}d_x\\\\d_y\\\\d_z\\end{bmatrix}\\end{gather*}$。\n\n同样满足链式法则：$^0T_2={}^0T_1\\cdot{}^1T_2$（**绕自身坐标系右乘，绕世界坐标系左乘**）\n\n但是，与旋转矩阵不同的是，$^0T_1^{-1}={}^1T_0\\ne{}^0T_1^T$\n\n## Denavit-Hartenberg Method\n\n一种用于描述几乎所有机械臂运行工作方式的方法理论：find T between link i and link i-1for relative motions given (rotation and geometries of machanical parts，旋转和几何尺寸)\n\n* D-H Parameters：\n  1. 建立坐标系：将 link i 绕着 link i-1 旋转的转轴定义为Z~i~轴，将 link i-1 指向 link i 的方向定义为X轴（$x _ i=\\pm(z _ {i-1}\\times z _ i)/||z _ {i _ 1}\\times z _ i||$）\n  2. **连杆偏距d：**前后两个X轴在Z~i-1~轴上的距离。**旋转角$\\alpha$：**z~i-1~和z~i~轴的夹角（z~i-1~绕着x~i~旋转）。**连杆长度a：**z~i-1~经过旋转角后（与z~i~平行）与z~i~的距离。**关节角$\\theta$:**前后两个X轴，绕Z~i-1~旋转的夹角（可变）。（按照顺序一个一个变换）（如果X/Z轴共线的话，那么d/a长度就是0）\n\n![](/image/双足01.png)\n\n## Transformation Matrix\n\n$$\n\\begin{gather*}\n^{i-1}T_i=\\begin{bmatrix}\nc\\theta_i&-c\\alpha_is\\theta_i&s\\theta_is\\alpha_i&a_ic\\theta_i\\\\\ns\\theta_i&c\\alpha_ic\\theta_i&-s\\alpha_ic\\theta_i&a_is\\theta_i\\\\\n0&s\\alpha_i&c\\alpha_i&d_i\\\\\n0&0&0&1\n\\end{bmatrix}\n\\end{gather*}\n$$\n\n注：同一个量平移和旋转可交换，两个旋转不可交换\n\n\n\n# Inverse Kinematics（逆运动学）\n\n## Inverse Kinematics\n\n已知末端点的位姿，求解各个关节角的旋转角度。可能存在两个问题：1）可能没有解析解（但是一般的工程师不会有那么NT给自己设计没有解析解的机械臂）；2）可能有奇异性，即非单一解。\n\n已知：$^0R_6$和$^0d_6$\n$$\n\\begin{gather*}\n^0T_6(数据)=\\,^0T_3(参数)\\,^3T_6(待求)\\\\\n^0d_6(数据)=\\,^0d_3(参数)+\\,^0R_3(参数+待求)\\,^3r_6(参数)\\Rightarrow\\,^0R_3(\\theta_{1,2,3})\\\\\n^3R_6(待求)=\\,^0R_3^T(上面求出来了)\\,^0R_6(已知数据)\\Rightarrow\\,^3R_6(\\theta_{4,5,6})\n\\end{gather*}\n$$\n最终要求的参数：所有$\\theta$角。\n","source":"_posts/双足机器人.md","raw":"---\ntitle: 双足机器人课程笔记\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://ts1.cn.mm.bing.net/th/id/R-C.ff3a008f04d73eb1d36f8c440a7c5f6e?rik=isriF0iOOG0dRQ&riu=http%3a%2f%2fimg.ugainian.com%2f2413%2f5ab5f3c6d74cd.jpg&ehk=C18YlFJaNEdIgWvM1m2GPulTAxoTm1tEa4b0h9DCY7Y%3d&risl=&pid=ImgRaw&r=0\ndescription: 双足移动机器人技术及强化实践\ntags: \n  - ACEE\n  - 笔记\n  - 大三\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n\n\n# Articulated robots（关节型机器人）\n\n## Mechanisms（机构）\n\n* Def：A system of 2 or more linked machine parts with kinematic pairs（运动副）\n  * 运动副的元素：点、线、面\n  * 分类：\n    * 按压强：高副（点、线）、低副（面）\n    * 按自由度：平面副、空间副\n  * 机器人机械臂基本都是平面转动副\n\n* 自由度（Degree of Freedom，DoF）\n  * 机器人的自由度认为是可被独立驱动器的数目\n  * n：可以动的零部件数目（结构数）\n  * L：低副数目\n  * H：高副数目\n  * $DoF = 3n-2L-H$\n\n## Robot Manipulators（机械臂）\n\n- Def： A sequence of rigid bodies ~（没抄完）\n\n# Rotation Geometry（旋转几何体）\n\n## Position & Orientation\n\n* Coordinate Frame（坐标系）变换的推导\n\n\n$$\n\\begin{gather*}\n\n对一个矢量r，在不同坐标系下的表达分别为：\\\\\n\\begin{cases}\n^0r=X\\dot I+Y\\dot J+Z\\dot K\\\\\n^1r=x\\dot i+y\\dot j+z\\dot k\\end{cases}\\\\\n根据点积的几何意义，可以写出三条表达式：\\\\\n\\begin{cases}\nX=\\dot I\\cdot \\dot r=\\dot I\\cdot \\dot {r^1}=\\dot I\\cdot x\\dot i+\\dot I\\cdot y\\dot j+\\dot I\\cdot z\\dot k\\\\\nY=...\\\\Z=...\n\\end{cases}\\\\\n得：^0r=\\begin{bmatrix}X\\\\Y\\\\Z\\end{bmatrix}= \\,^0R_1\\begin{bmatrix}x\\\\y\\\\z\\end{bmatrix}=\\,^0R_1\\,^1r\\\\\n且：^0R_1=\\,^1R_0^{(-1)}=\\,^1R_0^T(即：旋转矩阵の逆=转置)\\\\\n^0R_1(1到0)=\\begin{bmatrix}\nIi&Ij&Ik\\\\Ji&Jj&Jk\\\\Ki&Kj&Kk\n\\end{bmatrix}=\\begin{bmatrix}\ni在OXYZ的向量&y在OXYZ的向量&z在OXYZ的向量\n\\end{bmatrix}\\triangleq \\begin{bmatrix}\nn&s&a\n\\end{bmatrix}\\\\\n约束：|n|=|s|=|a|=1;\\,\\,l_1\\times l_2=l_3(三条);\\\\因此还剩下三个自由度，正好对应旋转矩阵\\\\\n举个例子，1坐标系绕0坐标系z轴逆时针转动，旋转矩阵为：\\\\\n^0R_1=\\begin{bmatrix}\ncos&sin&0\\\\-sin&cos&0\\\\0&0&1\n\\end{bmatrix}\n\\end{gather*}\n$$\n\n* **多考虑几何意义，在手算的时候不需要手撕公式，直接看坐标系1三个轴在坐标系0中的坐标，搞成列向量的形式拼在一起就是旋转矩阵。**\n* 两次旋转的两种不同方式：\n\n1. 绕0系某坐标轴转动为1系，1系再绕0系某轴转动为2系：$^0R_2=R_{(1)}R_{(2)}$\n\n2. 绕0系某坐标轴转动为1系，绕1系(自身)某轴转动为2系：$^0R_2=\\,^0R_1\\,^1R_2$\n\n* 结论：**绕父坐标系(世界坐标系)旋转，左乘新矩阵；绕自身旋转，右乘新矩阵。**\n\n## Representation of Orientation\n\n### 固定角描述法\n\n* **RPY Angels**（RPY固定角描述法）：先X，再Y，再Z，全部都默认**绕世界坐标系**转动。\n  * R：Roll横滚；P：Pitch俯仰；Y：Yaw侧航。\n  * $^0R_1=R_Z\\,R_Y\\,R_X$\n\n### 欧拉角描述法\n\n* **Zxz Eular Angles**：先Z，再x，再z。\n  * Z：Precession进动；x：Nutation章动；z：Spin自旋。\n  * $^0R_1=R_Z\\,R_x\\,R_z$\n* **RPY Eular Angels**：先X，再y，再z。\n\n## Triple-Angels\n\n* ABC（CBA）Type：$\\beta\\in(-\\frac{\\pi}2,\\frac{\\pi}2)$\n* ABA Type：$\\beta\\in(0,\\pi)$\n\n在$\\beta\\ne\\pm\\frac{\\pi}2$时的**RPY Angle下的转换公式**：\n$$\n\\beta=-arcsin(r_{31});\\gamma=arctan2(r_{32},r_{33});\\alpha=arctan2(r_{21},r_{11} )\n$$\n在$\\beta\\ne0 、\\pi$时的Eular **Zxz** Angle下的转换公式：\n$$\n\\beta=arccos(r_{33});\\alpha=arctan2(r_{13},-r_{23});\\gamma=arctan2(r_{32},r_{33})\n$$\n为了更好的完成后续内容，**请不要让你的机器人出现$\\beta=\\pm\\frac{\\pi}2$的奇异性现象**，否则将无法确认$\\alpha,\\gamma$的值。\n\n其中，arctan2是双变量反正切函数，跟arctan基本一样，只是多规定了一下象限，能直接帮你判断象限和具体角度，一般用于编程。\n\n\n\n# Forward Kinematics（正运动学）\n\n## Position & Orientation\n\n旋转矩阵+偏移矢量：$^0r={}^0R_1{}^1r+{}^0d$\n\n**旋转矩阵（非齐次式） ——> 转移矩阵（齐次式）：**\n$$\n\\begin{gather*}\n\\begin{bmatrix}{}^0r\\\\1\\end{bmatrix}=\n\\begin{bmatrix}{}^0R_1&{}^0d\\\\0_{1\\times3}&1\\end{bmatrix}\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}=\n{}^0T_1\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}\n\\end{gather*}\n$$\n其中，$\\begin{gather*}^0d=d_{3\\times1}=\\begin{bmatrix}d_x\\\\d_y\\\\d_z\\end{bmatrix}\\end{gather*}$。\n\n同样满足链式法则：$^0T_2={}^0T_1\\cdot{}^1T_2$（**绕自身坐标系右乘，绕世界坐标系左乘**）\n\n但是，与旋转矩阵不同的是，$^0T_1^{-1}={}^1T_0\\ne{}^0T_1^T$\n\n## Denavit-Hartenberg Method\n\n一种用于描述几乎所有机械臂运行工作方式的方法理论：find T between link i and link i-1for relative motions given (rotation and geometries of machanical parts，旋转和几何尺寸)\n\n* D-H Parameters：\n  1. 建立坐标系：将 link i 绕着 link i-1 旋转的转轴定义为Z~i~轴，将 link i-1 指向 link i 的方向定义为X轴（$x _ i=\\pm(z _ {i-1}\\times z _ i)/||z _ {i _ 1}\\times z _ i||$）\n  2. **连杆偏距d：**前后两个X轴在Z~i-1~轴上的距离。**旋转角$\\alpha$：**z~i-1~和z~i~轴的夹角（z~i-1~绕着x~i~旋转）。**连杆长度a：**z~i-1~经过旋转角后（与z~i~平行）与z~i~的距离。**关节角$\\theta$:**前后两个X轴，绕Z~i-1~旋转的夹角（可变）。（按照顺序一个一个变换）（如果X/Z轴共线的话，那么d/a长度就是0）\n\n![](/image/双足01.png)\n\n## Transformation Matrix\n\n$$\n\\begin{gather*}\n^{i-1}T_i=\\begin{bmatrix}\nc\\theta_i&-c\\alpha_is\\theta_i&s\\theta_is\\alpha_i&a_ic\\theta_i\\\\\ns\\theta_i&c\\alpha_ic\\theta_i&-s\\alpha_ic\\theta_i&a_is\\theta_i\\\\\n0&s\\alpha_i&c\\alpha_i&d_i\\\\\n0&0&0&1\n\\end{bmatrix}\n\\end{gather*}\n$$\n\n注：同一个量平移和旋转可交换，两个旋转不可交换\n\n\n\n# Inverse Kinematics（逆运动学）\n\n## Inverse Kinematics\n\n已知末端点的位姿，求解各个关节角的旋转角度。可能存在两个问题：1）可能没有解析解（但是一般的工程师不会有那么NT给自己设计没有解析解的机械臂）；2）可能有奇异性，即非单一解。\n\n已知：$^0R_6$和$^0d_6$\n$$\n\\begin{gather*}\n^0T_6(数据)=\\,^0T_3(参数)\\,^3T_6(待求)\\\\\n^0d_6(数据)=\\,^0d_3(参数)+\\,^0R_3(参数+待求)\\,^3r_6(参数)\\Rightarrow\\,^0R_3(\\theta_{1,2,3})\\\\\n^3R_6(待求)=\\,^0R_3^T(上面求出来了)\\,^0R_6(已知数据)\\Rightarrow\\,^3R_6(\\theta_{4,5,6})\n\\end{gather*}\n$$\n最终要求的参数：所有$\\theta$角。\n","slug":"双足机器人","published":1,"date":"2023-10-06T01:49:18.958Z","updated":"2023-11-01T11:52:56.551Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0a000b9kthc17v66dq","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"articulated-robots关节型机器人\">Articulated\r\nrobots（关节型机器人）</h1>\r\n<h2 id=\"mechanisms机构\">Mechanisms（机构）</h2>\r\n<ul>\r\n<li>Def：A system of 2 or more linked machine parts with kinematic\r\npairs（运动副）\r\n<ul>\r\n<li>运动副的元素：点、线、面</li>\r\n<li>分类：\r\n<ul>\r\n<li>按压强：高副（点、线）、低副（面）</li>\r\n<li>按自由度：平面副、空间副</li>\r\n</ul></li>\r\n<li>机器人机械臂基本都是平面转动副</li>\r\n</ul></li>\r\n<li>自由度（Degree of Freedom，DoF）\r\n<ul>\r\n<li>机器人的自由度认为是可被独立驱动器的数目</li>\r\n<li>n：可以动的零部件数目（结构数）</li>\r\n<li>L：低副数目</li>\r\n<li>H：高副数目</li>\r\n<li><span class=\"math inline\">\\(DoF = 3n-2L-H\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h2 id=\"robot-manipulators机械臂\">Robot Manipulators（机械臂）</h2>\r\n<ul>\r\n<li>Def： A sequence of rigid bodies ~（没抄完）</li>\r\n</ul>\r\n<h1 id=\"rotation-geometry旋转几何体\">Rotation\r\nGeometry（旋转几何体）</h1>\r\n<h2 id=\"position-orientation\">Position &amp; Orientation</h2>\r\n<ul>\r\n<li>Coordinate Frame（坐标系）变换的推导</li>\r\n</ul>\r\n<p>$$<br />\r\n<span class=\"math display\">\\[\\begin{gather*}\r\n\r\n对一个矢量r，在不同坐标系下的表达分别为：\\\\\r\n\\begin{cases}\r\n^0r=X\\dot I+Y\\dot J+Z\\dot K\\\\\r\n^1r=x\\dot i+y\\dot j+z\\dot k\\end{cases}\\\\\r\n根据点积的几何意义，可以写出三条表达式：\\\\\r\n\\begin{cases}\r\nX=\\dot I\\cdot \\dot r=\\dot I\\cdot \\dot {r^1}=\\dot I\\cdot x\\dot i+\\dot\r\nI\\cdot y\\dot j+\\dot I\\cdot z\\dot k\\\\\r\nY=...\\\\Z=...\r\n\\end{cases}\\\\\r\n得：^0r=\\begin{bmatrix}X\\\\Y\\\\Z\\end{bmatrix}=\r\n\\,^0R_1\\begin{bmatrix}x\\\\y\\\\z\\end{bmatrix}=\\,^0R_1\\,^1r\\\\\r\n且：^0R_1=\\,^1R_0^{(-1)}=\\,^1R_0^T(即：旋转矩阵の逆=转置)\\\\\r\n^0R_1(1到0)=\\begin{bmatrix}\r\nIi&amp;Ij&amp;Ik\\\\Ji&amp;Jj&amp;Jk\\\\Ki&amp;Kj&amp;Kk\r\n\\end{bmatrix}=\\begin{bmatrix}\r\ni在OXYZ的向量&amp;y在OXYZ的向量&amp;z在OXYZ的向量\r\n\\end{bmatrix}\\triangleq \\begin{bmatrix}\r\nn&amp;s&amp;a\r\n\\end{bmatrix}\\\\\r\n约束：|n|=|s|=|a|=1;\\,\\,l_1\\times\r\nl_2=l_3(三条);\\\\因此还剩下三个自由度，正好对应旋转矩阵\\\\\r\n举个例子，1坐标系绕0坐标系z轴逆时针转动，旋转矩阵为：\\\\\r\n^0R_1=\\begin{bmatrix}\r\ncos&amp;sin&amp;0\\\\-sin&amp;cos&amp;0\\\\0&amp;0&amp;1\r\n\\end{bmatrix}\r\n\\end{gather*}\\]</span><br />\r\n$$</p>\r\n<ul>\r\n<li><strong>多考虑几何意义，在手算的时候不需要手撕公式，直接看坐标系1三个轴在坐标系0中的坐标，搞成列向量的形式拼在一起就是旋转矩阵。</strong></li>\r\n<li>两次旋转的两种不同方式：</li>\r\n</ul>\r\n<ol type=\"1\">\r\n<li><p>绕0系某坐标轴转动为1系，1系再绕0系某轴转动为2系：<span\r\nclass=\"math inline\">\\(^0R_2=R_{(1)}R_{(2)}\\)</span></p></li>\r\n<li><p>绕0系某坐标轴转动为1系，绕1系(自身)某轴转动为2系：<span\r\nclass=\"math inline\">\\(^0R_2=\\,^0R_1\\,^1R_2\\)</span></p></li>\r\n</ol>\r\n<ul>\r\n<li>结论：<strong>绕父坐标系(世界坐标系)旋转，左乘新矩阵；绕自身旋转，右乘新矩阵。</strong></li>\r\n</ul>\r\n<h2 id=\"representation-of-orientation\">Representation of\r\nOrientation</h2>\r\n<h3 id=\"固定角描述法\">固定角描述法</h3>\r\n<ul>\r\n<li><strong>RPY\r\nAngels</strong>（RPY固定角描述法）：先X，再Y，再Z，全部都默认<strong>绕世界坐标系</strong>转动。\r\n<ul>\r\n<li>R：Roll横滚；P：Pitch俯仰；Y：Yaw侧航。</li>\r\n<li><span class=\"math inline\">\\(^0R_1=R_Z\\,R_Y\\,R_X\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h3 id=\"欧拉角描述法\">欧拉角描述法</h3>\r\n<ul>\r\n<li><strong>Zxz Eular Angles</strong>：先Z，再x，再z。\r\n<ul>\r\n<li>Z：Precession进动；x：Nutation章动；z：Spin自旋。</li>\r\n<li><span class=\"math inline\">\\(^0R_1=R_Z\\,R_x\\,R_z\\)</span></li>\r\n</ul></li>\r\n<li><strong>RPY Eular Angels</strong>：先X，再y，再z。</li>\r\n</ul>\r\n<h2 id=\"triple-angels\">Triple-Angels</h2>\r\n<ul>\r\n<li>ABC（CBA）Type：<span\r\nclass=\"math inline\">\\(\\beta\\in(-\\frac{\\pi}2,\\frac{\\pi}2)\\)</span></li>\r\n<li>ABA Type：<span class=\"math inline\">\\(\\beta\\in(0,\\pi)\\)</span></li>\r\n</ul>\r\n<p>在<span\r\nclass=\"math inline\">\\(\\beta\\ne\\pm\\frac{\\pi}2\\)</span>时的<strong>RPY\r\nAngle下的转换公式</strong>：<br />\r\n<span class=\"math display\">\\[\r\n\\beta=-arcsin(r_{31});\\gamma=arctan2(r_{32},r_{33});\\alpha=arctan2(r_{21},r_{11}\r\n)\r\n\\]</span><br />\r\n在<span class=\"math inline\">\\(\\beta\\ne0 、\\pi\\)</span>时的Eular\r\n<strong>Zxz</strong> Angle下的转换公式：<br />\r\n<span class=\"math display\">\\[\r\n\\beta=arccos(r_{33});\\alpha=arctan2(r_{13},-r_{23});\\gamma=arctan2(r_{32},r_{33})\r\n\\]</span><br />\r\n为了更好的完成后续内容，<strong>请不要让你的机器人出现<span\r\nclass=\"math inline\">\\(\\beta=\\pm\\frac{\\pi}2\\)</span>的奇异性现象</strong>，否则将无法确认<span\r\nclass=\"math inline\">\\(\\alpha,\\gamma\\)</span>的值。</p>\r\n<p>其中，arctan2是双变量反正切函数，跟arctan基本一样，只是多规定了一下象限，能直接帮你判断象限和具体角度，一般用于编程。</p>\r\n<h1 id=\"forward-kinematics正运动学\">Forward Kinematics（正运动学）</h1>\r\n<h2 id=\"position-orientation-1\">Position &amp; Orientation</h2>\r\n<p>旋转矩阵+偏移矢量：<span\r\nclass=\"math inline\">\\(^0r={}^0R_1{}^1r+{}^0d\\)</span></p>\r\n<p><strong>旋转矩阵（非齐次式） ——&gt;\r\n转移矩阵（齐次式）：</strong><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n\\begin{bmatrix}{}^0r\\\\1\\end{bmatrix}=\r\n\\begin{bmatrix}{}^0R_1&amp;{}^0d\\\\0_{1\\times3}&amp;1\\end{bmatrix}\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}=\r\n{}^0T_1\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span><br />\r\n其中，<span\r\nclass=\"math inline\">\\(\\begin{gather*}^0d=d_{3\\times1}=\\begin{bmatrix}d_x\\\\d_y\\\\d_z\\end{bmatrix}\\end{gather*}\\)</span>。</p>\r\n<p>同样满足链式法则：<span\r\nclass=\"math inline\">\\(^0T_2={}^0T_1\\cdot{}^1T_2\\)</span>（<strong>绕自身坐标系右乘，绕世界坐标系左乘</strong>）</p>\r\n<p>但是，与旋转矩阵不同的是，<span\r\nclass=\"math inline\">\\(^0T_1^{-1}={}^1T_0\\ne{}^0T_1^T\\)</span></p>\r\n<h2 id=\"denavit-hartenberg-method\">Denavit-Hartenberg Method</h2>\r\n<p>一种用于描述几乎所有机械臂运行工作方式的方法理论：find T between link\r\ni and link i-1for relative motions given (rotation and geometries of\r\nmachanical parts，旋转和几何尺寸)</p>\r\n<ul>\r\n<li>D-H Parameters：\r\n<ol type=\"1\">\r\n<li>建立坐标系：将 link i 绕着 link i-1\r\n旋转的转轴定义为Z<sub>i</sub>轴，将 link i-1 指向 link i\r\n的方向定义为X轴（<span class=\"math inline\">\\(x _ i=\\pm(z _ {i-1}\\times z\r\n_ i)/||z _ {i _ 1}\\times z _ i||\\)</span>）</li>\r\n<li><strong>连杆偏距d：</strong>前后两个X轴在Z<sub>i-1</sub>轴上的距离。<strong>旋转角<span\r\nclass=\"math inline\">\\(\\alpha\\)</span>：</strong>z<sub>i-1</sub>和z<sub>i</sub>轴的夹角（z<sub>i-1</sub>绕着x<sub>i</sub>旋转）。<strong>连杆长度a：</strong>z<sub>i-1</sub>经过旋转角后（与z<sub>i</sub>平行）与z<sub>i</sub>的距离。<strong>关节角<span\r\nclass=\"math inline\">\\(\\theta\\)</span>:</strong>前后两个X轴，绕Z<sub>i-1</sub>旋转的夹角（可变）。（按照顺序一个一个变换）（如果X/Z轴共线的话，那么d/a长度就是0）</li>\r\n</ol></li>\r\n</ul>\r\n<p><img src=\"/image/双足01.png\" /></p>\r\n<h2 id=\"transformation-matrix\">Transformation Matrix</h2>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n^{i-1}T_i=\\begin{bmatrix}\r\nc\\theta_i&amp;-c\\alpha_is\\theta_i&amp;s\\theta_is\\alpha_i&amp;a_ic\\theta_i\\\\\r\ns\\theta_i&amp;c\\alpha_ic\\theta_i&amp;-s\\alpha_ic\\theta_i&amp;a_is\\theta_i\\\\\r\n0&amp;s\\alpha_i&amp;c\\alpha_i&amp;d_i\\\\\r\n0&amp;0&amp;0&amp;1\r\n\\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>注：同一个量平移和旋转可交换，两个旋转不可交换</p>\r\n<h1 id=\"inverse-kinematics逆运动学\">Inverse Kinematics（逆运动学）</h1>\r\n<h2 id=\"inverse-kinematics\">Inverse Kinematics</h2>\r\n<p>已知末端点的位姿，求解各个关节角的旋转角度。可能存在两个问题：1）可能没有解析解（但是一般的工程师不会有那么NT给自己设计没有解析解的机械臂）；2）可能有奇异性，即非单一解。</p>\r\n<p>已知：<span class=\"math inline\">\\(^0R_6\\)</span>和<span\r\nclass=\"math inline\">\\(^0d_6\\)</span><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n^0T_6(数据)=\\,^0T_3(参数)\\,^3T_6(待求)\\\\\r\n^0d_6(数据)=\\,^0d_3(参数)+\\,^0R_3(参数+待求)\\,^3r_6(参数)\\Rightarrow\\,^0R_3(\\theta_{1,2,3})\\\\\r\n^3R_6(待求)=\\,^0R_3^T(上面求出来了)\\,^0R_6(已知数据)\\Rightarrow\\,^3R_6(\\theta_{4,5,6})\r\n\\end{gather*}\r\n\\]</span><br />\r\n最终要求的参数：所有<span class=\"math inline\">\\(\\theta\\)</span>角。</p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h1 id=\"articulated-robots关节型机器人\">Articulated\r\nrobots（关节型机器人）</h1>\r\n<h2 id=\"mechanisms机构\">Mechanisms（机构）</h2>\r\n<ul>\r\n<li>Def：A system of 2 or more linked machine parts with kinematic\r\npairs（运动副）\r\n<ul>\r\n<li>运动副的元素：点、线、面</li>\r\n<li>分类：\r\n<ul>\r\n<li>按压强：高副（点、线）、低副（面）</li>\r\n<li>按自由度：平面副、空间副</li>\r\n</ul></li>\r\n<li>机器人机械臂基本都是平面转动副</li>\r\n</ul></li>\r\n<li>自由度（Degree of Freedom，DoF）\r\n<ul>\r\n<li>机器人的自由度认为是可被独立驱动器的数目</li>\r\n<li>n：可以动的零部件数目（结构数）</li>\r\n<li>L：低副数目</li>\r\n<li>H：高副数目</li>\r\n<li><span class=\"math inline\">\\(DoF = 3n-2L-H\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h2 id=\"robot-manipulators机械臂\">Robot Manipulators（机械臂）</h2>\r\n<ul>\r\n<li>Def： A sequence of rigid bodies ~（没抄完）</li>\r\n</ul>\r\n<h1 id=\"rotation-geometry旋转几何体\">Rotation\r\nGeometry（旋转几何体）</h1>\r\n<h2 id=\"position-orientation\">Position &amp; Orientation</h2>\r\n<ul>\r\n<li>Coordinate Frame（坐标系）变换的推导</li>\r\n</ul>\r\n<p>$$<br />\r\n<span class=\"math display\">\\[\\begin{gather*}\r\n\r\n对一个矢量r，在不同坐标系下的表达分别为：\\\\\r\n\\begin{cases}\r\n^0r=X\\dot I+Y\\dot J+Z\\dot K\\\\\r\n^1r=x\\dot i+y\\dot j+z\\dot k\\end{cases}\\\\\r\n根据点积的几何意义，可以写出三条表达式：\\\\\r\n\\begin{cases}\r\nX=\\dot I\\cdot \\dot r=\\dot I\\cdot \\dot {r^1}=\\dot I\\cdot x\\dot i+\\dot\r\nI\\cdot y\\dot j+\\dot I\\cdot z\\dot k\\\\\r\nY=...\\\\Z=...\r\n\\end{cases}\\\\\r\n得：^0r=\\begin{bmatrix}X\\\\Y\\\\Z\\end{bmatrix}=\r\n\\,^0R_1\\begin{bmatrix}x\\\\y\\\\z\\end{bmatrix}=\\,^0R_1\\,^1r\\\\\r\n且：^0R_1=\\,^1R_0^{(-1)}=\\,^1R_0^T(即：旋转矩阵の逆=转置)\\\\\r\n^0R_1(1到0)=\\begin{bmatrix}\r\nIi&amp;Ij&amp;Ik\\\\Ji&amp;Jj&amp;Jk\\\\Ki&amp;Kj&amp;Kk\r\n\\end{bmatrix}=\\begin{bmatrix}\r\ni在OXYZ的向量&amp;y在OXYZ的向量&amp;z在OXYZ的向量\r\n\\end{bmatrix}\\triangleq \\begin{bmatrix}\r\nn&amp;s&amp;a\r\n\\end{bmatrix}\\\\\r\n约束：|n|=|s|=|a|=1;\\,\\,l_1\\times\r\nl_2=l_3(三条);\\\\因此还剩下三个自由度，正好对应旋转矩阵\\\\\r\n举个例子，1坐标系绕0坐标系z轴逆时针转动，旋转矩阵为：\\\\\r\n^0R_1=\\begin{bmatrix}\r\ncos&amp;sin&amp;0\\\\-sin&amp;cos&amp;0\\\\0&amp;0&amp;1\r\n\\end{bmatrix}\r\n\\end{gather*}\\]</span><br />\r\n$$</p>\r\n<ul>\r\n<li><strong>多考虑几何意义，在手算的时候不需要手撕公式，直接看坐标系1三个轴在坐标系0中的坐标，搞成列向量的形式拼在一起就是旋转矩阵。</strong></li>\r\n<li>两次旋转的两种不同方式：</li>\r\n</ul>\r\n<ol type=\"1\">\r\n<li><p>绕0系某坐标轴转动为1系，1系再绕0系某轴转动为2系：<span\r\nclass=\"math inline\">\\(^0R_2=R_{(1)}R_{(2)}\\)</span></p></li>\r\n<li><p>绕0系某坐标轴转动为1系，绕1系(自身)某轴转动为2系：<span\r\nclass=\"math inline\">\\(^0R_2=\\,^0R_1\\,^1R_2\\)</span></p></li>\r\n</ol>\r\n<ul>\r\n<li>结论：<strong>绕父坐标系(世界坐标系)旋转，左乘新矩阵；绕自身旋转，右乘新矩阵。</strong></li>\r\n</ul>\r\n<h2 id=\"representation-of-orientation\">Representation of\r\nOrientation</h2>\r\n<h3 id=\"固定角描述法\">固定角描述法</h3>\r\n<ul>\r\n<li><strong>RPY\r\nAngels</strong>（RPY固定角描述法）：先X，再Y，再Z，全部都默认<strong>绕世界坐标系</strong>转动。\r\n<ul>\r\n<li>R：Roll横滚；P：Pitch俯仰；Y：Yaw侧航。</li>\r\n<li><span class=\"math inline\">\\(^0R_1=R_Z\\,R_Y\\,R_X\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h3 id=\"欧拉角描述法\">欧拉角描述法</h3>\r\n<ul>\r\n<li><strong>Zxz Eular Angles</strong>：先Z，再x，再z。\r\n<ul>\r\n<li>Z：Precession进动；x：Nutation章动；z：Spin自旋。</li>\r\n<li><span class=\"math inline\">\\(^0R_1=R_Z\\,R_x\\,R_z\\)</span></li>\r\n</ul></li>\r\n<li><strong>RPY Eular Angels</strong>：先X，再y，再z。</li>\r\n</ul>\r\n<h2 id=\"triple-angels\">Triple-Angels</h2>\r\n<ul>\r\n<li>ABC（CBA）Type：<span\r\nclass=\"math inline\">\\(\\beta\\in(-\\frac{\\pi}2,\\frac{\\pi}2)\\)</span></li>\r\n<li>ABA Type：<span class=\"math inline\">\\(\\beta\\in(0,\\pi)\\)</span></li>\r\n</ul>\r\n<p>在<span\r\nclass=\"math inline\">\\(\\beta\\ne\\pm\\frac{\\pi}2\\)</span>时的<strong>RPY\r\nAngle下的转换公式</strong>：<br />\r\n<span class=\"math display\">\\[\r\n\\beta=-arcsin(r_{31});\\gamma=arctan2(r_{32},r_{33});\\alpha=arctan2(r_{21},r_{11}\r\n)\r\n\\]</span><br />\r\n在<span class=\"math inline\">\\(\\beta\\ne0 、\\pi\\)</span>时的Eular\r\n<strong>Zxz</strong> Angle下的转换公式：<br />\r\n<span class=\"math display\">\\[\r\n\\beta=arccos(r_{33});\\alpha=arctan2(r_{13},-r_{23});\\gamma=arctan2(r_{32},r_{33})\r\n\\]</span><br />\r\n为了更好的完成后续内容，<strong>请不要让你的机器人出现<span\r\nclass=\"math inline\">\\(\\beta=\\pm\\frac{\\pi}2\\)</span>的奇异性现象</strong>，否则将无法确认<span\r\nclass=\"math inline\">\\(\\alpha,\\gamma\\)</span>的值。</p>\r\n<p>其中，arctan2是双变量反正切函数，跟arctan基本一样，只是多规定了一下象限，能直接帮你判断象限和具体角度，一般用于编程。</p>\r\n<h1 id=\"forward-kinematics正运动学\">Forward Kinematics（正运动学）</h1>\r\n<h2 id=\"position-orientation-1\">Position &amp; Orientation</h2>\r\n<p>旋转矩阵+偏移矢量：<span\r\nclass=\"math inline\">\\(^0r={}^0R_1{}^1r+{}^0d\\)</span></p>\r\n<p><strong>旋转矩阵（非齐次式） ——&gt;\r\n转移矩阵（齐次式）：</strong><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n\\begin{bmatrix}{}^0r\\\\1\\end{bmatrix}=\r\n\\begin{bmatrix}{}^0R_1&amp;{}^0d\\\\0_{1\\times3}&amp;1\\end{bmatrix}\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}=\r\n{}^0T_1\\begin{bmatrix}{}^1r\\\\1\\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span><br />\r\n其中，<span\r\nclass=\"math inline\">\\(\\begin{gather*}^0d=d_{3\\times1}=\\begin{bmatrix}d_x\\\\d_y\\\\d_z\\end{bmatrix}\\end{gather*}\\)</span>。</p>\r\n<p>同样满足链式法则：<span\r\nclass=\"math inline\">\\(^0T_2={}^0T_1\\cdot{}^1T_2\\)</span>（<strong>绕自身坐标系右乘，绕世界坐标系左乘</strong>）</p>\r\n<p>但是，与旋转矩阵不同的是，<span\r\nclass=\"math inline\">\\(^0T_1^{-1}={}^1T_0\\ne{}^0T_1^T\\)</span></p>\r\n<h2 id=\"denavit-hartenberg-method\">Denavit-Hartenberg Method</h2>\r\n<p>一种用于描述几乎所有机械臂运行工作方式的方法理论：find T between link\r\ni and link i-1for relative motions given (rotation and geometries of\r\nmachanical parts，旋转和几何尺寸)</p>\r\n<ul>\r\n<li>D-H Parameters：\r\n<ol type=\"1\">\r\n<li>建立坐标系：将 link i 绕着 link i-1\r\n旋转的转轴定义为Z<sub>i</sub>轴，将 link i-1 指向 link i\r\n的方向定义为X轴（<span class=\"math inline\">\\(x _ i=\\pm(z _ {i-1}\\times z\r\n_ i)/||z _ {i _ 1}\\times z _ i||\\)</span>）</li>\r\n<li><strong>连杆偏距d：</strong>前后两个X轴在Z<sub>i-1</sub>轴上的距离。<strong>旋转角<span\r\nclass=\"math inline\">\\(\\alpha\\)</span>：</strong>z<sub>i-1</sub>和z<sub>i</sub>轴的夹角（z<sub>i-1</sub>绕着x<sub>i</sub>旋转）。<strong>连杆长度a：</strong>z<sub>i-1</sub>经过旋转角后（与z<sub>i</sub>平行）与z<sub>i</sub>的距离。<strong>关节角<span\r\nclass=\"math inline\">\\(\\theta\\)</span>:</strong>前后两个X轴，绕Z<sub>i-1</sub>旋转的夹角（可变）。（按照顺序一个一个变换）（如果X/Z轴共线的话，那么d/a长度就是0）</li>\r\n</ol></li>\r\n</ul>\r\n<p><img src=\"/image/双足01.png\" /></p>\r\n<h2 id=\"transformation-matrix\">Transformation Matrix</h2>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n^{i-1}T_i=\\begin{bmatrix}\r\nc\\theta_i&amp;-c\\alpha_is\\theta_i&amp;s\\theta_is\\alpha_i&amp;a_ic\\theta_i\\\\\r\ns\\theta_i&amp;c\\alpha_ic\\theta_i&amp;-s\\alpha_ic\\theta_i&amp;a_is\\theta_i\\\\\r\n0&amp;s\\alpha_i&amp;c\\alpha_i&amp;d_i\\\\\r\n0&amp;0&amp;0&amp;1\r\n\\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>注：同一个量平移和旋转可交换，两个旋转不可交换</p>\r\n<h1 id=\"inverse-kinematics逆运动学\">Inverse Kinematics（逆运动学）</h1>\r\n<h2 id=\"inverse-kinematics\">Inverse Kinematics</h2>\r\n<p>已知末端点的位姿，求解各个关节角的旋转角度。可能存在两个问题：1）可能没有解析解（但是一般的工程师不会有那么NT给自己设计没有解析解的机械臂）；2）可能有奇异性，即非单一解。</p>\r\n<p>已知：<span class=\"math inline\">\\(^0R_6\\)</span>和<span\r\nclass=\"math inline\">\\(^0d_6\\)</span><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n^0T_6(数据)=\\,^0T_3(参数)\\,^3T_6(待求)\\\\\r\n^0d_6(数据)=\\,^0d_3(参数)+\\,^0R_3(参数+待求)\\,^3r_6(参数)\\Rightarrow\\,^0R_3(\\theta_{1,2,3})\\\\\r\n^3R_6(待求)=\\,^0R_3^T(上面求出来了)\\,^0R_6(已知数据)\\Rightarrow\\,^3R_6(\\theta_{4,5,6})\r\n\\end{gather*}\r\n\\]</span><br />\r\n最终要求的参数：所有<span class=\"math inline\">\\(\\theta\\)</span>角。</p>\r\n"},{"title":"电气学院大二（秋冬）课程资料整理（部分）","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://ts1.cn.mm.bing.net/th/id/R-C.b6dd0a146e59761c7f9584de66901a3a?rik=QQ0sa%2bmrhe2vzQ&riu=http%3a%2f%2fwww.creaform3d.com.cn%2fsites%2fdefault%2ffiles%2fstyles%2fgallery-block-view-featured%2fpublic%2fassets%2fservices%2fgalleries%2f3d-engineering%2felectronical-engineering%2f800x600%2fgenie-electrique.jpg&ehk=282naUhv8%2faK15tP3wpK7UIbw7SVjxSfdZ%2fecSQQ3Hw%3d&risl=&pid=ImgRaw&r=0","description":"包含了部分电气学院大二（秋冬）的课程资料，请合理取用。","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n## 前言\n\n​\t有人求大二上学期的课程资料，这里找一下能找到的。不定期更新（低情商：不催我就不更新）。\n\n## 电路与电子技术1\n\n​\t这门课确实比较难，题目做不出来很正常（也可能是我菜）……放平心态慢慢来。\n\n链接：https://pan.baidu.com/s/1SP5zCHrkOmlj61kzHusenw \n提取码：pvez \n--来自百度网盘超级会员V4的分享\n\n​\t这个文件太大了，上次传超过100MB的文件让我网站崩了整整大半天，百度网盘凑活用一下。\n","source":"_posts/大二上答案.md","raw":"---\ntitle: 电气学院大二（秋冬）课程资料整理（部分）\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://ts1.cn.mm.bing.net/th/id/R-C.b6dd0a146e59761c7f9584de66901a3a?rik=QQ0sa%2bmrhe2vzQ&riu=http%3a%2f%2fwww.creaform3d.com.cn%2fsites%2fdefault%2ffiles%2fstyles%2fgallery-block-view-featured%2fpublic%2fassets%2fservices%2fgalleries%2f3d-engineering%2felectronical-engineering%2f800x600%2fgenie-electrique.jpg&ehk=282naUhv8%2faK15tP3wpK7UIbw7SVjxSfdZ%2fecSQQ3Hw%3d&risl=&pid=ImgRaw&r=0\ndescription: 包含了部分电气学院大二（秋冬）的课程资料，请合理取用。\ntags: \n  - 电气\n  - 大二\n  - 课程资料\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n## 前言\n\n​\t有人求大二上学期的课程资料，这里找一下能找到的。不定期更新（低情商：不催我就不更新）。\n\n## 电路与电子技术1\n\n​\t这门课确实比较难，题目做不出来很正常（也可能是我菜）……放平心态慢慢来。\n\n链接：https://pan.baidu.com/s/1SP5zCHrkOmlj61kzHusenw \n提取码：pvez \n--来自百度网盘超级会员V4的分享\n\n​\t这个文件太大了，上次传超过100MB的文件让我网站崩了整整大半天，百度网盘凑活用一下。\n","slug":"大二上答案","published":1,"date":"2023-09-27T14:33:24.031Z","updated":"2023-09-27T14:42:01.766Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0b000f9kthca6n07af","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"前言\">前言</h2>\r\n<p>​\r\n有人求大二上学期的课程资料，这里找一下能找到的。不定期更新（低情商：不催我就不更新）。</p>\r\n<h2 id=\"电路与电子技术1\">电路与电子技术1</h2>\r\n<p>​\r\n这门课确实比较难，题目做不出来很正常（也可能是我菜）……放平心态慢慢来。</p>\r\n<p>链接：https://pan.baidu.com/s/1SP5zCHrkOmlj61kzHusenw<br />\r\n提取码：pvez<br />\r\n--来自百度网盘超级会员V4的分享</p>\r\n<p>​\r\n这个文件太大了，上次传超过100MB的文件让我网站崩了整整大半天，百度网盘凑活用一下。</p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"前言\">前言</h2>\r\n<p>​\r\n有人求大二上学期的课程资料，这里找一下能找到的。不定期更新（低情商：不催我就不更新）。</p>\r\n<h2 id=\"电路与电子技术1\">电路与电子技术1</h2>\r\n<p>​\r\n这门课确实比较难，题目做不出来很正常（也可能是我菜）……放平心态慢慢来。</p>\r\n<p>链接：https://pan.baidu.com/s/1SP5zCHrkOmlj61kzHusenw<br />\r\n提取码：pvez<br />\r\n--来自百度网盘超级会员V4的分享</p>\r\n<p>​\r\n这个文件太大了，上次传超过100MB的文件让我网站崩了整整大半天，百度网盘凑活用一下。</p>\r\n"},{"title":"工程原理","top_img":"/image/top3.jpg","mathjax":true,"cover":"/image/apple.jpg","description":"工程原理A4纸、期末复习资料","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n## 工程原理\n\n上课反正是听不懂一点，真就纯念PPT\n\n---\n\n* 百度网盘版本\n\n链接：https://pan.baidu.com/s/1aQJflqAabJoZLQNV5GvLcg\n\n提取码：z7gx\n\n--来自百度网盘超级会员V4的分享\n\n* 网页链接\n\n（寄了，文件太大传不了）","source":"_posts/工程原理.md","raw":"---\ntitle: 工程原理\ntop_img: /image/top3.jpg\nmathjax: true\ncover: /image/apple.jpg\ndescription: 工程原理A4纸、期末复习资料\ntags: \n  - 笔记\n  - 大二\n  - ACEE\n  - 课程资料\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n## 工程原理\n\n上课反正是听不懂一点，真就纯念PPT\n\n---\n\n* 百度网盘版本\n\n链接：https://pan.baidu.com/s/1aQJflqAabJoZLQNV5GvLcg\n\n提取码：z7gx\n\n--来自百度网盘超级会员V4的分享\n\n* 网页链接\n\n（寄了，文件太大传不了）","slug":"工程原理","published":1,"date":"2023-09-26T11:42:33.380Z","updated":"2023-10-06T01:51:31.854Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0c000h9kthgmbp6hrx","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"工程原理\">工程原理</h2>\r\n<p>上课反正是听不懂一点，真就纯念PPT</p>\r\n<hr />\r\n<ul>\r\n<li>百度网盘版本</li>\r\n</ul>\r\n<p>链接：https://pan.baidu.com/s/1aQJflqAabJoZLQNV5GvLcg</p>\r\n<p>提取码：z7gx</p>\r\n<p>--来自百度网盘超级会员V4的分享</p>\r\n<ul>\r\n<li>网页链接</li>\r\n</ul>\r\n<p>（寄了，文件太大传不了）</p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"工程原理\">工程原理</h2>\r\n<p>上课反正是听不懂一点，真就纯念PPT</p>\r\n<hr />\r\n<ul>\r\n<li>百度网盘版本</li>\r\n</ul>\r\n<p>链接：https://pan.baidu.com/s/1aQJflqAabJoZLQNV5GvLcg</p>\r\n<p>提取码：z7gx</p>\r\n<p>--来自百度网盘超级会员V4的分享</p>\r\n<ul>\r\n<li>网页链接</li>\r\n</ul>\r\n<p>（寄了，文件太大传不了）</p>\r\n"},{"title":"微机原理（DSP）笔记","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://img2.baidu.com/it/u=1235612171,3868693941&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281","description":"微机原理及其应用（XXD老师班）笔记","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n# 课程笔记\n\n## 时钟与系统控制\n\n| 从属     | 名称   | 描述                         | 使用                                          |\n| -------- | ------ | ---------------------------- | --------------------------------------------- |\n| 外部     | OSCCLK | 外部晶振信号                 |                                               |\n| 时钟控制 | PLLCR  | 提供倍数于参考信号的系统时钟 | $\\text{SYSCLK}=\\frac{f\\cdot\\text{PLLCR}}2$    |\n|          | PCLKCR | 外设时钟信号                 |                                               |\n|          | HISPCP | 高速时钟信号                 |                                               |\n|          | LOSPCP | 低速时钟信号                 |                                               |\n| 看门狗   | WDCR   | 看门狗时钟寄存器             | 含使能控制、逻辑校验位、频率设置              |\n|          | SCSR   | 系统控制和状态寄存器         | 含WDINTS（中断状态位）、WDENNIT（中断使能位） |\n| 低功耗   | LPMCR0 | 低功耗控制寄存器0            | 低二位LPM控制低功耗模式，QUALSTDBY控制频率    |\n|          | LPMCR1 | 低功耗控制寄存器1            | 低八位控制STDBY模式的唤醒（全1唤醒）          |\n\n## GPIO\n\n| 从属       | 名称    | 描述               | 使用                        |\n| ---------- | ------- | ------------------ | --------------------------- |\n| 控制寄存器 | GPxMUX  | 功能选择控制寄存器 | ‘0’ - I/O；‘1’ - 外设       |\n|            | GPxDIR  | 方向控制寄存器     | ‘0’ - Input；‘1’ - Output   |\n|            | GPxQUAL | 输入限定控制       | 使输入在n个采样相同时才变化 |\n| 数据寄存器 | GPxDAT  | 数据寄存器         | 16位                        |\n\n## CPU定时器\n\n| 从属         | 名称       | 描述             | 使用                                                         |\n| ------------ | ---------- | ---------------- | ------------------------------------------------------------ |\n| 减法计数     | TIMER0TIM  | 计数器寄存器     | 32位减法计数器，减到0产生中断（控制寄存器）                  |\n|              | TIMER0TIMH |                  | 与上面的合起来                                               |\n| 赋值（高位） | TIMER0PRD  | 周期寄存器       | 定义为`long int*`，可以直接实现两个一起赋值，最大4G          |\n|              | TIMER0PRDH |                  | 合起来的话，在上面那个地方赋值                               |\n| 控制         | TIMER0PCR  | 控制寄存器       | 15位 - 中断标志位，计数器减到0置1，否则为0，写入1清零<br />5位 - 定时器重装，写1时重装PRD和TDDR(TPR)的值 |\n| 赋值（低位） | TIMER0TPR  | 预定标寄存器     | 必须分两块写入数据，每块16位最大256 bit                      |\n|              | TIMER0TPRH |                  | 跟上面那个都定义为`unsigned int*`                            |\n| 控制         | TIMER0TCR  | 定时器控制寄存器 | 第15位 - 中断标志位。定时器到0时置1，写入1清零               |\n\n因此：\n$$\nT=\\frac{\\text{TDDRH:TDDR}+1}{\\text{SYSCLKOUT}(Hz)}\\cdot(\\text{PRDH:PRD}+1)\n$$\n\n## 中断\n\n| 从属    | 名称    | 描述                      | 使用                                   |\n| ------- | ------- | ------------------------- | -------------------------------------- |\n| CPU中断 | IER     | 中断使能寄存器（16位）    | ‘0’ - 禁止；‘1’ - 使能                 |\n|         | IFR     | 中断标志寄存器（16位）    | ‘0’ - 清零；‘1’ - 中断                 |\n|         | INTM    | 全局中断使能寄存器        | ‘1’ - 全局使能                         |\n| PIE中断 | PIRIER  | PIE中断使能寄存器（12×8） | 同上                                   |\n|         | PIEIFR  | PIE中断标志寄存器（12×8） | 同上                                   |\n|         | PIEACK  | PIE中断应答寄存器         | 不确定几位，清0申请中断，置1为等待状态 |\n|         | PIECTRL | PIE控制寄存器             | ENPIE，位0，置1表示向量取自PIE向量表   |\n\n## 存储器与寄存器\n\n### 存储器与CMD\n\nCMD：记录下如何分配存储空间内容的文件\n\nCMD的工作分为两步：\n\n1. MEMORY：指示定义存储空间\n2. SECTIONS：分配存储空间\n\n```c\n/* SRAM.CMD */\nMEMORY{\n    PAGE 1: // PAGE0表示程序空间，PAGE1表示数据空间\n    \tSPI_A\t:origin=0x007740, length=0x000010\n    //   名称    起始地址           长度\n    // 相当于在仓库（存储空间）里开了一个大集装箱，名叫SPI_A，并告诉大家这块箱子在哪，能装多少东西\n}\nSECTIONS{\n    SciaRegsFile\t:>SCI_A,\tPAGE=1\n    // 输出段名称      地址（绝对地址或地址名）\n    // 以后公司采购，分类为SpiaRegsFile的数据（PAGE=1）都会被丢到SPI_A的箱子里\n    // 因此，以后就不用管箱子叫啥了，直接把东西归类为SpiaRegsFile，我们称之为“段”\n}\n```\n\n在C语音中已经预先定义好了很多**“段”**，我们可以直接拿来用，或者我们可以自己新建或定义“段”，用于存放我们所需要的**变量**。方法如下：\n\n```c\n/* 写法 */\n#progma DATA_SECTION(<variables>,\"<section_name>\");\nstruction variables;\n/* 解释 */\n// DATA_SECTION 定义数据段，CODE_SECTION 定义程序段\n// <variables> 是变量名，如s；<section_name>是段名，如上文的SciaRegsFile\n// 下面一行是常见的变量定义，如：unsigned int s[100];\n/* 举例 */\n#progma DATA_SECTION(SciaRegs,\"SciaRegsFile\")；\nvolatile struct SCI_REGS SciaRegs;\n```\n\n### 寄存器\n\n位域与结构：为了解决（1）不能对位变量的独立操作；（2）每一位都要写出具体数字；的问题。下面简述我们的解决方案\n\n**（一）定义一个位结构（位域）——> 联合结构（共同体）**\n\n```c\n/* 以下文件应该放在.h文件（Head）下 */\n/* 1. 定义位结构（位域） */\n// 用于独立的对变量进行操作\nstruct GPFDAT_BITS{\n    Uint16 GPIO0:1; // 第一个为最低位，:1表示长度为1bit\n    Uint16 GPIO1:1;\n    ...\n};\n/* 2. 定义联合结构（共同体） */\n// 由位结构struct+整型变量Uint共同组成，可以单独操作也可以整体操作\nunion GPFDAT_REG{\n    struct GPFDAT_BITS bit; // 单独操作调用方法\n    Uint16 all; // 整体操作调用方法\n};\n```\n\n演示一下调用方法：\n\n```c\nunion GPFDAT_REG GPFDAT;\nGPFDAT.all = 0x00ff;\nGPFDAT.bit.GPIO15 = 1;\n```\n\n**（二）定义一个包含一组联合的结构（结构体文件）**\n\n说来复杂，其实也不难，就是把刚刚我们的一堆共同体union丢到一起，就是结构体文件了。一个结构体文件相当于一个班。\n\n```c\n/* 以下文件应该放在.h文件（Head）下 */\n/* 定义结构体（这个是最大的结构体了） */\nstruct GPIO_DATA_REGS{ //结构体名字\n    union GPADAT_REG GPADAT; // 类型（union GPADAT_REG）+ 变量（GPADAT）\n    ...\n    union GPFDAT_REG GPFDAT;\n    Uint16 rsvd1[4]; // 不严谨啊，位置不在这的，就是表示一下也可以有Uint16这种类型变量在的意思\n};\n/* 定义变量 */\nextern volatile struct GPIO_DATA_REGS GpioDataRegs; // 这个就是最后用的变量之一了！\n```\n\n**（三）申明结构体变量实体，并指定其与section的关系（即分配空间）**\n\n前半句话，就是上面（二）代码块中的最后一行，合并在一起写了\n\n后半句话，参考CMD中的progma代码段，一般常用的都定义好了\n\n```c\n/* 以下文件应该放在.c文件下 */\n#ifdef __cplusplus \n#pragma DATA_SECTION(\"GpioDataRegsFile\") \n#else \n#pragma DATA_SECTION(GpioDataRegs,\"GpioDataRegsFile\");\n#endif\nvolatile struct GPIO_DATA_REGS GpioDataRegs;\n```\n\n**（四）在链接命令文件CMD中建立连接**\n\n参考CMD中的第一个代码块\n\n```c\nMEMORY{\n    PAGE 1:\n        GPIODAT : origin = 0x0070E0, length = 0x000020\n        PIE_VECT: origin = 0x000D00, length = 0x000100\n}\nSECTIONS{\n    PieVectTableFile : > PIE_VECT,  PAGE = 1\n    GpioDataRegsFile : > GPIODAT ，PAGE = 1\n}\n```\n\n**（五）成功调用**\n\n变量成为一个结构的成员，同时又有了自己的地址\n\n```c\nGpioDataRegs.GPFDAT.bit.GPIO11 = 1;\nGpioDataRegs.GPFDAT.all = 0x1234;\n// 大结构体.共同体union.位域bit或整体all\n```\n\n## 串行外设接口SPI\n\n| 从属 | 名称     | 描述                  | 使用                                                         |\n| ---- | -------- | --------------------- | ------------------------------------------------------------ |\n| 配置 | SPICCR   | SPI配置控制寄存器     | 第6位控制信号极性（上升/下降沿）<br />0-3位控制单个字符读取数量 |\n| 控制 | SPICTL   | SPI工作控制寄存器     | 第2位网络模式控制（‘0’ - 从机；‘1’ - 主机）<br />第1位主从机发送使能TALK；第0位中断使能 |\n| 状态 | SPISTS   | SPI状态寄存器         | 第7位接收器溢出标志<br />第6位只读中断标志**INT FLAG**（完成数据发送/接收）<br />第5位发送缓冲器已满标志位**FULL** |\n| 时钟 | SPIBRR   | SPI波特率寄存器       | 第0-6位控制波特率（$Rate=\\frac{LSPCLK}{SPIBRR+1}$）          |\n| 数据 | SPIRXBUF | SPI串行接收缓存寄存器 | 接收后INT FLAG置1                                            |\n|      | SPITXBUF | SPI串行发送缓存寄存器 | 发送后TX BUF FULL被清除                                      |\n|      | SPIDAT   | SPI串行数据寄存器     |                                                              |\n\n\n\n# C语言代码\n\n## 基本代码定义与框架\n\n### 引脚定义实例\n\n```c\n#define <引脚名> *((volatile unsigned int*) 引脚号);\n#define PLLCR *((volatile unsigned int*) 0x7021);\n```\n\n### 控制时钟PLL初始化\n\n```c\nvoid InitPLL(){\n\tEALLOW;\n\tPLLCR=10; // 0~10, SYSCLK=外部晶振f*PLLCR/2\n\tEDIS;\n}\n```\n\n### 看门狗初始化\n\n```c\nvoid DisableDog(){\n\tEALLOW;\n\tWDCR = 0x0068; // 禁止WatchDog, 0x0028开启\n\tEDIS;\n}\n```\n\n### 外设时钟初始化\n\n```c\nvoid InitPeripheralClock(){\n\tEALLOW;\n\tEVAENCLK = 1;\n\tEVBENCLK = 1;\n\tSCIENCLKA = 1;\n\tEDIS;\n}\n```\n\n### 总初始化 InitSysCtrl\n\n#### 写法1\n\n```c\nvoid InitSysCtrl(){\n\tDisableDog();\n\tInitPLL();\n\tInitPeripheralClock();\n}\n```\n\n#### 写法2\n\n```c\nvoid InitSysCtrl(){\n    EALLOW;\n\t// DisableDog();\n\tWDCR = 0x0068;\n\t// InitPLL();\n    PLLCR=(0~10);\n\t// InitPeripheralClock();\n    EVAENCLK = 1;\n\tEVBENCLK = 1;\n\tSCIENCLKA = 1;\n    EDIS;\n}\n```\n\n### GPIO初始化 InitGpio\n\n```c\nvoid InitGpioF(){\n    EALLOW;\n    GPFMUX=0x0000; // 也等于0x80FF等\n    GPXDIR=0xFF00; // 也等于3F00等\n    EDIS;\n}\n```\n\n### CPU定时器初始化 InitCPUtimer\n\n```c\n#define TIMER0PRD *((volatile long int*)0x0C02;\n#define TIMER0TCR *((volatile unsigned int*)0x0C04;\n#define TIMER0TPR *((volatile unsigned int*)0x0C06;\n#define TIMER0TPRH *((volatile unsigned int*)0x0C07;\n// SYSCLKIN = 30 MHz, PLLCR = 10, SYSCLKOUT = 150 MHz\n// 要求变成1s的定时器，这里先除150[(149+1)*(0+1)]，再除10e6(999999+1)\nvoid InitCPUtimer(void){\n    EALLOW;\n    TIMER0TPR = 149;\n    TIMER0TPRH = 0;\n    TIMER0PRD = 999999;\n    TIMER0TCR = 0xf000; // 中断清除\n    EDIS;\n}\n```\n\n### 时钟延时函数\n\n```c\n// 已经定义过InitCPUtimer\nvoid Delay(unsigned int val){\n    int k;\n    EALLOW;\n    TIMER0PRD = val;\n    TIMER0TCR = 0xf020; // 重新装载数据\n    do {k = TIMER0TCR} while ((k & 0x8000) == 0);\n    EDIS;\n}\n```\n\n### PIE中断初始化 InitPIE\n\n```c\n// 假设仅使用INT1.7，仅允许该中断通过\n#define PIECTRL *((volatile unsigned int*)0x0CE0);\n#define PIEACK *((volatile unsigned int*)0x0CE1);\n#define PIEIER1 *((volatile unsigned int*)0x0CE2);\n#define PIEIFR1 *((volatile unsigned int*)0x0CE3);\nvoid InitPIE(void){\n    EALLOW;\n    PIEIFR1 = 0x0000;\n    PIEIER1 = 0x0040; // 使能\n    PIECTRL = 0x1; // 使向量取自PIE向量表\n    PIEACK = 0x1; // 清零，表示暂无中断\n}\n```\n\n### 中断向量的申请\n\n```c\n// 1. 申明\ninterrupt void INT_m_n(void); // m=0~12, n=0~8\n// 2.地址计算\nPIE_VECT_m_n = 0x0D40 + ((m-1)*8+(n-1))*2; // 起始地址为0x0D40，如INT1.7就是0x0D4C\n// 3. 赋值\ntypedef interrupt void (*PINT)(void);\n(*(PINT*) PIE_VECT_m_n) = &INT_m_n\n```\n\n### CPU中断初始化\n\n```c\nvoid InitCPU(void){\n    EALLOW;\n    // 汇编语言\n    asm(\" and IFR,#00H\"); // IFR置0，表示此时无中断\n    asm(\" and IER,#01H\"); // IER置1，使能\n    asm(\" EINT\"); // 总闸使能，这个就是INTM\n    EDIS;\n}\n```\n\n### SPI初始化\n\n```c\nvoid InitSpi(void){\n    EALLOW;\n    GpioMuxRegs.GPFMUX.all = 0x000F; // SPI与GPIOF共用引脚\n    EDIS;\n    SpiaRegs.SPICCR.all = 0x47; // 个人感觉0x07也行\n    SpiaRegs.SPICTL.all = 0x06; // 主机模型 + 禁用中断\n    SpiaRegs.SPIBRR.all = 0x7F;\n    SpiaRegs.SPICCR.all = SpiaRegs.SPICCR.all || 0x0080; // 退出复位的方式\n}\n```\n\n### SPI数据发送\n\n```c\nvoid SpiSent(int k){\n    SpiaRegs.SPITXBUF = k; // 数据输入\n    while (SpiaRegs.SPISTS.bit.INT_FLAG != 1) {} // 确认数据发送完毕\n    SpiaRegs.SPIRXBUF = SpiaRegs.SPIRXBUF; // 复位\n}\n```\n\n### 八段数码管循环\n\n```c\nvoid Display(void){\n    GpioDataRegs.GPADAT.bit.GPIOA11 = 0;\n    for(i=0,i<8,i++){\n        // 依次输入8个数据，数码管自动往前移位\n        SpiaRegs.SPITXBUF= LEDCode[LEDReg[i]]; \n        while (SpiaRegs.SPISTS.bit.INT_FLAG!= 1) {};\n        SpiaRegs.SPIRXBUF= SpiaRegs.SPIRXBUF;\n    }\n    GpioDataRegs.GPADAT.bit.GPIOA11 = 1;\n}\n```\n\n### 键盘的读取\n\n```c\nint Keyin = 0xffff;\nvoid Keyscan(void){\n    unsigned int key1R , key2R; \n    EALLOW;\n    GPBDIR &= 0x00FF;\n    /* KEYA */\n    GPEDAT  = 0xFFF8;\n    for (i=0; i<100; i++) {} //短延时\n    key1R = GPBDAT；\n    for (i=0; i<30000; i++) {}   // 长延时消除抖动\n    if (key1R != GPBDAT) key1R=0xffff ；\n    /* KEYB */\n    GPEDAT  = 0xFFF9;\n    for (i=0; i<100; i++) {} //短延时\n    key2R = GPBDAT；\n    for (i=0; i<30000; i++) {}   // 长延时消除抖动\n    if(key2R != GPBDAT) key2R=0xffff;\n    /* Add */\n    Keyin = key2R & 0xff00 + key1R / 256;\n    EDIS;\n}\n```\n\n### 等待键盘输入\n\n```c\nvoid WaitKeyin(void){\n    int temp;\n    while (Keyin == 0xffff) {Keyscan();} // 等待直到键盘有输入\n    temp = Keyin;\n    while (Keyin != 0xffff) {Keyscan();} // 松开键盘时建立响应\n    switch (temp){\n        case K1: Keyin = 1; break;\n        default : Keyin = 0x10; break;\n    }\n}\n```\n\n### 键号判别、功能转移\n\n```c\nvoid main(void){\n    ...\n    // for (;;) {asm(\" IDLE\");}\n    for (;;) {KeyFunction();}\n}\nvoid KeyFunction(void){\n    WaitKeyin();\n    switch (Keyin){\n        case 1: {\n            \t// do something\n            \tbreak;\n        \t}\n        default: break;\n    }\n}\n```\n\n### 通用定时器编程初始化\n\n```c\nvoid EVA_Timer1(){\n    EvaRegs.EXTCONA.bit.INDCOE= 1; // 决定T1，T2是否关联\n    EvaRegs.GPTCONA.allEvaRegs.GPTCONA.all= 0x0012; // 4.5.6位说明T1，T2是否输出\n    EvaRegs.T1PR = 0x003; // 峰值\n    EvaRegs.T1CMPR = 0x0001; // Compare\n    EvaRegs.T1CNT = 0x0000; // 计数器初始化\n    EvaRegs.T1CON.all = 0x1742; // 确定运行方式，或0x0F42\n}\n```\n\n\n\n## 实例\n\n### 实例1 点灯\n\n* 点亮六盏灯，利用GPIOF的8-13位输出。（高电平灭灯）\n\n```c\n#define GPFMUX *((volatile unsigned int*)0x70D4);\n#define GPFDIR *((volatile unsigned int*)0x70D5);\n#define GPFDAT *((volatile unsigned int*)0x70F4);\nint delay_n 30000;\nvoid InitSysCtrl(){}\nvoid InitGpioF(){}\nvoid Delay_Loop(int n){\n    for (int i=0;i<n;i++){}\n}\nvoid main(){\n    InitSysCtrl();\n    InitGpioF();\n    for (;;){\n        Delay_Loop(delay_n);\n        GPFDAT = 0x5600 // 0x56 = 01010110\n        Delay_Loop(delay_n);\n        GPFDAT = 0x1200 // 0x12 = 00010010\n    }\n}\n```\n\n### 实例2 中断编程\n\n* 利用TIMER0中断，使GPIOF8闪烁，周期为3s，亮1s。\n\n```c\ntypedef interrupt void(*PINT)(void);\ninterrupt void INT_1_7(void);\nvoid main(void){\n    // 四个初始化\n    InitSysCtrl();\n    InitGpioF();\n    InitCPUtimer();\n    InitPIE();\n    // 主程序\n    EALLOW;\n    *(PINT*)0x0D4C = &INT_1_7;\n    asm(\" and IFR,#00H\");\n    asm(\" and IER,#01H\");\n    asm(\" EINT\");\n    LPMCR0 = 0x0; // 定义低功耗方式为00，即IDLE\n    EDIS;\n    // Else\n    k = 0;\n    for(;;){\n        asm(\" IDLE\"); // 开始睡觉\n    }\n}\ninterrupt void INT_1_7(void){\n    k += 1; // Global k\n    if (k==3){\n        k=0;\n        GPFDAT = 0xfeff; // 开\n    }else{\n        GPFDAT = 0x0100; // 关\n    }\n    PIEACK = 0x1; // 表示响应过了（0的话会申请中断）\n    TIMER0TCR = 0xf000; // 写1中断清除\n}\n```\n\n### 实例3 绿灯闪烁+点红灯\n\n* GPIOE\n\n| 输入 | 效果                                        |\n| ---- | ------------------------------------------- |\n| 2    | 选择寄存器1，即GPBDAT与左边八盏红灯建立联系 |\n| 3    | 选择寄存器2，即GPBDAT与右边八盏红灯建立联系 |\n| 7    | 产生一个下降沿，使寄存器（GPBDAT）发送数据  |\n\n* GPIOB\n\n输入数据的前八位控制红灯（初始化GPBDIR为0xFF00）\n\n如`GPBDAT = 0xfeff`，且`GPEDAT = 2`，则左边第一盏红灯亮。（DAT最低位对应第一盏灯）\n\n```c\n#define EALLOW asm(\" EALLOW\")\n#define EDIS   asm(\" EDIS\")\n#define PLLCR   *((volatile unsigned int *) 0x7021)\n#define PCLKCR  *((volatile unsigned int *) 0x701C)\n#define HISPCP  *((volatile unsigned int *) 0x701A)\n#define LOSPCP  *((volatile unsigned int *) 0x701B)\n#define WDCR    *((volatile unsigned int *) 0x7029)\n#define SCSR    *((volatile unsigned int *) 0x7022)\n#define LPMCR0  *((volatile unsigned int *) 0x701E)\n#define GPFMUX  *((volatile unsigned int *) 0x70D4)\n#define GPFDIR  *((volatile unsigned int *) 0x70D5)\n#define GPFDAT  *((volatile unsigned int *) 0x70F4)\n#define GPBMUX  *((volatile unsigned int *) 0x70C4)\n#define GPBDIR  *((volatile unsigned int *) 0x70C5)\n#define GPBDAT  *((volatile unsigned int *) 0x70E4)\n#define GPEMUX  *((volatile unsigned int *) 0x70D0)\n#define GPEDIR  *((volatile unsigned int *) 0x70D1)\n#define GPEDAT  *((volatile unsigned int *) 0x70F0)\n#define TIMER0PRD   *((volatile unsigned long int *) 0x0C02)\n#define TIMER0TCR   *((volatile unsigned int *) 0x0C04)\n#define TIMER0TPR   *((volatile unsigned int *) 0x0C06)\n#define TIMER0TPRH  *((volatile unsigned int *) 0x0C07)\n#define  PIECTRL    *((volatile unsigned int *) 0x0CE0)\n#define  PIEACK     *((volatile unsigned int *) 0x0CE1)\n#define  PIEIER1    *((volatile unsigned int *) 0x0CE2)\n#define  PIEIFR1    *((volatile unsigned int *) 0x0CE3)\n\nvoid InitPll(void)\n{   int i;\n    EALLOW;\n    PLLCR = 10;//SYSCLK = 外部振荡频率（30M） * PLLCR /2\n    EDIS;\n    for(i= 0; i< ( (131072/2)/12 ); i++) {;}\n}\nvoid InitPeripheralClocks(void)\n{   EALLOW;\n    HISPCP = 1;  // HISPCLK= SYSCLK * HISPCP /2\n    LOSPCP = 2;  // LOSPCLK= SYSCLK * LOSPCP /2\n    PCLKCR = 0x909;// 开启部分外设\n    EDIS;\n}\nvoid DisableDog(void)\n{   EALLOW;\n    WDCR = 0x0068; //关闭看门狗；；\n    EDIS;\n}\nvoid InitSysCtrl(void)\n{\n    DisableDog();\n    InitPll();\n    InitPeripheralClocks();\n}\nvoid InitGpiof(void)\n{   EALLOW;\n    GPFMUX =0x0000;\n    GPFDIR =0xFF00;\n    EDIS;\n}\nvoid InitGpiob(void)\n{   EALLOW;\n    GPBMUX =0x0000;\n    GPBDIR =0xFF00;\n    EDIS;\n}\nvoid InitGpioe(void)\n{   EALLOW;\n    GPEMUX =0x0;\n    GPEDIR =0x7;\n    EDIS;\n}\nvoid InitCputimer(void)\n{   EALLOW;\n    TIMER0TPR=149;\n    TIMER0TPRH=0;\n    TIMER0PRD=999;//周期为0.001s，即1ms \n    TIMER0TCR=0xf000;\n    EDIS;\n}\nvoid InitPIE(void)\n{   EALLOW;\n    PIEIFR1=0x0000;\n    PIEIER1=0x0040;\n    PIECTRL=0x1;\n    PIEACK =0x1;\n    EDIS;\n}\n\ntypedef interrupt void(*PINT)(void);\ninterrupt void INT_1_7(void);\nint a, b, c, d, e, f;\nint i;\nvoid main(void)\n{   InitSysCtrl();\n    InitGpiof();\n    InitGpiob();\n    InitGpioe();\n    InitCputimer();\n    InitPIE();\n    EALLOW;\n\n    //点红灯\n\n    GPEDAT = 2;      //选第一组\n    GPBDAT = 0xFDFF; //第二盏灯亮\n//    for(i = 0;i<100;i++){}\n    GPEDAT = 7;      //使产生一个下降沿\n\n    GPEDAT = 3;      //选第二组\n    GPBDAT = 0x7FFF; //第一盏灯亮\n//    for(i = 0;i<100;i++){}\n    GPEDAT = 7;      //使产生一个下降沿\n\n\n    * (PINT *) 0x0D4C = & INT_1_7;\n    asm(\"  and IFR,#00H\");\n    asm(\"  or  IER,#01H\");\n    asm(\"  EINT\");\n    LPMCR0=0x0;\n    EDIS;\n    a = 0, b = 0, c = 0, d = 0, e = 0, f = 0;\n    for(;;){asm(\" IDLE\");};\n}\n\ninterrupt void INT_1_7(void)\n{\n    //第一盏灯\n    a+=1;\n    if(a == 500){\n        GPFDAT=GPFDAT&0xFEFF;//变亮\n    }\n    if(a == 2000){\n        a = 0;\n        GPFDAT=GPFDAT|0x0100;//变暗\n    }\n\n    //第二盏灯\n    b+=1;\n    if(b == 300){\n        GPFDAT=GPFDAT&0xFDFF;//变亮\n    }\n    if(b == 1000){\n        b = 0;\n        GPFDAT=GPFDAT|0x0200;//变暗\n    }\n\n    //第三盏灯\n    c+=1;\n    if(c == 100){\n        GPFDAT=GPFDAT&0xFBFF;//变亮\n    }\n    if(c == 200){\n        c = 0;\n        GPFDAT=GPFDAT|0x0400;//变暗\n    }\n\n    //第四盏灯\n    d+=1;\n    if(d == 10){\n        GPFDAT=GPFDAT&0xF7FF;//变亮\n    }\n    if(d == 20){\n        d = 0;\n        GPFDAT=GPFDAT|0x0800;//变暗\n    }\n\n    //第五盏灯\n    e+=1;\n    if(e == 9){\n        GPFDAT=GPFDAT&0xEFFF;//变亮\n    }\n    if(e == 10){\n        e = 0;\n        GPFDAT=GPFDAT|0x1000;//变暗\n    }\n\n    //第六盏灯\n    GPFDAT=GPFDAT|0x2000;\n    PIEACK=0x1;\n    TIMER0TCR=0xf000;\n}\n```\n\n","source":"_posts/微机原理（DSP）.md","raw":"---\ntitle: 微机原理（DSP）笔记\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://img2.baidu.com/it/u=1235612171,3868693941&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=281\ndescription: 微机原理及其应用（XXD老师班）笔记\ntags: \n  - 电气\n  - 笔记\n  - 大三\n  - 微机\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n# 课程笔记\n\n## 时钟与系统控制\n\n| 从属     | 名称   | 描述                         | 使用                                          |\n| -------- | ------ | ---------------------------- | --------------------------------------------- |\n| 外部     | OSCCLK | 外部晶振信号                 |                                               |\n| 时钟控制 | PLLCR  | 提供倍数于参考信号的系统时钟 | $\\text{SYSCLK}=\\frac{f\\cdot\\text{PLLCR}}2$    |\n|          | PCLKCR | 外设时钟信号                 |                                               |\n|          | HISPCP | 高速时钟信号                 |                                               |\n|          | LOSPCP | 低速时钟信号                 |                                               |\n| 看门狗   | WDCR   | 看门狗时钟寄存器             | 含使能控制、逻辑校验位、频率设置              |\n|          | SCSR   | 系统控制和状态寄存器         | 含WDINTS（中断状态位）、WDENNIT（中断使能位） |\n| 低功耗   | LPMCR0 | 低功耗控制寄存器0            | 低二位LPM控制低功耗模式，QUALSTDBY控制频率    |\n|          | LPMCR1 | 低功耗控制寄存器1            | 低八位控制STDBY模式的唤醒（全1唤醒）          |\n\n## GPIO\n\n| 从属       | 名称    | 描述               | 使用                        |\n| ---------- | ------- | ------------------ | --------------------------- |\n| 控制寄存器 | GPxMUX  | 功能选择控制寄存器 | ‘0’ - I/O；‘1’ - 外设       |\n|            | GPxDIR  | 方向控制寄存器     | ‘0’ - Input；‘1’ - Output   |\n|            | GPxQUAL | 输入限定控制       | 使输入在n个采样相同时才变化 |\n| 数据寄存器 | GPxDAT  | 数据寄存器         | 16位                        |\n\n## CPU定时器\n\n| 从属         | 名称       | 描述             | 使用                                                         |\n| ------------ | ---------- | ---------------- | ------------------------------------------------------------ |\n| 减法计数     | TIMER0TIM  | 计数器寄存器     | 32位减法计数器，减到0产生中断（控制寄存器）                  |\n|              | TIMER0TIMH |                  | 与上面的合起来                                               |\n| 赋值（高位） | TIMER0PRD  | 周期寄存器       | 定义为`long int*`，可以直接实现两个一起赋值，最大4G          |\n|              | TIMER0PRDH |                  | 合起来的话，在上面那个地方赋值                               |\n| 控制         | TIMER0PCR  | 控制寄存器       | 15位 - 中断标志位，计数器减到0置1，否则为0，写入1清零<br />5位 - 定时器重装，写1时重装PRD和TDDR(TPR)的值 |\n| 赋值（低位） | TIMER0TPR  | 预定标寄存器     | 必须分两块写入数据，每块16位最大256 bit                      |\n|              | TIMER0TPRH |                  | 跟上面那个都定义为`unsigned int*`                            |\n| 控制         | TIMER0TCR  | 定时器控制寄存器 | 第15位 - 中断标志位。定时器到0时置1，写入1清零               |\n\n因此：\n$$\nT=\\frac{\\text{TDDRH:TDDR}+1}{\\text{SYSCLKOUT}(Hz)}\\cdot(\\text{PRDH:PRD}+1)\n$$\n\n## 中断\n\n| 从属    | 名称    | 描述                      | 使用                                   |\n| ------- | ------- | ------------------------- | -------------------------------------- |\n| CPU中断 | IER     | 中断使能寄存器（16位）    | ‘0’ - 禁止；‘1’ - 使能                 |\n|         | IFR     | 中断标志寄存器（16位）    | ‘0’ - 清零；‘1’ - 中断                 |\n|         | INTM    | 全局中断使能寄存器        | ‘1’ - 全局使能                         |\n| PIE中断 | PIRIER  | PIE中断使能寄存器（12×8） | 同上                                   |\n|         | PIEIFR  | PIE中断标志寄存器（12×8） | 同上                                   |\n|         | PIEACK  | PIE中断应答寄存器         | 不确定几位，清0申请中断，置1为等待状态 |\n|         | PIECTRL | PIE控制寄存器             | ENPIE，位0，置1表示向量取自PIE向量表   |\n\n## 存储器与寄存器\n\n### 存储器与CMD\n\nCMD：记录下如何分配存储空间内容的文件\n\nCMD的工作分为两步：\n\n1. MEMORY：指示定义存储空间\n2. SECTIONS：分配存储空间\n\n```c\n/* SRAM.CMD */\nMEMORY{\n    PAGE 1: // PAGE0表示程序空间，PAGE1表示数据空间\n    \tSPI_A\t:origin=0x007740, length=0x000010\n    //   名称    起始地址           长度\n    // 相当于在仓库（存储空间）里开了一个大集装箱，名叫SPI_A，并告诉大家这块箱子在哪，能装多少东西\n}\nSECTIONS{\n    SciaRegsFile\t:>SCI_A,\tPAGE=1\n    // 输出段名称      地址（绝对地址或地址名）\n    // 以后公司采购，分类为SpiaRegsFile的数据（PAGE=1）都会被丢到SPI_A的箱子里\n    // 因此，以后就不用管箱子叫啥了，直接把东西归类为SpiaRegsFile，我们称之为“段”\n}\n```\n\n在C语音中已经预先定义好了很多**“段”**，我们可以直接拿来用，或者我们可以自己新建或定义“段”，用于存放我们所需要的**变量**。方法如下：\n\n```c\n/* 写法 */\n#progma DATA_SECTION(<variables>,\"<section_name>\");\nstruction variables;\n/* 解释 */\n// DATA_SECTION 定义数据段，CODE_SECTION 定义程序段\n// <variables> 是变量名，如s；<section_name>是段名，如上文的SciaRegsFile\n// 下面一行是常见的变量定义，如：unsigned int s[100];\n/* 举例 */\n#progma DATA_SECTION(SciaRegs,\"SciaRegsFile\")；\nvolatile struct SCI_REGS SciaRegs;\n```\n\n### 寄存器\n\n位域与结构：为了解决（1）不能对位变量的独立操作；（2）每一位都要写出具体数字；的问题。下面简述我们的解决方案\n\n**（一）定义一个位结构（位域）——> 联合结构（共同体）**\n\n```c\n/* 以下文件应该放在.h文件（Head）下 */\n/* 1. 定义位结构（位域） */\n// 用于独立的对变量进行操作\nstruct GPFDAT_BITS{\n    Uint16 GPIO0:1; // 第一个为最低位，:1表示长度为1bit\n    Uint16 GPIO1:1;\n    ...\n};\n/* 2. 定义联合结构（共同体） */\n// 由位结构struct+整型变量Uint共同组成，可以单独操作也可以整体操作\nunion GPFDAT_REG{\n    struct GPFDAT_BITS bit; // 单独操作调用方法\n    Uint16 all; // 整体操作调用方法\n};\n```\n\n演示一下调用方法：\n\n```c\nunion GPFDAT_REG GPFDAT;\nGPFDAT.all = 0x00ff;\nGPFDAT.bit.GPIO15 = 1;\n```\n\n**（二）定义一个包含一组联合的结构（结构体文件）**\n\n说来复杂，其实也不难，就是把刚刚我们的一堆共同体union丢到一起，就是结构体文件了。一个结构体文件相当于一个班。\n\n```c\n/* 以下文件应该放在.h文件（Head）下 */\n/* 定义结构体（这个是最大的结构体了） */\nstruct GPIO_DATA_REGS{ //结构体名字\n    union GPADAT_REG GPADAT; // 类型（union GPADAT_REG）+ 变量（GPADAT）\n    ...\n    union GPFDAT_REG GPFDAT;\n    Uint16 rsvd1[4]; // 不严谨啊，位置不在这的，就是表示一下也可以有Uint16这种类型变量在的意思\n};\n/* 定义变量 */\nextern volatile struct GPIO_DATA_REGS GpioDataRegs; // 这个就是最后用的变量之一了！\n```\n\n**（三）申明结构体变量实体，并指定其与section的关系（即分配空间）**\n\n前半句话，就是上面（二）代码块中的最后一行，合并在一起写了\n\n后半句话，参考CMD中的progma代码段，一般常用的都定义好了\n\n```c\n/* 以下文件应该放在.c文件下 */\n#ifdef __cplusplus \n#pragma DATA_SECTION(\"GpioDataRegsFile\") \n#else \n#pragma DATA_SECTION(GpioDataRegs,\"GpioDataRegsFile\");\n#endif\nvolatile struct GPIO_DATA_REGS GpioDataRegs;\n```\n\n**（四）在链接命令文件CMD中建立连接**\n\n参考CMD中的第一个代码块\n\n```c\nMEMORY{\n    PAGE 1:\n        GPIODAT : origin = 0x0070E0, length = 0x000020\n        PIE_VECT: origin = 0x000D00, length = 0x000100\n}\nSECTIONS{\n    PieVectTableFile : > PIE_VECT,  PAGE = 1\n    GpioDataRegsFile : > GPIODAT ，PAGE = 1\n}\n```\n\n**（五）成功调用**\n\n变量成为一个结构的成员，同时又有了自己的地址\n\n```c\nGpioDataRegs.GPFDAT.bit.GPIO11 = 1;\nGpioDataRegs.GPFDAT.all = 0x1234;\n// 大结构体.共同体union.位域bit或整体all\n```\n\n## 串行外设接口SPI\n\n| 从属 | 名称     | 描述                  | 使用                                                         |\n| ---- | -------- | --------------------- | ------------------------------------------------------------ |\n| 配置 | SPICCR   | SPI配置控制寄存器     | 第6位控制信号极性（上升/下降沿）<br />0-3位控制单个字符读取数量 |\n| 控制 | SPICTL   | SPI工作控制寄存器     | 第2位网络模式控制（‘0’ - 从机；‘1’ - 主机）<br />第1位主从机发送使能TALK；第0位中断使能 |\n| 状态 | SPISTS   | SPI状态寄存器         | 第7位接收器溢出标志<br />第6位只读中断标志**INT FLAG**（完成数据发送/接收）<br />第5位发送缓冲器已满标志位**FULL** |\n| 时钟 | SPIBRR   | SPI波特率寄存器       | 第0-6位控制波特率（$Rate=\\frac{LSPCLK}{SPIBRR+1}$）          |\n| 数据 | SPIRXBUF | SPI串行接收缓存寄存器 | 接收后INT FLAG置1                                            |\n|      | SPITXBUF | SPI串行发送缓存寄存器 | 发送后TX BUF FULL被清除                                      |\n|      | SPIDAT   | SPI串行数据寄存器     |                                                              |\n\n\n\n# C语言代码\n\n## 基本代码定义与框架\n\n### 引脚定义实例\n\n```c\n#define <引脚名> *((volatile unsigned int*) 引脚号);\n#define PLLCR *((volatile unsigned int*) 0x7021);\n```\n\n### 控制时钟PLL初始化\n\n```c\nvoid InitPLL(){\n\tEALLOW;\n\tPLLCR=10; // 0~10, SYSCLK=外部晶振f*PLLCR/2\n\tEDIS;\n}\n```\n\n### 看门狗初始化\n\n```c\nvoid DisableDog(){\n\tEALLOW;\n\tWDCR = 0x0068; // 禁止WatchDog, 0x0028开启\n\tEDIS;\n}\n```\n\n### 外设时钟初始化\n\n```c\nvoid InitPeripheralClock(){\n\tEALLOW;\n\tEVAENCLK = 1;\n\tEVBENCLK = 1;\n\tSCIENCLKA = 1;\n\tEDIS;\n}\n```\n\n### 总初始化 InitSysCtrl\n\n#### 写法1\n\n```c\nvoid InitSysCtrl(){\n\tDisableDog();\n\tInitPLL();\n\tInitPeripheralClock();\n}\n```\n\n#### 写法2\n\n```c\nvoid InitSysCtrl(){\n    EALLOW;\n\t// DisableDog();\n\tWDCR = 0x0068;\n\t// InitPLL();\n    PLLCR=(0~10);\n\t// InitPeripheralClock();\n    EVAENCLK = 1;\n\tEVBENCLK = 1;\n\tSCIENCLKA = 1;\n    EDIS;\n}\n```\n\n### GPIO初始化 InitGpio\n\n```c\nvoid InitGpioF(){\n    EALLOW;\n    GPFMUX=0x0000; // 也等于0x80FF等\n    GPXDIR=0xFF00; // 也等于3F00等\n    EDIS;\n}\n```\n\n### CPU定时器初始化 InitCPUtimer\n\n```c\n#define TIMER0PRD *((volatile long int*)0x0C02;\n#define TIMER0TCR *((volatile unsigned int*)0x0C04;\n#define TIMER0TPR *((volatile unsigned int*)0x0C06;\n#define TIMER0TPRH *((volatile unsigned int*)0x0C07;\n// SYSCLKIN = 30 MHz, PLLCR = 10, SYSCLKOUT = 150 MHz\n// 要求变成1s的定时器，这里先除150[(149+1)*(0+1)]，再除10e6(999999+1)\nvoid InitCPUtimer(void){\n    EALLOW;\n    TIMER0TPR = 149;\n    TIMER0TPRH = 0;\n    TIMER0PRD = 999999;\n    TIMER0TCR = 0xf000; // 中断清除\n    EDIS;\n}\n```\n\n### 时钟延时函数\n\n```c\n// 已经定义过InitCPUtimer\nvoid Delay(unsigned int val){\n    int k;\n    EALLOW;\n    TIMER0PRD = val;\n    TIMER0TCR = 0xf020; // 重新装载数据\n    do {k = TIMER0TCR} while ((k & 0x8000) == 0);\n    EDIS;\n}\n```\n\n### PIE中断初始化 InitPIE\n\n```c\n// 假设仅使用INT1.7，仅允许该中断通过\n#define PIECTRL *((volatile unsigned int*)0x0CE0);\n#define PIEACK *((volatile unsigned int*)0x0CE1);\n#define PIEIER1 *((volatile unsigned int*)0x0CE2);\n#define PIEIFR1 *((volatile unsigned int*)0x0CE3);\nvoid InitPIE(void){\n    EALLOW;\n    PIEIFR1 = 0x0000;\n    PIEIER1 = 0x0040; // 使能\n    PIECTRL = 0x1; // 使向量取自PIE向量表\n    PIEACK = 0x1; // 清零，表示暂无中断\n}\n```\n\n### 中断向量的申请\n\n```c\n// 1. 申明\ninterrupt void INT_m_n(void); // m=0~12, n=0~8\n// 2.地址计算\nPIE_VECT_m_n = 0x0D40 + ((m-1)*8+(n-1))*2; // 起始地址为0x0D40，如INT1.7就是0x0D4C\n// 3. 赋值\ntypedef interrupt void (*PINT)(void);\n(*(PINT*) PIE_VECT_m_n) = &INT_m_n\n```\n\n### CPU中断初始化\n\n```c\nvoid InitCPU(void){\n    EALLOW;\n    // 汇编语言\n    asm(\" and IFR,#00H\"); // IFR置0，表示此时无中断\n    asm(\" and IER,#01H\"); // IER置1，使能\n    asm(\" EINT\"); // 总闸使能，这个就是INTM\n    EDIS;\n}\n```\n\n### SPI初始化\n\n```c\nvoid InitSpi(void){\n    EALLOW;\n    GpioMuxRegs.GPFMUX.all = 0x000F; // SPI与GPIOF共用引脚\n    EDIS;\n    SpiaRegs.SPICCR.all = 0x47; // 个人感觉0x07也行\n    SpiaRegs.SPICTL.all = 0x06; // 主机模型 + 禁用中断\n    SpiaRegs.SPIBRR.all = 0x7F;\n    SpiaRegs.SPICCR.all = SpiaRegs.SPICCR.all || 0x0080; // 退出复位的方式\n}\n```\n\n### SPI数据发送\n\n```c\nvoid SpiSent(int k){\n    SpiaRegs.SPITXBUF = k; // 数据输入\n    while (SpiaRegs.SPISTS.bit.INT_FLAG != 1) {} // 确认数据发送完毕\n    SpiaRegs.SPIRXBUF = SpiaRegs.SPIRXBUF; // 复位\n}\n```\n\n### 八段数码管循环\n\n```c\nvoid Display(void){\n    GpioDataRegs.GPADAT.bit.GPIOA11 = 0;\n    for(i=0,i<8,i++){\n        // 依次输入8个数据，数码管自动往前移位\n        SpiaRegs.SPITXBUF= LEDCode[LEDReg[i]]; \n        while (SpiaRegs.SPISTS.bit.INT_FLAG!= 1) {};\n        SpiaRegs.SPIRXBUF= SpiaRegs.SPIRXBUF;\n    }\n    GpioDataRegs.GPADAT.bit.GPIOA11 = 1;\n}\n```\n\n### 键盘的读取\n\n```c\nint Keyin = 0xffff;\nvoid Keyscan(void){\n    unsigned int key1R , key2R; \n    EALLOW;\n    GPBDIR &= 0x00FF;\n    /* KEYA */\n    GPEDAT  = 0xFFF8;\n    for (i=0; i<100; i++) {} //短延时\n    key1R = GPBDAT；\n    for (i=0; i<30000; i++) {}   // 长延时消除抖动\n    if (key1R != GPBDAT) key1R=0xffff ；\n    /* KEYB */\n    GPEDAT  = 0xFFF9;\n    for (i=0; i<100; i++) {} //短延时\n    key2R = GPBDAT；\n    for (i=0; i<30000; i++) {}   // 长延时消除抖动\n    if(key2R != GPBDAT) key2R=0xffff;\n    /* Add */\n    Keyin = key2R & 0xff00 + key1R / 256;\n    EDIS;\n}\n```\n\n### 等待键盘输入\n\n```c\nvoid WaitKeyin(void){\n    int temp;\n    while (Keyin == 0xffff) {Keyscan();} // 等待直到键盘有输入\n    temp = Keyin;\n    while (Keyin != 0xffff) {Keyscan();} // 松开键盘时建立响应\n    switch (temp){\n        case K1: Keyin = 1; break;\n        default : Keyin = 0x10; break;\n    }\n}\n```\n\n### 键号判别、功能转移\n\n```c\nvoid main(void){\n    ...\n    // for (;;) {asm(\" IDLE\");}\n    for (;;) {KeyFunction();}\n}\nvoid KeyFunction(void){\n    WaitKeyin();\n    switch (Keyin){\n        case 1: {\n            \t// do something\n            \tbreak;\n        \t}\n        default: break;\n    }\n}\n```\n\n### 通用定时器编程初始化\n\n```c\nvoid EVA_Timer1(){\n    EvaRegs.EXTCONA.bit.INDCOE= 1; // 决定T1，T2是否关联\n    EvaRegs.GPTCONA.allEvaRegs.GPTCONA.all= 0x0012; // 4.5.6位说明T1，T2是否输出\n    EvaRegs.T1PR = 0x003; // 峰值\n    EvaRegs.T1CMPR = 0x0001; // Compare\n    EvaRegs.T1CNT = 0x0000; // 计数器初始化\n    EvaRegs.T1CON.all = 0x1742; // 确定运行方式，或0x0F42\n}\n```\n\n\n\n## 实例\n\n### 实例1 点灯\n\n* 点亮六盏灯，利用GPIOF的8-13位输出。（高电平灭灯）\n\n```c\n#define GPFMUX *((volatile unsigned int*)0x70D4);\n#define GPFDIR *((volatile unsigned int*)0x70D5);\n#define GPFDAT *((volatile unsigned int*)0x70F4);\nint delay_n 30000;\nvoid InitSysCtrl(){}\nvoid InitGpioF(){}\nvoid Delay_Loop(int n){\n    for (int i=0;i<n;i++){}\n}\nvoid main(){\n    InitSysCtrl();\n    InitGpioF();\n    for (;;){\n        Delay_Loop(delay_n);\n        GPFDAT = 0x5600 // 0x56 = 01010110\n        Delay_Loop(delay_n);\n        GPFDAT = 0x1200 // 0x12 = 00010010\n    }\n}\n```\n\n### 实例2 中断编程\n\n* 利用TIMER0中断，使GPIOF8闪烁，周期为3s，亮1s。\n\n```c\ntypedef interrupt void(*PINT)(void);\ninterrupt void INT_1_7(void);\nvoid main(void){\n    // 四个初始化\n    InitSysCtrl();\n    InitGpioF();\n    InitCPUtimer();\n    InitPIE();\n    // 主程序\n    EALLOW;\n    *(PINT*)0x0D4C = &INT_1_7;\n    asm(\" and IFR,#00H\");\n    asm(\" and IER,#01H\");\n    asm(\" EINT\");\n    LPMCR0 = 0x0; // 定义低功耗方式为00，即IDLE\n    EDIS;\n    // Else\n    k = 0;\n    for(;;){\n        asm(\" IDLE\"); // 开始睡觉\n    }\n}\ninterrupt void INT_1_7(void){\n    k += 1; // Global k\n    if (k==3){\n        k=0;\n        GPFDAT = 0xfeff; // 开\n    }else{\n        GPFDAT = 0x0100; // 关\n    }\n    PIEACK = 0x1; // 表示响应过了（0的话会申请中断）\n    TIMER0TCR = 0xf000; // 写1中断清除\n}\n```\n\n### 实例3 绿灯闪烁+点红灯\n\n* GPIOE\n\n| 输入 | 效果                                        |\n| ---- | ------------------------------------------- |\n| 2    | 选择寄存器1，即GPBDAT与左边八盏红灯建立联系 |\n| 3    | 选择寄存器2，即GPBDAT与右边八盏红灯建立联系 |\n| 7    | 产生一个下降沿，使寄存器（GPBDAT）发送数据  |\n\n* GPIOB\n\n输入数据的前八位控制红灯（初始化GPBDIR为0xFF00）\n\n如`GPBDAT = 0xfeff`，且`GPEDAT = 2`，则左边第一盏红灯亮。（DAT最低位对应第一盏灯）\n\n```c\n#define EALLOW asm(\" EALLOW\")\n#define EDIS   asm(\" EDIS\")\n#define PLLCR   *((volatile unsigned int *) 0x7021)\n#define PCLKCR  *((volatile unsigned int *) 0x701C)\n#define HISPCP  *((volatile unsigned int *) 0x701A)\n#define LOSPCP  *((volatile unsigned int *) 0x701B)\n#define WDCR    *((volatile unsigned int *) 0x7029)\n#define SCSR    *((volatile unsigned int *) 0x7022)\n#define LPMCR0  *((volatile unsigned int *) 0x701E)\n#define GPFMUX  *((volatile unsigned int *) 0x70D4)\n#define GPFDIR  *((volatile unsigned int *) 0x70D5)\n#define GPFDAT  *((volatile unsigned int *) 0x70F4)\n#define GPBMUX  *((volatile unsigned int *) 0x70C4)\n#define GPBDIR  *((volatile unsigned int *) 0x70C5)\n#define GPBDAT  *((volatile unsigned int *) 0x70E4)\n#define GPEMUX  *((volatile unsigned int *) 0x70D0)\n#define GPEDIR  *((volatile unsigned int *) 0x70D1)\n#define GPEDAT  *((volatile unsigned int *) 0x70F0)\n#define TIMER0PRD   *((volatile unsigned long int *) 0x0C02)\n#define TIMER0TCR   *((volatile unsigned int *) 0x0C04)\n#define TIMER0TPR   *((volatile unsigned int *) 0x0C06)\n#define TIMER0TPRH  *((volatile unsigned int *) 0x0C07)\n#define  PIECTRL    *((volatile unsigned int *) 0x0CE0)\n#define  PIEACK     *((volatile unsigned int *) 0x0CE1)\n#define  PIEIER1    *((volatile unsigned int *) 0x0CE2)\n#define  PIEIFR1    *((volatile unsigned int *) 0x0CE3)\n\nvoid InitPll(void)\n{   int i;\n    EALLOW;\n    PLLCR = 10;//SYSCLK = 外部振荡频率（30M） * PLLCR /2\n    EDIS;\n    for(i= 0; i< ( (131072/2)/12 ); i++) {;}\n}\nvoid InitPeripheralClocks(void)\n{   EALLOW;\n    HISPCP = 1;  // HISPCLK= SYSCLK * HISPCP /2\n    LOSPCP = 2;  // LOSPCLK= SYSCLK * LOSPCP /2\n    PCLKCR = 0x909;// 开启部分外设\n    EDIS;\n}\nvoid DisableDog(void)\n{   EALLOW;\n    WDCR = 0x0068; //关闭看门狗；；\n    EDIS;\n}\nvoid InitSysCtrl(void)\n{\n    DisableDog();\n    InitPll();\n    InitPeripheralClocks();\n}\nvoid InitGpiof(void)\n{   EALLOW;\n    GPFMUX =0x0000;\n    GPFDIR =0xFF00;\n    EDIS;\n}\nvoid InitGpiob(void)\n{   EALLOW;\n    GPBMUX =0x0000;\n    GPBDIR =0xFF00;\n    EDIS;\n}\nvoid InitGpioe(void)\n{   EALLOW;\n    GPEMUX =0x0;\n    GPEDIR =0x7;\n    EDIS;\n}\nvoid InitCputimer(void)\n{   EALLOW;\n    TIMER0TPR=149;\n    TIMER0TPRH=0;\n    TIMER0PRD=999;//周期为0.001s，即1ms \n    TIMER0TCR=0xf000;\n    EDIS;\n}\nvoid InitPIE(void)\n{   EALLOW;\n    PIEIFR1=0x0000;\n    PIEIER1=0x0040;\n    PIECTRL=0x1;\n    PIEACK =0x1;\n    EDIS;\n}\n\ntypedef interrupt void(*PINT)(void);\ninterrupt void INT_1_7(void);\nint a, b, c, d, e, f;\nint i;\nvoid main(void)\n{   InitSysCtrl();\n    InitGpiof();\n    InitGpiob();\n    InitGpioe();\n    InitCputimer();\n    InitPIE();\n    EALLOW;\n\n    //点红灯\n\n    GPEDAT = 2;      //选第一组\n    GPBDAT = 0xFDFF; //第二盏灯亮\n//    for(i = 0;i<100;i++){}\n    GPEDAT = 7;      //使产生一个下降沿\n\n    GPEDAT = 3;      //选第二组\n    GPBDAT = 0x7FFF; //第一盏灯亮\n//    for(i = 0;i<100;i++){}\n    GPEDAT = 7;      //使产生一个下降沿\n\n\n    * (PINT *) 0x0D4C = & INT_1_7;\n    asm(\"  and IFR,#00H\");\n    asm(\"  or  IER,#01H\");\n    asm(\"  EINT\");\n    LPMCR0=0x0;\n    EDIS;\n    a = 0, b = 0, c = 0, d = 0, e = 0, f = 0;\n    for(;;){asm(\" IDLE\");};\n}\n\ninterrupt void INT_1_7(void)\n{\n    //第一盏灯\n    a+=1;\n    if(a == 500){\n        GPFDAT=GPFDAT&0xFEFF;//变亮\n    }\n    if(a == 2000){\n        a = 0;\n        GPFDAT=GPFDAT|0x0100;//变暗\n    }\n\n    //第二盏灯\n    b+=1;\n    if(b == 300){\n        GPFDAT=GPFDAT&0xFDFF;//变亮\n    }\n    if(b == 1000){\n        b = 0;\n        GPFDAT=GPFDAT|0x0200;//变暗\n    }\n\n    //第三盏灯\n    c+=1;\n    if(c == 100){\n        GPFDAT=GPFDAT&0xFBFF;//变亮\n    }\n    if(c == 200){\n        c = 0;\n        GPFDAT=GPFDAT|0x0400;//变暗\n    }\n\n    //第四盏灯\n    d+=1;\n    if(d == 10){\n        GPFDAT=GPFDAT&0xF7FF;//变亮\n    }\n    if(d == 20){\n        d = 0;\n        GPFDAT=GPFDAT|0x0800;//变暗\n    }\n\n    //第五盏灯\n    e+=1;\n    if(e == 9){\n        GPFDAT=GPFDAT&0xEFFF;//变亮\n    }\n    if(e == 10){\n        e = 0;\n        GPFDAT=GPFDAT|0x1000;//变暗\n    }\n\n    //第六盏灯\n    GPFDAT=GPFDAT|0x2000;\n    PIEACK=0x1;\n    TIMER0TCR=0xf000;\n}\n```\n\n","slug":"微机原理（DSP）","published":1,"date":"2023-09-28T07:20:05.291Z","updated":"2023-11-02T03:50:41.100Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0d000m9kth96s12ril","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h1 id=\"课程笔记\">课程笔记</h1>\r\n<h2 id=\"时钟与系统控制\">时钟与系统控制</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 6%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 51%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>外部</td>\r\n<td>OSCCLK</td>\r\n<td>外部晶振信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>时钟控制</td>\r\n<td>PLLCR</td>\r\n<td>提供倍数于参考信号的系统时钟</td>\r\n<td><span\r\nclass=\"math inline\">\\(\\text{SYSCLK}=\\frac{f\\cdot\\text{PLLCR}}2\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PCLKCR</td>\r\n<td>外设时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>HISPCP</td>\r\n<td>高速时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>LOSPCP</td>\r\n<td>低速时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>看门狗</td>\r\n<td>WDCR</td>\r\n<td>看门狗时钟寄存器</td>\r\n<td>含使能控制、逻辑校验位、频率设置</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>SCSR</td>\r\n<td>系统控制和状态寄存器</td>\r\n<td>含WDINTS（中断状态位）、WDENNIT（中断使能位）</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>低功耗</td>\r\n<td>LPMCR0</td>\r\n<td>低功耗控制寄存器0</td>\r\n<td>低二位LPM控制低功耗模式，QUALSTDBY控制频率</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>LPMCR1</td>\r\n<td>低功耗控制寄存器1</td>\r\n<td>低八位控制STDBY模式的唤醒（全1唤醒）</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"gpio\">GPIO</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 16%\" />\r\n<col style=\"width: 11%\" />\r\n<col style=\"width: 29%\" />\r\n<col style=\"width: 43%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>控制寄存器</td>\r\n<td>GPxMUX</td>\r\n<td>功能选择控制寄存器</td>\r\n<td>‘0’ - I/O；‘1’ - 外设</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>GPxDIR</td>\r\n<td>方向控制寄存器</td>\r\n<td>‘0’ - Input；‘1’ - Output</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>GPxQUAL</td>\r\n<td>输入限定控制</td>\r\n<td>使输入在n个采样相同时才变化</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>数据寄存器</td>\r\n<td>GPxDAT</td>\r\n<td>数据寄存器</td>\r\n<td>16位</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"cpu定时器\">CPU定时器</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 16%\" />\r\n<col style=\"width: 61%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>减法计数</td>\r\n<td>TIMER0TIM</td>\r\n<td>计数器寄存器</td>\r\n<td>32位减法计数器，减到0产生中断（控制寄存器）</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>TIMER0TIMH</td>\r\n<td></td>\r\n<td>与上面的合起来</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>赋值（高位）</td>\r\n<td>TIMER0PRD</td>\r\n<td>周期寄存器</td>\r\n<td>定义为<code>long int*</code>，可以直接实现两个一起赋值，最大4G</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>TIMER0PRDH</td>\r\n<td></td>\r\n<td>合起来的话，在上面那个地方赋值</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>控制</td>\r\n<td>TIMER0PCR</td>\r\n<td>控制寄存器</td>\r\n<td>15位 - 中断标志位，计数器减到0置1，否则为0，写入1清零<br />5位 -\r\n定时器重装，写1时重装PRD和TDDR(TPR)的值</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>赋值（低位）</td>\r\n<td>TIMER0TPR</td>\r\n<td>预定标寄存器</td>\r\n<td>必须分两块写入数据，每块16位最大256 bit</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>TIMER0TPRH</td>\r\n<td></td>\r\n<td>跟上面那个都定义为<code>unsigned int*</code></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>控制</td>\r\n<td>TIMER0TCR</td>\r\n<td>定时器控制寄存器</td>\r\n<td>第15位 - 中断标志位。定时器到0时置1，写入1清零</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>因此：<br />\r\n<span class=\"math display\">\\[\r\nT=\\frac{\\text{TDDRH:TDDR}+1}{\\text{SYSCLKOUT}(Hz)}\\cdot(\\text{PRDH:PRD}+1)\r\n\\]</span></p>\r\n<h2 id=\"中断\">中断</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 49%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>CPU中断</td>\r\n<td>IER</td>\r\n<td>中断使能寄存器（16位）</td>\r\n<td>‘0’ - 禁止；‘1’ - 使能</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>IFR</td>\r\n<td>中断标志寄存器（16位）</td>\r\n<td>‘0’ - 清零；‘1’ - 中断</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>INTM</td>\r\n<td>全局中断使能寄存器</td>\r\n<td>‘1’ - 全局使能</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>PIE中断</td>\r\n<td>PIRIER</td>\r\n<td>PIE中断使能寄存器（12×8）</td>\r\n<td>同上</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PIEIFR</td>\r\n<td>PIE中断标志寄存器（12×8）</td>\r\n<td>同上</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>PIEACK</td>\r\n<td>PIE中断应答寄存器</td>\r\n<td>不确定几位，清0申请中断，置1为等待状态</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PIECTRL</td>\r\n<td>PIE控制寄存器</td>\r\n<td>ENPIE，位0，置1表示向量取自PIE向量表</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"存储器与寄存器\">存储器与寄存器</h2>\r\n<h3 id=\"存储器与cmd\">存储器与CMD</h3>\r\n<p>CMD：记录下如何分配存储空间内容的文件</p>\r\n<p>CMD的工作分为两步：</p>\r\n<ol type=\"1\">\r\n<li>MEMORY：指示定义存储空间</li>\r\n<li>SECTIONS：分配存储空间</li>\r\n</ol>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* SRAM.CMD */</span></span><br><span class=\"line\">MEMORY&#123;</span><br><span class=\"line\">    PAGE <span class=\"number\">1</span>: <span class=\"comment\">// PAGE0表示程序空间，PAGE1表示数据空间</span></span><br><span class=\"line\">    \tSPI_A\t:origin=<span class=\"number\">0x007740</span>, length=<span class=\"number\">0x000010</span></span><br><span class=\"line\">    <span class=\"comment\">//   名称    起始地址           长度</span></span><br><span class=\"line\">    <span class=\"comment\">// 相当于在仓库（存储空间）里开了一个大集装箱，名叫SPI_A，并告诉大家这块箱子在哪，能装多少东西</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">SECTIONS&#123;</span><br><span class=\"line\">    SciaRegsFile\t:&gt;SCI_A,\tPAGE=<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\">// 输出段名称      地址（绝对地址或地址名）</span></span><br><span class=\"line\">    <span class=\"comment\">// 以后公司采购，分类为SpiaRegsFile的数据（PAGE=1）都会被丢到SPI_A的箱子里</span></span><br><span class=\"line\">    <span class=\"comment\">// 因此，以后就不用管箱子叫啥了，直接把东西归类为SpiaRegsFile，我们称之为“段”</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<p>在C语音中已经预先定义好了很多<strong>“段”</strong>，我们可以直接拿来用，或者我们可以自己新建或定义“段”，用于存放我们所需要的<strong>变量</strong>。方法如下：</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 写法 */</span></span><br><span class=\"line\"><span class=\"meta\">#progma DATA_SECTION(<span class=\"string\">&lt;variables&gt;</span>,<span class=\"string\">&quot;&lt;section_name&gt;&quot;</span>);</span></span><br><span class=\"line\">struction variables;</span><br><span class=\"line\"><span class=\"comment\">/* 解释 */</span></span><br><span class=\"line\"><span class=\"comment\">// DATA_SECTION 定义数据段，CODE_SECTION 定义程序段</span></span><br><span class=\"line\"><span class=\"comment\">// &lt;variables&gt; 是变量名，如s；&lt;section_name&gt;是段名，如上文的SciaRegsFile</span></span><br><span class=\"line\"><span class=\"comment\">// 下面一行是常见的变量定义，如：unsigned int s[100];</span></span><br><span class=\"line\"><span class=\"comment\">/* 举例 */</span></span><br><span class=\"line\"><span class=\"meta\">#progma DATA_SECTION(SciaRegs,<span class=\"string\">&quot;SciaRegsFile&quot;</span>)；</span></span><br><span class=\"line\"><span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">SCI_REGS</span> <span class=\"title\">SciaRegs</span>;</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"寄存器\">寄存器</h3>\r\n<p>位域与结构：为了解决（1）不能对位变量的独立操作；（2）每一位都要写出具体数字；的问题。下面简述我们的解决方案</p>\r\n<p><strong>（一）定义一个位结构（位域）——&gt;\r\n联合结构（共同体）</strong></p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.h文件（Head）下 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 1. 定义位结构（位域） */</span></span><br><span class=\"line\"><span class=\"comment\">// 用于独立的对变量进行操作</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPFDAT_BITS</span>&#123;</span></span><br><span class=\"line\">    Uint16 GPIO0:<span class=\"number\">1</span>; <span class=\"comment\">// 第一个为最低位，:1表示长度为1bit</span></span><br><span class=\"line\">    Uint16 GPIO1:<span class=\"number\">1</span>;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/* 2. 定义联合结构（共同体） */</span></span><br><span class=\"line\"><span class=\"comment\">// 由位结构struct+整型变量Uint共同组成，可以单独操作也可以整体操作</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span>&#123;</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPFDAT_BITS</span> <span class=\"title\">bit</span>;</span> <span class=\"comment\">// 单独操作调用方法</span></span><br><span class=\"line\">    Uint16 all; <span class=\"comment\">// 整体操作调用方法</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\r\n<p>演示一下调用方法：</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span> <span class=\"title\">GPFDAT</span>;</span></span><br><span class=\"line\">GPFDAT.all = <span class=\"number\">0x00ff</span>;</span><br><span class=\"line\">GPFDAT.bit.GPIO15 = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\r\n<p><strong>（二）定义一个包含一组联合的结构（结构体文件）</strong></p>\r\n<p>说来复杂，其实也不难，就是把刚刚我们的一堆共同体union丢到一起，就是结构体文件了。一个结构体文件相当于一个班。</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.h文件（Head）下 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 定义结构体（这个是最大的结构体了） */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span>&#123;</span> <span class=\"comment\">//结构体名字</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPADAT_REG</span> <span class=\"title\">GPADAT</span>;</span> <span class=\"comment\">// 类型（union GPADAT_REG）+ 变量（GPADAT）</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span> <span class=\"title\">GPFDAT</span>;</span></span><br><span class=\"line\">    Uint16 rsvd1[<span class=\"number\">4</span>]; <span class=\"comment\">// 不严谨啊，位置不在这的，就是表示一下也可以有Uint16这种类型变量在的意思</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/* 定义变量 */</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span> <span class=\"title\">GpioDataRegs</span>;</span> <span class=\"comment\">// 这个就是最后用的变量之一了！</span></span><br></pre></td></tr></table></figure>\r\n<p><strong>（三）申明结构体变量实体，并指定其与section的关系（即分配空间）</strong></p>\r\n<p>前半句话，就是上面（二）代码块中的最后一行，合并在一起写了</p>\r\n<p>后半句话，参考CMD中的progma代码段，一般常用的都定义好了</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.c文件下 */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">ifdef</span> __cplusplus </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> DATA_SECTION(<span class=\"string\">&quot;GpioDataRegsFile&quot;</span>) </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">else</span> </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> DATA_SECTION(GpioDataRegs,<span class=\"string\">&quot;GpioDataRegsFile&quot;</span>);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">endif</span></span></span><br><span class=\"line\"><span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span> <span class=\"title\">GpioDataRegs</span>;</span></span><br></pre></td></tr></table></figure>\r\n<p><strong>（四）在链接命令文件CMD中建立连接</strong></p>\r\n<p>参考CMD中的第一个代码块</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MEMORY&#123;</span><br><span class=\"line\">    PAGE <span class=\"number\">1</span>:</span><br><span class=\"line\">        GPIODAT : origin = <span class=\"number\">0x0070E0</span>, length = <span class=\"number\">0x000020</span></span><br><span class=\"line\">        PIE_VECT: origin = <span class=\"number\">0x000D00</span>, length = <span class=\"number\">0x000100</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">SECTIONS&#123;</span><br><span class=\"line\">    PieVectTableFile : &gt; PIE_VECT,  PAGE = <span class=\"number\">1</span></span><br><span class=\"line\">    GpioDataRegsFile : &gt; GPIODAT ，PAGE = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<p><strong>（五）成功调用</strong></p>\r\n<p>变量成为一个结构的成员，同时又有了自己的地址</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GpioDataRegs.GPFDAT.bit.GPIO11 = <span class=\"number\">1</span>;</span><br><span class=\"line\">GpioDataRegs.GPFDAT.all = <span class=\"number\">0x1234</span>;</span><br><span class=\"line\"><span class=\"comment\">// 大结构体.共同体union.位域bit或整体all</span></span><br></pre></td></tr></table></figure>\r\n<h2 id=\"串行外设接口spi\">串行外设接口SPI</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 4%\" />\r\n<col style=\"width: 8%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 64%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>配置</td>\r\n<td>SPICCR</td>\r\n<td>SPI配置控制寄存器</td>\r\n<td>第6位控制信号极性（上升/下降沿）<br />0-3位控制单个字符读取数量</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>控制</td>\r\n<td>SPICTL</td>\r\n<td>SPI工作控制寄存器</td>\r\n<td>第2位网络模式控制（‘0’ - 从机；‘1’ -\r\n主机）<br />第1位主从机发送使能TALK；第0位中断使能</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>状态</td>\r\n<td>SPISTS</td>\r\n<td>SPI状态寄存器</td>\r\n<td>第7位接收器溢出标志<br />第6位只读中断标志<strong>INT\r\nFLAG</strong>（完成数据发送/接收）<br />第5位发送缓冲器已满标志位<strong>FULL</strong></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>时钟</td>\r\n<td>SPIBRR</td>\r\n<td>SPI波特率寄存器</td>\r\n<td>第0-6位控制波特率（<span\r\nclass=\"math inline\">\\(Rate=\\frac{LSPCLK}{SPIBRR+1}\\)</span>）</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>数据</td>\r\n<td>SPIRXBUF</td>\r\n<td>SPI串行接收缓存寄存器</td>\r\n<td>接收后INT FLAG置1</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>SPITXBUF</td>\r\n<td>SPI串行发送缓存寄存器</td>\r\n<td>发送后TX BUF FULL被清除</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>SPIDAT</td>\r\n<td>SPI串行数据寄存器</td>\r\n<td></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"c语言代码\">C语言代码</h1>\r\n<h2 id=\"基本代码定义与框架\">基本代码定义与框架</h2>\r\n<h3 id=\"引脚定义实例\">引脚定义实例</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> <span class=\"string\">&lt;引脚名&gt;</span> *((volatile unsigned int*) 引脚号);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PLLCR *((volatile unsigned int*) 0x7021);</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"控制时钟pll初始化\">控制时钟PLL初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPLL</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tPLLCR=<span class=\"number\">10</span>; <span class=\"comment\">// 0~10, SYSCLK=外部晶振f*PLLCR/2</span></span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"看门狗初始化\">看门狗初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">DisableDog</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tWDCR = <span class=\"number\">0x0068</span>; <span class=\"comment\">// 禁止WatchDog, 0x0028开启</span></span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"外设时钟初始化\">外设时钟初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPeripheralClock</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tEVAENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEVBENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tSCIENCLKA = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"总初始化-initsysctrl\">总初始化 InitSysCtrl</h3>\r\n<h4 id=\"写法1\">写法1</h4>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tDisableDog();</span><br><span class=\"line\">\tInitPLL();</span><br><span class=\"line\">\tInitPeripheralClock();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h4 id=\"写法2\">写法2</h4>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">\t<span class=\"comment\">// DisableDog();</span></span><br><span class=\"line\">\tWDCR = <span class=\"number\">0x0068</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// InitPLL();</span></span><br><span class=\"line\">    PLLCR=(<span class=\"number\">0</span>~<span class=\"number\">10</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// InitPeripheralClock();</span></span><br><span class=\"line\">    EVAENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEVBENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tSCIENCLKA = <span class=\"number\">1</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"gpio初始化-initgpio\">GPIO初始化 InitGpio</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioF</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GPFMUX=<span class=\"number\">0x0000</span>; <span class=\"comment\">// 也等于0x80FF等</span></span><br><span class=\"line\">    GPXDIR=<span class=\"number\">0xFF00</span>; <span class=\"comment\">// 也等于3F00等</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"cpu定时器初始化-initcputimer\">CPU定时器初始化 InitCPUtimer</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0PRD *((volatile long int*)0x0C02;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TCR *((volatile unsigned int*)0x0C04;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPR *((volatile unsigned int*)0x0C06;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPRH *((volatile unsigned int*)0x0C07;</span></span><br><span class=\"line\"><span class=\"comment\">// SYSCLKIN = 30 MHz, PLLCR = 10, SYSCLKOUT = 150 MHz</span></span><br><span class=\"line\"><span class=\"comment\">// 要求变成1s的定时器，这里先除150[(149+1)*(0+1)]，再除10e6(999999+1)</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCPUtimer</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    TIMER0TPR = <span class=\"number\">149</span>;</span><br><span class=\"line\">    TIMER0TPRH = <span class=\"number\">0</span>;</span><br><span class=\"line\">    TIMER0PRD = <span class=\"number\">999999</span>;</span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf000</span>; <span class=\"comment\">// 中断清除</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"时钟延时函数\">时钟延时函数</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 已经定义过InitCPUtimer</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Delay</span><span class=\"params\">(<span class=\"type\">unsigned</span> <span class=\"type\">int</span> val)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> k;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    TIMER0PRD = val;</span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf020</span>; <span class=\"comment\">// 重新装载数据</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;k = TIMER0TCR&#125; <span class=\"keyword\">while</span> ((k &amp; <span class=\"number\">0x8000</span>) == <span class=\"number\">0</span>);</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"pie中断初始化-initpie\">PIE中断初始化 InitPIE</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 假设仅使用INT1.7，仅允许该中断通过</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIECTRL *((volatile unsigned int*)0x0CE0);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEACK *((volatile unsigned int*)0x0CE1);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEIER1 *((volatile unsigned int*)0x0CE2);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEIFR1 *((volatile unsigned int*)0x0CE3);</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPIE</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    PIEIFR1 = <span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    PIEIER1 = <span class=\"number\">0x0040</span>; <span class=\"comment\">// 使能</span></span><br><span class=\"line\">    PIECTRL = <span class=\"number\">0x1</span>; <span class=\"comment\">// 使向量取自PIE向量表</span></span><br><span class=\"line\">    PIEACK = <span class=\"number\">0x1</span>; <span class=\"comment\">// 清零，表示暂无中断</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"中断向量的申请\">中断向量的申请</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. 申明</span></span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_m_n</span><span class=\"params\">(<span class=\"type\">void</span>)</span>; <span class=\"comment\">// m=0~12, n=0~8</span></span><br><span class=\"line\"><span class=\"comment\">// 2.地址计算</span></span><br><span class=\"line\">PIE_VECT_m_n = <span class=\"number\">0x0D40</span> + ((m<span class=\"number\">-1</span>)*<span class=\"number\">8</span>+(n<span class=\"number\">-1</span>))*<span class=\"number\">2</span>; <span class=\"comment\">// 起始地址为0x0D40，如INT1.7就是0x0D4C</span></span><br><span class=\"line\"><span class=\"comment\">// 3. 赋值</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span> <span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">(*(PINT*) PIE_VECT_m_n) = &amp;INT_m_n</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"cpu中断初始化\">CPU中断初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCPU</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    <span class=\"comment\">// 汇编语言</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IFR,#00H&quot;</span>); <span class=\"comment\">// IFR置0，表示此时无中断</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IER,#01H&quot;</span>); <span class=\"comment\">// IER置1，使能</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; EINT&quot;</span>); <span class=\"comment\">// 总闸使能，这个就是INTM</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"spi初始化\">SPI初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSpi</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GpioMuxRegs.GPFMUX.all = <span class=\"number\">0x000F</span>; <span class=\"comment\">// SPI与GPIOF共用引脚</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    SpiaRegs.SPICCR.all = <span class=\"number\">0x47</span>; <span class=\"comment\">// 个人感觉0x07也行</span></span><br><span class=\"line\">    SpiaRegs.SPICTL.all = <span class=\"number\">0x06</span>; <span class=\"comment\">// 主机模型 + 禁用中断</span></span><br><span class=\"line\">    SpiaRegs.SPIBRR.all = <span class=\"number\">0x7F</span>;</span><br><span class=\"line\">    SpiaRegs.SPICCR.all = SpiaRegs.SPICCR.all || <span class=\"number\">0x0080</span>; <span class=\"comment\">// 退出复位的方式</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"spi数据发送\">SPI数据发送</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">SpiSent</span><span class=\"params\">(<span class=\"type\">int</span> k)</span>&#123;</span><br><span class=\"line\">    SpiaRegs.SPITXBUF = k; <span class=\"comment\">// 数据输入</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (SpiaRegs.SPISTS.bit.INT_FLAG != <span class=\"number\">1</span>) &#123;&#125; <span class=\"comment\">// 确认数据发送完毕</span></span><br><span class=\"line\">    SpiaRegs.SPIRXBUF = SpiaRegs.SPIRXBUF; <span class=\"comment\">// 复位</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"八段数码管循环\">八段数码管循环</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Display</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    GpioDataRegs.GPADAT.bit.GPIOA11 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>,i&lt;<span class=\"number\">8</span>,i++)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 依次输入8个数据，数码管自动往前移位</span></span><br><span class=\"line\">        SpiaRegs.SPITXBUF= LEDCode[LEDReg[i]]; </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (SpiaRegs.SPISTS.bit.INT_FLAG!= <span class=\"number\">1</span>) &#123;&#125;;</span><br><span class=\"line\">        SpiaRegs.SPIRXBUF= SpiaRegs.SPIRXBUF;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    GpioDataRegs.GPADAT.bit.GPIOA11 = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"键盘的读取\">键盘的读取</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> Keyin = <span class=\"number\">0xffff</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Keyscan</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">unsigned</span> <span class=\"type\">int</span> key1R , key2R; </span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GPBDIR &amp;= <span class=\"number\">0x00FF</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* KEYA */</span></span><br><span class=\"line\">    GPEDAT  = <span class=\"number\">0xFFF8</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">100</span>; i++) &#123;&#125; <span class=\"comment\">//短延时</span></span><br><span class=\"line\">    key1R = GPBDAT；</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">30000</span>; i++) &#123;&#125;   <span class=\"comment\">// 长延时消除抖动</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key1R != GPBDAT) key1R=<span class=\"number\">0xffff</span> ；</span><br><span class=\"line\">    <span class=\"comment\">/* KEYB */</span></span><br><span class=\"line\">    GPEDAT  = <span class=\"number\">0xFFF9</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">100</span>; i++) &#123;&#125; <span class=\"comment\">//短延时</span></span><br><span class=\"line\">    key2R = GPBDAT；</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">30000</span>; i++) &#123;&#125;   <span class=\"comment\">// 长延时消除抖动</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(key2R != GPBDAT) key2R=<span class=\"number\">0xffff</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* Add */</span></span><br><span class=\"line\">    Keyin = key2R &amp; <span class=\"number\">0xff00</span> + key1R / <span class=\"number\">256</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"等待键盘输入\">等待键盘输入</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">WaitKeyin</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> temp;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (Keyin == <span class=\"number\">0xffff</span>) &#123;Keyscan();&#125; <span class=\"comment\">// 等待直到键盘有输入</span></span><br><span class=\"line\">    temp = Keyin;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (Keyin != <span class=\"number\">0xffff</span>) &#123;Keyscan();&#125; <span class=\"comment\">// 松开键盘时建立响应</span></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (temp)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> K1: Keyin = <span class=\"number\">1</span>; <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">default</span> : Keyin = <span class=\"number\">0x10</span>; <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"键号判别功能转移\">键号判别、功能转移</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"comment\">// for (;;) &#123;asm(&quot; IDLE&quot;);&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;KeyFunction();&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">KeyFunction</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    WaitKeyin();</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (Keyin)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"number\">1</span>: &#123;</span><br><span class=\"line\">            \t<span class=\"comment\">// do something</span></span><br><span class=\"line\">            \t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">        \t&#125;</span><br><span class=\"line\">        <span class=\"keyword\">default</span>: <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"通用定时器编程初始化\">通用定时器编程初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">EVA_Timer1</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EvaRegs.EXTCONA.bit.INDCOE= <span class=\"number\">1</span>; <span class=\"comment\">// 决定T1，T2是否关联</span></span><br><span class=\"line\">    EvaRegs.GPTCONA.allEvaRegs.GPTCONA.all= <span class=\"number\">0x0012</span>; <span class=\"comment\">// 4.5.6位说明T1，T2是否输出</span></span><br><span class=\"line\">    EvaRegs.T1PR = <span class=\"number\">0x003</span>; <span class=\"comment\">// 峰值</span></span><br><span class=\"line\">    EvaRegs.T1CMPR = <span class=\"number\">0x0001</span>; <span class=\"comment\">// Compare</span></span><br><span class=\"line\">    EvaRegs.T1CNT = <span class=\"number\">0x0000</span>; <span class=\"comment\">// 计数器初始化</span></span><br><span class=\"line\">    EvaRegs.T1CON.all = <span class=\"number\">0x1742</span>; <span class=\"comment\">// 确定运行方式，或0x0F42</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h2 id=\"实例\">实例</h2>\r\n<h3 id=\"实例1-点灯\">实例1 点灯</h3>\r\n<ul>\r\n<li>点亮六盏灯，利用GPIOF的8-13位输出。（高电平灭灯）</li>\r\n</ul>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFMUX *((volatile unsigned int*)0x70D4);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDIR *((volatile unsigned int*)0x70D5);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDAT *((volatile unsigned int*)0x70F4);</span></span><br><span class=\"line\"><span class=\"type\">int</span> delay_n <span class=\"number\">30000</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioF</span><span class=\"params\">()</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Delay_Loop</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    InitSysCtrl();</span><br><span class=\"line\">    InitGpioF();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;)&#123;</span><br><span class=\"line\">        Delay_Loop(delay_n);</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x5600</span> <span class=\"comment\">// 0x56 = 01010110</span></span><br><span class=\"line\">        Delay_Loop(delay_n);</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x1200</span> <span class=\"comment\">// 0x12 = 00010010</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"实例2-中断编程\">实例2 中断编程</h3>\r\n<ul>\r\n<li>利用TIMER0中断，使GPIOF8闪烁，周期为3s，亮1s。</li>\r\n</ul>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span><span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 四个初始化</span></span><br><span class=\"line\">    InitSysCtrl();</span><br><span class=\"line\">    InitGpioF();</span><br><span class=\"line\">    InitCPUtimer();</span><br><span class=\"line\">    InitPIE();</span><br><span class=\"line\">    <span class=\"comment\">// 主程序</span></span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    *(PINT*)<span class=\"number\">0x0D4C</span> = &amp;INT_1_7;</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IFR,#00H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IER,#01H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; EINT&quot;</span>);</span><br><span class=\"line\">    LPMCR0 = <span class=\"number\">0x0</span>; <span class=\"comment\">// 定义低功耗方式为00，即IDLE</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    <span class=\"comment\">// Else</span></span><br><span class=\"line\">    k = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(;;)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; IDLE&quot;</span>); <span class=\"comment\">// 开始睡觉</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    k += <span class=\"number\">1</span>; <span class=\"comment\">// Global k</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (k==<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">        k=<span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0xfeff</span>; <span class=\"comment\">// 开</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x0100</span>; <span class=\"comment\">// 关</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    PIEACK = <span class=\"number\">0x1</span>; <span class=\"comment\">// 表示响应过了（0的话会申请中断）</span></span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf000</span>; <span class=\"comment\">// 写1中断清除</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"实例3-绿灯闪烁点红灯\">实例3 绿灯闪烁+点红灯</h3>\r\n<ul>\r\n<li>GPIOE</li>\r\n</ul>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>输入</th>\r\n<th>效果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>2</td>\r\n<td>选择寄存器1，即GPBDAT与左边八盏红灯建立联系</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>3</td>\r\n<td>选择寄存器2，即GPBDAT与右边八盏红灯建立联系</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>7</td>\r\n<td>产生一个下降沿，使寄存器（GPBDAT）发送数据</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>GPIOB</li>\r\n</ul>\r\n<p>输入数据的前八位控制红灯（初始化GPBDIR为0xFF00）</p>\r\n<p>如<code>GPBDAT = 0xfeff</code>，且<code>GPEDAT = 2</code>，则左边第一盏红灯亮。（DAT最低位对应第一盏灯）</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> EALLOW asm(<span class=\"string\">&quot; EALLOW&quot;</span>)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> EDIS   asm(<span class=\"string\">&quot; EDIS&quot;</span>)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PLLCR   *((volatile unsigned int *) 0x7021)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PCLKCR  *((volatile unsigned int *) 0x701C)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> HISPCP  *((volatile unsigned int *) 0x701A)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> LOSPCP  *((volatile unsigned int *) 0x701B)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> WDCR    *((volatile unsigned int *) 0x7029)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> SCSR    *((volatile unsigned int *) 0x7022)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> LPMCR0  *((volatile unsigned int *) 0x701E)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFMUX  *((volatile unsigned int *) 0x70D4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDIR  *((volatile unsigned int *) 0x70D5)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDAT  *((volatile unsigned int *) 0x70F4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBMUX  *((volatile unsigned int *) 0x70C4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBDIR  *((volatile unsigned int *) 0x70C5)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBDAT  *((volatile unsigned int *) 0x70E4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEMUX  *((volatile unsigned int *) 0x70D0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEDIR  *((volatile unsigned int *) 0x70D1)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEDAT  *((volatile unsigned int *) 0x70F0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0PRD   *((volatile unsigned long int *) 0x0C02)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TCR   *((volatile unsigned int *) 0x0C04)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPR   *((volatile unsigned int *) 0x0C06)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPRH  *((volatile unsigned int *) 0x0C07)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIECTRL    *((volatile unsigned int *) 0x0CE0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEACK     *((volatile unsigned int *) 0x0CE1)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEIER1    *((volatile unsigned int *) 0x0CE2)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEIFR1    *((volatile unsigned int *) 0x0CE3)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPll</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   <span class=\"type\">int</span> i;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    PLLCR = <span class=\"number\">10</span>;<span class=\"comment\">//SYSCLK = 外部振荡频率（30M） * PLLCR /2</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i= <span class=\"number\">0</span>; i&lt; ( (<span class=\"number\">131072</span>/<span class=\"number\">2</span>)/<span class=\"number\">12</span> ); i++) &#123;;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPeripheralClocks</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    HISPCP = <span class=\"number\">1</span>;  <span class=\"comment\">// HISPCLK= SYSCLK * HISPCP /2</span></span><br><span class=\"line\">    LOSPCP = <span class=\"number\">2</span>;  <span class=\"comment\">// LOSPCLK= SYSCLK * LOSPCP /2</span></span><br><span class=\"line\">    PCLKCR = <span class=\"number\">0x909</span>;<span class=\"comment\">// 开启部分外设</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">DisableDog</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    WDCR = <span class=\"number\">0x0068</span>; <span class=\"comment\">//关闭看门狗；；</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DisableDog();</span><br><span class=\"line\">    InitPll();</span><br><span class=\"line\">    InitPeripheralClocks();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpiof</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPFMUX =<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    GPFDIR =<span class=\"number\">0xFF00</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpiob</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPBMUX =<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    GPBDIR =<span class=\"number\">0xFF00</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioe</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPEMUX =<span class=\"number\">0x0</span>;</span><br><span class=\"line\">    GPEDIR =<span class=\"number\">0x7</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCputimer</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    TIMER0TPR=<span class=\"number\">149</span>;</span><br><span class=\"line\">    TIMER0TPRH=<span class=\"number\">0</span>;</span><br><span class=\"line\">    TIMER0PRD=<span class=\"number\">999</span>;<span class=\"comment\">//周期为0.001s，即1ms </span></span><br><span class=\"line\">    TIMER0TCR=<span class=\"number\">0xf000</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPIE</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    PIEIFR1=<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    PIEIER1=<span class=\"number\">0x0040</span>;</span><br><span class=\"line\">    PIECTRL=<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    PIEACK =<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span><span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a, b, c, d, e, f;</span><br><span class=\"line\"><span class=\"type\">int</span> i;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   InitSysCtrl();</span><br><span class=\"line\">    InitGpiof();</span><br><span class=\"line\">    InitGpiob();</span><br><span class=\"line\">    InitGpioe();</span><br><span class=\"line\">    InitCputimer();</span><br><span class=\"line\">    InitPIE();</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//点红灯</span></span><br><span class=\"line\"></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">2</span>;      <span class=\"comment\">//选第一组</span></span><br><span class=\"line\">    GPBDAT = <span class=\"number\">0xFDFF</span>; <span class=\"comment\">//第二盏灯亮</span></span><br><span class=\"line\"><span class=\"comment\">//    for(i = 0;i&lt;100;i++)&#123;&#125;</span></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">7</span>;      <span class=\"comment\">//使产生一个下降沿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">3</span>;      <span class=\"comment\">//选第二组</span></span><br><span class=\"line\">    GPBDAT = <span class=\"number\">0x7FFF</span>; <span class=\"comment\">//第一盏灯亮</span></span><br><span class=\"line\"><span class=\"comment\">//    for(i = 0;i&lt;100;i++)&#123;&#125;</span></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">7</span>;      <span class=\"comment\">//使产生一个下降沿</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    * (PINT *) <span class=\"number\">0x0D4C</span> = &amp; INT_1_7;</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  and IFR,#00H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  or  IER,#01H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  EINT&quot;</span>);</span><br><span class=\"line\">    LPMCR0=<span class=\"number\">0x0</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    a = <span class=\"number\">0</span>, b = <span class=\"number\">0</span>, c = <span class=\"number\">0</span>, d = <span class=\"number\">0</span>, e = <span class=\"number\">0</span>, f = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(;;)&#123;<span class=\"keyword\">asm</span>(<span class=\"string\">&quot; IDLE&quot;</span>);&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//第一盏灯</span></span><br><span class=\"line\">    a+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a == <span class=\"number\">500</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFEFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a == <span class=\"number\">2000</span>)&#123;</span><br><span class=\"line\">        a = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0100</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第二盏灯</span></span><br><span class=\"line\">    b+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b == <span class=\"number\">300</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFDFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b == <span class=\"number\">1000</span>)&#123;</span><br><span class=\"line\">        b = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0200</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第三盏灯</span></span><br><span class=\"line\">    c+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(c == <span class=\"number\">100</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFBFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(c == <span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">        c = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0400</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第四盏灯</span></span><br><span class=\"line\">    d+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(d == <span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xF7FF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(d == <span class=\"number\">20</span>)&#123;</span><br><span class=\"line\">        d = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0800</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第五盏灯</span></span><br><span class=\"line\">    e+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(e == <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xEFFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(e == <span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">        e = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x1000</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第六盏灯</span></span><br><span class=\"line\">    GPFDAT=GPFDAT|<span class=\"number\">0x2000</span>;</span><br><span class=\"line\">    PIEACK=<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    TIMER0TCR=<span class=\"number\">0xf000</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h1 id=\"课程笔记\">课程笔记</h1>\r\n<h2 id=\"时钟与系统控制\">时钟与系统控制</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 6%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 51%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>外部</td>\r\n<td>OSCCLK</td>\r\n<td>外部晶振信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>时钟控制</td>\r\n<td>PLLCR</td>\r\n<td>提供倍数于参考信号的系统时钟</td>\r\n<td><span\r\nclass=\"math inline\">\\(\\text{SYSCLK}=\\frac{f\\cdot\\text{PLLCR}}2\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PCLKCR</td>\r\n<td>外设时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>HISPCP</td>\r\n<td>高速时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>LOSPCP</td>\r\n<td>低速时钟信号</td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>看门狗</td>\r\n<td>WDCR</td>\r\n<td>看门狗时钟寄存器</td>\r\n<td>含使能控制、逻辑校验位、频率设置</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>SCSR</td>\r\n<td>系统控制和状态寄存器</td>\r\n<td>含WDINTS（中断状态位）、WDENNIT（中断使能位）</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>低功耗</td>\r\n<td>LPMCR0</td>\r\n<td>低功耗控制寄存器0</td>\r\n<td>低二位LPM控制低功耗模式，QUALSTDBY控制频率</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>LPMCR1</td>\r\n<td>低功耗控制寄存器1</td>\r\n<td>低八位控制STDBY模式的唤醒（全1唤醒）</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"gpio\">GPIO</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 16%\" />\r\n<col style=\"width: 11%\" />\r\n<col style=\"width: 29%\" />\r\n<col style=\"width: 43%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>控制寄存器</td>\r\n<td>GPxMUX</td>\r\n<td>功能选择控制寄存器</td>\r\n<td>‘0’ - I/O；‘1’ - 外设</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>GPxDIR</td>\r\n<td>方向控制寄存器</td>\r\n<td>‘0’ - Input；‘1’ - Output</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>GPxQUAL</td>\r\n<td>输入限定控制</td>\r\n<td>使输入在n个采样相同时才变化</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>数据寄存器</td>\r\n<td>GPxDAT</td>\r\n<td>数据寄存器</td>\r\n<td>16位</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"cpu定时器\">CPU定时器</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 16%\" />\r\n<col style=\"width: 61%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>减法计数</td>\r\n<td>TIMER0TIM</td>\r\n<td>计数器寄存器</td>\r\n<td>32位减法计数器，减到0产生中断（控制寄存器）</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>TIMER0TIMH</td>\r\n<td></td>\r\n<td>与上面的合起来</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>赋值（高位）</td>\r\n<td>TIMER0PRD</td>\r\n<td>周期寄存器</td>\r\n<td>定义为<code>long int*</code>，可以直接实现两个一起赋值，最大4G</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>TIMER0PRDH</td>\r\n<td></td>\r\n<td>合起来的话，在上面那个地方赋值</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>控制</td>\r\n<td>TIMER0PCR</td>\r\n<td>控制寄存器</td>\r\n<td>15位 - 中断标志位，计数器减到0置1，否则为0，写入1清零<br />5位 -\r\n定时器重装，写1时重装PRD和TDDR(TPR)的值</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>赋值（低位）</td>\r\n<td>TIMER0TPR</td>\r\n<td>预定标寄存器</td>\r\n<td>必须分两块写入数据，每块16位最大256 bit</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>TIMER0TPRH</td>\r\n<td></td>\r\n<td>跟上面那个都定义为<code>unsigned int*</code></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>控制</td>\r\n<td>TIMER0TCR</td>\r\n<td>定时器控制寄存器</td>\r\n<td>第15位 - 中断标志位。定时器到0时置1，写入1清零</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<p>因此：<br />\r\n<span class=\"math display\">\\[\r\nT=\\frac{\\text{TDDRH:TDDR}+1}{\\text{SYSCLKOUT}(Hz)}\\cdot(\\text{PRDH:PRD}+1)\r\n\\]</span></p>\r\n<h2 id=\"中断\">中断</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 32%\" />\r\n<col style=\"width: 49%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>CPU中断</td>\r\n<td>IER</td>\r\n<td>中断使能寄存器（16位）</td>\r\n<td>‘0’ - 禁止；‘1’ - 使能</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>IFR</td>\r\n<td>中断标志寄存器（16位）</td>\r\n<td>‘0’ - 清零；‘1’ - 中断</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>INTM</td>\r\n<td>全局中断使能寄存器</td>\r\n<td>‘1’ - 全局使能</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>PIE中断</td>\r\n<td>PIRIER</td>\r\n<td>PIE中断使能寄存器（12×8）</td>\r\n<td>同上</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PIEIFR</td>\r\n<td>PIE中断标志寄存器（12×8）</td>\r\n<td>同上</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>PIEACK</td>\r\n<td>PIE中断应答寄存器</td>\r\n<td>不确定几位，清0申请中断，置1为等待状态</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>PIECTRL</td>\r\n<td>PIE控制寄存器</td>\r\n<td>ENPIE，位0，置1表示向量取自PIE向量表</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"存储器与寄存器\">存储器与寄存器</h2>\r\n<h3 id=\"存储器与cmd\">存储器与CMD</h3>\r\n<p>CMD：记录下如何分配存储空间内容的文件</p>\r\n<p>CMD的工作分为两步：</p>\r\n<ol type=\"1\">\r\n<li>MEMORY：指示定义存储空间</li>\r\n<li>SECTIONS：分配存储空间</li>\r\n</ol>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* SRAM.CMD */</span></span><br><span class=\"line\">MEMORY&#123;</span><br><span class=\"line\">    PAGE <span class=\"number\">1</span>: <span class=\"comment\">// PAGE0表示程序空间，PAGE1表示数据空间</span></span><br><span class=\"line\">    \tSPI_A\t:origin=<span class=\"number\">0x007740</span>, length=<span class=\"number\">0x000010</span></span><br><span class=\"line\">    <span class=\"comment\">//   名称    起始地址           长度</span></span><br><span class=\"line\">    <span class=\"comment\">// 相当于在仓库（存储空间）里开了一个大集装箱，名叫SPI_A，并告诉大家这块箱子在哪，能装多少东西</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">SECTIONS&#123;</span><br><span class=\"line\">    SciaRegsFile\t:&gt;SCI_A,\tPAGE=<span class=\"number\">1</span></span><br><span class=\"line\">    <span class=\"comment\">// 输出段名称      地址（绝对地址或地址名）</span></span><br><span class=\"line\">    <span class=\"comment\">// 以后公司采购，分类为SpiaRegsFile的数据（PAGE=1）都会被丢到SPI_A的箱子里</span></span><br><span class=\"line\">    <span class=\"comment\">// 因此，以后就不用管箱子叫啥了，直接把东西归类为SpiaRegsFile，我们称之为“段”</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<p>在C语音中已经预先定义好了很多<strong>“段”</strong>，我们可以直接拿来用，或者我们可以自己新建或定义“段”，用于存放我们所需要的<strong>变量</strong>。方法如下：</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 写法 */</span></span><br><span class=\"line\"><span class=\"meta\">#progma DATA_SECTION(<span class=\"string\">&lt;variables&gt;</span>,<span class=\"string\">&quot;&lt;section_name&gt;&quot;</span>);</span></span><br><span class=\"line\">struction variables;</span><br><span class=\"line\"><span class=\"comment\">/* 解释 */</span></span><br><span class=\"line\"><span class=\"comment\">// DATA_SECTION 定义数据段，CODE_SECTION 定义程序段</span></span><br><span class=\"line\"><span class=\"comment\">// &lt;variables&gt; 是变量名，如s；&lt;section_name&gt;是段名，如上文的SciaRegsFile</span></span><br><span class=\"line\"><span class=\"comment\">// 下面一行是常见的变量定义，如：unsigned int s[100];</span></span><br><span class=\"line\"><span class=\"comment\">/* 举例 */</span></span><br><span class=\"line\"><span class=\"meta\">#progma DATA_SECTION(SciaRegs,<span class=\"string\">&quot;SciaRegsFile&quot;</span>)；</span></span><br><span class=\"line\"><span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">SCI_REGS</span> <span class=\"title\">SciaRegs</span>;</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"寄存器\">寄存器</h3>\r\n<p>位域与结构：为了解决（1）不能对位变量的独立操作；（2）每一位都要写出具体数字；的问题。下面简述我们的解决方案</p>\r\n<p><strong>（一）定义一个位结构（位域）——&gt;\r\n联合结构（共同体）</strong></p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.h文件（Head）下 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 1. 定义位结构（位域） */</span></span><br><span class=\"line\"><span class=\"comment\">// 用于独立的对变量进行操作</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPFDAT_BITS</span>&#123;</span></span><br><span class=\"line\">    Uint16 GPIO0:<span class=\"number\">1</span>; <span class=\"comment\">// 第一个为最低位，:1表示长度为1bit</span></span><br><span class=\"line\">    Uint16 GPIO1:<span class=\"number\">1</span>;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/* 2. 定义联合结构（共同体） */</span></span><br><span class=\"line\"><span class=\"comment\">// 由位结构struct+整型变量Uint共同组成，可以单独操作也可以整体操作</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span>&#123;</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPFDAT_BITS</span> <span class=\"title\">bit</span>;</span> <span class=\"comment\">// 单独操作调用方法</span></span><br><span class=\"line\">    Uint16 all; <span class=\"comment\">// 整体操作调用方法</span></span><br><span class=\"line\">&#125;;</span><br></pre></td></tr></table></figure>\r\n<p>演示一下调用方法：</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span> <span class=\"title\">GPFDAT</span>;</span></span><br><span class=\"line\">GPFDAT.all = <span class=\"number\">0x00ff</span>;</span><br><span class=\"line\">GPFDAT.bit.GPIO15 = <span class=\"number\">1</span>;</span><br></pre></td></tr></table></figure>\r\n<p><strong>（二）定义一个包含一组联合的结构（结构体文件）</strong></p>\r\n<p>说来复杂，其实也不难，就是把刚刚我们的一堆共同体union丢到一起，就是结构体文件了。一个结构体文件相当于一个班。</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.h文件（Head）下 */</span></span><br><span class=\"line\"><span class=\"comment\">/* 定义结构体（这个是最大的结构体了） */</span></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span>&#123;</span> <span class=\"comment\">//结构体名字</span></span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPADAT_REG</span> <span class=\"title\">GPADAT</span>;</span> <span class=\"comment\">// 类型（union GPADAT_REG）+ 变量（GPADAT）</span></span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"class\"><span class=\"keyword\">union</span> <span class=\"title\">GPFDAT_REG</span> <span class=\"title\">GPFDAT</span>;</span></span><br><span class=\"line\">    Uint16 rsvd1[<span class=\"number\">4</span>]; <span class=\"comment\">// 不严谨啊，位置不在这的，就是表示一下也可以有Uint16这种类型变量在的意思</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"><span class=\"comment\">/* 定义变量 */</span></span><br><span class=\"line\"><span class=\"keyword\">extern</span> <span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span> <span class=\"title\">GpioDataRegs</span>;</span> <span class=\"comment\">// 这个就是最后用的变量之一了！</span></span><br></pre></td></tr></table></figure>\r\n<p><strong>（三）申明结构体变量实体，并指定其与section的关系（即分配空间）</strong></p>\r\n<p>前半句话，就是上面（二）代码块中的最后一行，合并在一起写了</p>\r\n<p>后半句话，参考CMD中的progma代码段，一般常用的都定义好了</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 以下文件应该放在.c文件下 */</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">ifdef</span> __cplusplus </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> DATA_SECTION(<span class=\"string\">&quot;GpioDataRegsFile&quot;</span>) </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">else</span> </span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">pragma</span> DATA_SECTION(GpioDataRegs,<span class=\"string\">&quot;GpioDataRegsFile&quot;</span>);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">endif</span></span></span><br><span class=\"line\"><span class=\"keyword\">volatile</span> <span class=\"class\"><span class=\"keyword\">struct</span> <span class=\"title\">GPIO_DATA_REGS</span> <span class=\"title\">GpioDataRegs</span>;</span></span><br></pre></td></tr></table></figure>\r\n<p><strong>（四）在链接命令文件CMD中建立连接</strong></p>\r\n<p>参考CMD中的第一个代码块</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">MEMORY&#123;</span><br><span class=\"line\">    PAGE <span class=\"number\">1</span>:</span><br><span class=\"line\">        GPIODAT : origin = <span class=\"number\">0x0070E0</span>, length = <span class=\"number\">0x000020</span></span><br><span class=\"line\">        PIE_VECT: origin = <span class=\"number\">0x000D00</span>, length = <span class=\"number\">0x000100</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">SECTIONS&#123;</span><br><span class=\"line\">    PieVectTableFile : &gt; PIE_VECT,  PAGE = <span class=\"number\">1</span></span><br><span class=\"line\">    GpioDataRegsFile : &gt; GPIODAT ，PAGE = <span class=\"number\">1</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<p><strong>（五）成功调用</strong></p>\r\n<p>变量成为一个结构的成员，同时又有了自己的地址</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">GpioDataRegs.GPFDAT.bit.GPIO11 = <span class=\"number\">1</span>;</span><br><span class=\"line\">GpioDataRegs.GPFDAT.all = <span class=\"number\">0x1234</span>;</span><br><span class=\"line\"><span class=\"comment\">// 大结构体.共同体union.位域bit或整体all</span></span><br></pre></td></tr></table></figure>\r\n<h2 id=\"串行外设接口spi\">串行外设接口SPI</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 4%\" />\r\n<col style=\"width: 8%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 64%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>从属</th>\r\n<th>名称</th>\r\n<th>描述</th>\r\n<th>使用</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>配置</td>\r\n<td>SPICCR</td>\r\n<td>SPI配置控制寄存器</td>\r\n<td>第6位控制信号极性（上升/下降沿）<br />0-3位控制单个字符读取数量</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>控制</td>\r\n<td>SPICTL</td>\r\n<td>SPI工作控制寄存器</td>\r\n<td>第2位网络模式控制（‘0’ - 从机；‘1’ -\r\n主机）<br />第1位主从机发送使能TALK；第0位中断使能</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>状态</td>\r\n<td>SPISTS</td>\r\n<td>SPI状态寄存器</td>\r\n<td>第7位接收器溢出标志<br />第6位只读中断标志<strong>INT\r\nFLAG</strong>（完成数据发送/接收）<br />第5位发送缓冲器已满标志位<strong>FULL</strong></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>时钟</td>\r\n<td>SPIBRR</td>\r\n<td>SPI波特率寄存器</td>\r\n<td>第0-6位控制波特率（<span\r\nclass=\"math inline\">\\(Rate=\\frac{LSPCLK}{SPIBRR+1}\\)</span>）</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>数据</td>\r\n<td>SPIRXBUF</td>\r\n<td>SPI串行接收缓存寄存器</td>\r\n<td>接收后INT FLAG置1</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td></td>\r\n<td>SPITXBUF</td>\r\n<td>SPI串行发送缓存寄存器</td>\r\n<td>发送后TX BUF FULL被清除</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td></td>\r\n<td>SPIDAT</td>\r\n<td>SPI串行数据寄存器</td>\r\n<td></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h1 id=\"c语言代码\">C语言代码</h1>\r\n<h2 id=\"基本代码定义与框架\">基本代码定义与框架</h2>\r\n<h3 id=\"引脚定义实例\">引脚定义实例</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> <span class=\"string\">&lt;引脚名&gt;</span> *((volatile unsigned int*) 引脚号);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PLLCR *((volatile unsigned int*) 0x7021);</span></span><br></pre></td></tr></table></figure>\r\n<h3 id=\"控制时钟pll初始化\">控制时钟PLL初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPLL</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tPLLCR=<span class=\"number\">10</span>; <span class=\"comment\">// 0~10, SYSCLK=外部晶振f*PLLCR/2</span></span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"看门狗初始化\">看门狗初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">DisableDog</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tWDCR = <span class=\"number\">0x0068</span>; <span class=\"comment\">// 禁止WatchDog, 0x0028开启</span></span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"外设时钟初始化\">外设时钟初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPeripheralClock</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tEALLOW;</span><br><span class=\"line\">\tEVAENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEVBENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tSCIENCLKA = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"总初始化-initsysctrl\">总初始化 InitSysCtrl</h3>\r\n<h4 id=\"写法1\">写法1</h4>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\tDisableDog();</span><br><span class=\"line\">\tInitPLL();</span><br><span class=\"line\">\tInitPeripheralClock();</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h4 id=\"写法2\">写法2</h4>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">\t<span class=\"comment\">// DisableDog();</span></span><br><span class=\"line\">\tWDCR = <span class=\"number\">0x0068</span>;</span><br><span class=\"line\">\t<span class=\"comment\">// InitPLL();</span></span><br><span class=\"line\">    PLLCR=(<span class=\"number\">0</span>~<span class=\"number\">10</span>);</span><br><span class=\"line\">\t<span class=\"comment\">// InitPeripheralClock();</span></span><br><span class=\"line\">    EVAENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tEVBENCLK = <span class=\"number\">1</span>;</span><br><span class=\"line\">\tSCIENCLKA = <span class=\"number\">1</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"gpio初始化-initgpio\">GPIO初始化 InitGpio</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioF</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GPFMUX=<span class=\"number\">0x0000</span>; <span class=\"comment\">// 也等于0x80FF等</span></span><br><span class=\"line\">    GPXDIR=<span class=\"number\">0xFF00</span>; <span class=\"comment\">// 也等于3F00等</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"cpu定时器初始化-initcputimer\">CPU定时器初始化 InitCPUtimer</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0PRD *((volatile long int*)0x0C02;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TCR *((volatile unsigned int*)0x0C04;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPR *((volatile unsigned int*)0x0C06;</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPRH *((volatile unsigned int*)0x0C07;</span></span><br><span class=\"line\"><span class=\"comment\">// SYSCLKIN = 30 MHz, PLLCR = 10, SYSCLKOUT = 150 MHz</span></span><br><span class=\"line\"><span class=\"comment\">// 要求变成1s的定时器，这里先除150[(149+1)*(0+1)]，再除10e6(999999+1)</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCPUtimer</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    TIMER0TPR = <span class=\"number\">149</span>;</span><br><span class=\"line\">    TIMER0TPRH = <span class=\"number\">0</span>;</span><br><span class=\"line\">    TIMER0PRD = <span class=\"number\">999999</span>;</span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf000</span>; <span class=\"comment\">// 中断清除</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"时钟延时函数\">时钟延时函数</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 已经定义过InitCPUtimer</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Delay</span><span class=\"params\">(<span class=\"type\">unsigned</span> <span class=\"type\">int</span> val)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> k;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    TIMER0PRD = val;</span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf020</span>; <span class=\"comment\">// 重新装载数据</span></span><br><span class=\"line\">    <span class=\"keyword\">do</span> &#123;k = TIMER0TCR&#125; <span class=\"keyword\">while</span> ((k &amp; <span class=\"number\">0x8000</span>) == <span class=\"number\">0</span>);</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"pie中断初始化-initpie\">PIE中断初始化 InitPIE</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 假设仅使用INT1.7，仅允许该中断通过</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIECTRL *((volatile unsigned int*)0x0CE0);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEACK *((volatile unsigned int*)0x0CE1);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEIER1 *((volatile unsigned int*)0x0CE2);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PIEIFR1 *((volatile unsigned int*)0x0CE3);</span></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPIE</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    PIEIFR1 = <span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    PIEIER1 = <span class=\"number\">0x0040</span>; <span class=\"comment\">// 使能</span></span><br><span class=\"line\">    PIECTRL = <span class=\"number\">0x1</span>; <span class=\"comment\">// 使向量取自PIE向量表</span></span><br><span class=\"line\">    PIEACK = <span class=\"number\">0x1</span>; <span class=\"comment\">// 清零，表示暂无中断</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"中断向量的申请\">中断向量的申请</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// 1. 申明</span></span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_m_n</span><span class=\"params\">(<span class=\"type\">void</span>)</span>; <span class=\"comment\">// m=0~12, n=0~8</span></span><br><span class=\"line\"><span class=\"comment\">// 2.地址计算</span></span><br><span class=\"line\">PIE_VECT_m_n = <span class=\"number\">0x0D40</span> + ((m<span class=\"number\">-1</span>)*<span class=\"number\">8</span>+(n<span class=\"number\">-1</span>))*<span class=\"number\">2</span>; <span class=\"comment\">// 起始地址为0x0D40，如INT1.7就是0x0D4C</span></span><br><span class=\"line\"><span class=\"comment\">// 3. 赋值</span></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span> <span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">(*(PINT*) PIE_VECT_m_n) = &amp;INT_m_n</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"cpu中断初始化\">CPU中断初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCPU</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    <span class=\"comment\">// 汇编语言</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IFR,#00H&quot;</span>); <span class=\"comment\">// IFR置0，表示此时无中断</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IER,#01H&quot;</span>); <span class=\"comment\">// IER置1，使能</span></span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; EINT&quot;</span>); <span class=\"comment\">// 总闸使能，这个就是INTM</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"spi初始化\">SPI初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSpi</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GpioMuxRegs.GPFMUX.all = <span class=\"number\">0x000F</span>; <span class=\"comment\">// SPI与GPIOF共用引脚</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    SpiaRegs.SPICCR.all = <span class=\"number\">0x47</span>; <span class=\"comment\">// 个人感觉0x07也行</span></span><br><span class=\"line\">    SpiaRegs.SPICTL.all = <span class=\"number\">0x06</span>; <span class=\"comment\">// 主机模型 + 禁用中断</span></span><br><span class=\"line\">    SpiaRegs.SPIBRR.all = <span class=\"number\">0x7F</span>;</span><br><span class=\"line\">    SpiaRegs.SPICCR.all = SpiaRegs.SPICCR.all || <span class=\"number\">0x0080</span>; <span class=\"comment\">// 退出复位的方式</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"spi数据发送\">SPI数据发送</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">SpiSent</span><span class=\"params\">(<span class=\"type\">int</span> k)</span>&#123;</span><br><span class=\"line\">    SpiaRegs.SPITXBUF = k; <span class=\"comment\">// 数据输入</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> (SpiaRegs.SPISTS.bit.INT_FLAG != <span class=\"number\">1</span>) &#123;&#125; <span class=\"comment\">// 确认数据发送完毕</span></span><br><span class=\"line\">    SpiaRegs.SPIRXBUF = SpiaRegs.SPIRXBUF; <span class=\"comment\">// 复位</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"八段数码管循环\">八段数码管循环</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Display</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    GpioDataRegs.GPADAT.bit.GPIOA11 = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i=<span class=\"number\">0</span>,i&lt;<span class=\"number\">8</span>,i++)&#123;</span><br><span class=\"line\">        <span class=\"comment\">// 依次输入8个数据，数码管自动往前移位</span></span><br><span class=\"line\">        SpiaRegs.SPITXBUF= LEDCode[LEDReg[i]]; </span><br><span class=\"line\">        <span class=\"keyword\">while</span> (SpiaRegs.SPISTS.bit.INT_FLAG!= <span class=\"number\">1</span>) &#123;&#125;;</span><br><span class=\"line\">        SpiaRegs.SPIRXBUF= SpiaRegs.SPIRXBUF;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    GpioDataRegs.GPADAT.bit.GPIOA11 = <span class=\"number\">1</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"键盘的读取\">键盘的读取</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span> Keyin = <span class=\"number\">0xffff</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Keyscan</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">unsigned</span> <span class=\"type\">int</span> key1R , key2R; </span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    GPBDIR &amp;= <span class=\"number\">0x00FF</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* KEYA */</span></span><br><span class=\"line\">    GPEDAT  = <span class=\"number\">0xFFF8</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">100</span>; i++) &#123;&#125; <span class=\"comment\">//短延时</span></span><br><span class=\"line\">    key1R = GPBDAT；</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">30000</span>; i++) &#123;&#125;   <span class=\"comment\">// 长延时消除抖动</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (key1R != GPBDAT) key1R=<span class=\"number\">0xffff</span> ；</span><br><span class=\"line\">    <span class=\"comment\">/* KEYB */</span></span><br><span class=\"line\">    GPEDAT  = <span class=\"number\">0xFFF9</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">100</span>; i++) &#123;&#125; <span class=\"comment\">//短延时</span></span><br><span class=\"line\">    key2R = GPBDAT；</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (i=<span class=\"number\">0</span>; i&lt;<span class=\"number\">30000</span>; i++) &#123;&#125;   <span class=\"comment\">// 长延时消除抖动</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span>(key2R != GPBDAT) key2R=<span class=\"number\">0xffff</span>;</span><br><span class=\"line\">    <span class=\"comment\">/* Add */</span></span><br><span class=\"line\">    Keyin = key2R &amp; <span class=\"number\">0xff00</span> + key1R / <span class=\"number\">256</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"等待键盘输入\">等待键盘输入</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">WaitKeyin</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"type\">int</span> temp;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (Keyin == <span class=\"number\">0xffff</span>) &#123;Keyscan();&#125; <span class=\"comment\">// 等待直到键盘有输入</span></span><br><span class=\"line\">    temp = Keyin;</span><br><span class=\"line\">    <span class=\"keyword\">while</span> (Keyin != <span class=\"number\">0xffff</span>) &#123;Keyscan();&#125; <span class=\"comment\">// 松开键盘时建立响应</span></span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (temp)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> K1: Keyin = <span class=\"number\">1</span>; <span class=\"keyword\">break</span>;</span><br><span class=\"line\">        <span class=\"keyword\">default</span> : Keyin = <span class=\"number\">0x10</span>; <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"键号判别功能转移\">键号判别、功能转移</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    ...</span><br><span class=\"line\">    <span class=\"comment\">// for (;;) &#123;asm(&quot; IDLE&quot;);&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;) &#123;KeyFunction();&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">KeyFunction</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    WaitKeyin();</span><br><span class=\"line\">    <span class=\"keyword\">switch</span> (Keyin)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">case</span> <span class=\"number\">1</span>: &#123;</span><br><span class=\"line\">            \t<span class=\"comment\">// do something</span></span><br><span class=\"line\">            \t<span class=\"keyword\">break</span>;</span><br><span class=\"line\">        \t&#125;</span><br><span class=\"line\">        <span class=\"keyword\">default</span>: <span class=\"keyword\">break</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"通用定时器编程初始化\">通用定时器编程初始化</h3>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">EVA_Timer1</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    EvaRegs.EXTCONA.bit.INDCOE= <span class=\"number\">1</span>; <span class=\"comment\">// 决定T1，T2是否关联</span></span><br><span class=\"line\">    EvaRegs.GPTCONA.allEvaRegs.GPTCONA.all= <span class=\"number\">0x0012</span>; <span class=\"comment\">// 4.5.6位说明T1，T2是否输出</span></span><br><span class=\"line\">    EvaRegs.T1PR = <span class=\"number\">0x003</span>; <span class=\"comment\">// 峰值</span></span><br><span class=\"line\">    EvaRegs.T1CMPR = <span class=\"number\">0x0001</span>; <span class=\"comment\">// Compare</span></span><br><span class=\"line\">    EvaRegs.T1CNT = <span class=\"number\">0x0000</span>; <span class=\"comment\">// 计数器初始化</span></span><br><span class=\"line\">    EvaRegs.T1CON.all = <span class=\"number\">0x1742</span>; <span class=\"comment\">// 确定运行方式，或0x0F42</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h2 id=\"实例\">实例</h2>\r\n<h3 id=\"实例1-点灯\">实例1 点灯</h3>\r\n<ul>\r\n<li>点亮六盏灯，利用GPIOF的8-13位输出。（高电平灭灯）</li>\r\n</ul>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFMUX *((volatile unsigned int*)0x70D4);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDIR *((volatile unsigned int*)0x70D5);</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDAT *((volatile unsigned int*)0x70F4);</span></span><br><span class=\"line\"><span class=\"type\">int</span> delay_n <span class=\"number\">30000</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">()</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioF</span><span class=\"params\">()</span>&#123;&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">Delay_Loop</span><span class=\"params\">(<span class=\"type\">int</span> n)</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;n;i++)&#123;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">    InitSysCtrl();</span><br><span class=\"line\">    InitGpioF();</span><br><span class=\"line\">    <span class=\"keyword\">for</span> (;;)&#123;</span><br><span class=\"line\">        Delay_Loop(delay_n);</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x5600</span> <span class=\"comment\">// 0x56 = 01010110</span></span><br><span class=\"line\">        Delay_Loop(delay_n);</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x1200</span> <span class=\"comment\">// 0x12 = 00010010</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"实例2-中断编程\">实例2 中断编程</h3>\r\n<ul>\r\n<li>利用TIMER0中断，使GPIOF8闪烁，周期为3s，亮1s。</li>\r\n</ul>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span><span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    <span class=\"comment\">// 四个初始化</span></span><br><span class=\"line\">    InitSysCtrl();</span><br><span class=\"line\">    InitGpioF();</span><br><span class=\"line\">    InitCPUtimer();</span><br><span class=\"line\">    InitPIE();</span><br><span class=\"line\">    <span class=\"comment\">// 主程序</span></span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    *(PINT*)<span class=\"number\">0x0D4C</span> = &amp;INT_1_7;</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IFR,#00H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; and IER,#01H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; EINT&quot;</span>);</span><br><span class=\"line\">    LPMCR0 = <span class=\"number\">0x0</span>; <span class=\"comment\">// 定义低功耗方式为00，即IDLE</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    <span class=\"comment\">// Else</span></span><br><span class=\"line\">    k = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(;;)&#123;</span><br><span class=\"line\">        <span class=\"keyword\">asm</span>(<span class=\"string\">&quot; IDLE&quot;</span>); <span class=\"comment\">// 开始睡觉</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>&#123;</span><br><span class=\"line\">    k += <span class=\"number\">1</span>; <span class=\"comment\">// Global k</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> (k==<span class=\"number\">3</span>)&#123;</span><br><span class=\"line\">        k=<span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0xfeff</span>; <span class=\"comment\">// 开</span></span><br><span class=\"line\">    &#125;<span class=\"keyword\">else</span>&#123;</span><br><span class=\"line\">        GPFDAT = <span class=\"number\">0x0100</span>; <span class=\"comment\">// 关</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    PIEACK = <span class=\"number\">0x1</span>; <span class=\"comment\">// 表示响应过了（0的话会申请中断）</span></span><br><span class=\"line\">    TIMER0TCR = <span class=\"number\">0xf000</span>; <span class=\"comment\">// 写1中断清除</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n<h3 id=\"实例3-绿灯闪烁点红灯\">实例3 绿灯闪烁+点红灯</h3>\r\n<ul>\r\n<li>GPIOE</li>\r\n</ul>\r\n<table>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>输入</th>\r\n<th>效果</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>2</td>\r\n<td>选择寄存器1，即GPBDAT与左边八盏红灯建立联系</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>3</td>\r\n<td>选择寄存器2，即GPBDAT与右边八盏红灯建立联系</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>7</td>\r\n<td>产生一个下降沿，使寄存器（GPBDAT）发送数据</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>GPIOB</li>\r\n</ul>\r\n<p>输入数据的前八位控制红灯（初始化GPBDIR为0xFF00）</p>\r\n<p>如<code>GPBDAT = 0xfeff</code>，且<code>GPEDAT = 2</code>，则左边第一盏红灯亮。（DAT最低位对应第一盏灯）</p>\r\n<figure class=\"highlight c\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> EALLOW asm(<span class=\"string\">&quot; EALLOW&quot;</span>)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> EDIS   asm(<span class=\"string\">&quot; EDIS&quot;</span>)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PLLCR   *((volatile unsigned int *) 0x7021)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> PCLKCR  *((volatile unsigned int *) 0x701C)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> HISPCP  *((volatile unsigned int *) 0x701A)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> LOSPCP  *((volatile unsigned int *) 0x701B)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> WDCR    *((volatile unsigned int *) 0x7029)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> SCSR    *((volatile unsigned int *) 0x7022)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> LPMCR0  *((volatile unsigned int *) 0x701E)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFMUX  *((volatile unsigned int *) 0x70D4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDIR  *((volatile unsigned int *) 0x70D5)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPFDAT  *((volatile unsigned int *) 0x70F4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBMUX  *((volatile unsigned int *) 0x70C4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBDIR  *((volatile unsigned int *) 0x70C5)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPBDAT  *((volatile unsigned int *) 0x70E4)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEMUX  *((volatile unsigned int *) 0x70D0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEDIR  *((volatile unsigned int *) 0x70D1)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> GPEDAT  *((volatile unsigned int *) 0x70F0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0PRD   *((volatile unsigned long int *) 0x0C02)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TCR   *((volatile unsigned int *) 0x0C04)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPR   *((volatile unsigned int *) 0x0C06)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span> TIMER0TPRH  *((volatile unsigned int *) 0x0C07)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIECTRL    *((volatile unsigned int *) 0x0CE0)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEACK     *((volatile unsigned int *) 0x0CE1)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEIER1    *((volatile unsigned int *) 0x0CE2)</span></span><br><span class=\"line\"><span class=\"meta\">#<span class=\"keyword\">define</span>  PIEIFR1    *((volatile unsigned int *) 0x0CE3)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPll</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   <span class=\"type\">int</span> i;</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\">    PLLCR = <span class=\"number\">10</span>;<span class=\"comment\">//SYSCLK = 外部振荡频率（30M） * PLLCR /2</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(i= <span class=\"number\">0</span>; i&lt; ( (<span class=\"number\">131072</span>/<span class=\"number\">2</span>)/<span class=\"number\">12</span> ); i++) &#123;;&#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPeripheralClocks</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    HISPCP = <span class=\"number\">1</span>;  <span class=\"comment\">// HISPCLK= SYSCLK * HISPCP /2</span></span><br><span class=\"line\">    LOSPCP = <span class=\"number\">2</span>;  <span class=\"comment\">// LOSPCLK= SYSCLK * LOSPCP /2</span></span><br><span class=\"line\">    PCLKCR = <span class=\"number\">0x909</span>;<span class=\"comment\">// 开启部分外设</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">DisableDog</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    WDCR = <span class=\"number\">0x0068</span>; <span class=\"comment\">//关闭看门狗；；</span></span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitSysCtrl</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    DisableDog();</span><br><span class=\"line\">    InitPll();</span><br><span class=\"line\">    InitPeripheralClocks();</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpiof</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPFMUX =<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    GPFDIR =<span class=\"number\">0xFF00</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpiob</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPBMUX =<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    GPBDIR =<span class=\"number\">0xFF00</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitGpioe</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    GPEMUX =<span class=\"number\">0x0</span>;</span><br><span class=\"line\">    GPEDIR =<span class=\"number\">0x7</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitCputimer</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    TIMER0TPR=<span class=\"number\">149</span>;</span><br><span class=\"line\">    TIMER0TPRH=<span class=\"number\">0</span>;</span><br><span class=\"line\">    TIMER0PRD=<span class=\"number\">999</span>;<span class=\"comment\">//周期为0.001s，即1ms </span></span><br><span class=\"line\">    TIMER0TCR=<span class=\"number\">0xf000</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">InitPIE</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   EALLOW;</span><br><span class=\"line\">    PIEIFR1=<span class=\"number\">0x0000</span>;</span><br><span class=\"line\">    PIEIER1=<span class=\"number\">0x0040</span>;</span><br><span class=\"line\">    PIECTRL=<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    PIEACK =<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">typedef</span> interrupt <span class=\"title function_\">void</span><span class=\"params\">(*PINT)</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span>;</span><br><span class=\"line\"><span class=\"type\">int</span> a, b, c, d, e, f;</span><br><span class=\"line\"><span class=\"type\">int</span> i;</span><br><span class=\"line\"><span class=\"type\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;   InitSysCtrl();</span><br><span class=\"line\">    InitGpiof();</span><br><span class=\"line\">    InitGpiob();</span><br><span class=\"line\">    InitGpioe();</span><br><span class=\"line\">    InitCputimer();</span><br><span class=\"line\">    InitPIE();</span><br><span class=\"line\">    EALLOW;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//点红灯</span></span><br><span class=\"line\"></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">2</span>;      <span class=\"comment\">//选第一组</span></span><br><span class=\"line\">    GPBDAT = <span class=\"number\">0xFDFF</span>; <span class=\"comment\">//第二盏灯亮</span></span><br><span class=\"line\"><span class=\"comment\">//    for(i = 0;i&lt;100;i++)&#123;&#125;</span></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">7</span>;      <span class=\"comment\">//使产生一个下降沿</span></span><br><span class=\"line\"></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">3</span>;      <span class=\"comment\">//选第二组</span></span><br><span class=\"line\">    GPBDAT = <span class=\"number\">0x7FFF</span>; <span class=\"comment\">//第一盏灯亮</span></span><br><span class=\"line\"><span class=\"comment\">//    for(i = 0;i&lt;100;i++)&#123;&#125;</span></span><br><span class=\"line\">    GPEDAT = <span class=\"number\">7</span>;      <span class=\"comment\">//使产生一个下降沿</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\">    * (PINT *) <span class=\"number\">0x0D4C</span> = &amp; INT_1_7;</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  and IFR,#00H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  or  IER,#01H&quot;</span>);</span><br><span class=\"line\">    <span class=\"keyword\">asm</span>(<span class=\"string\">&quot;  EINT&quot;</span>);</span><br><span class=\"line\">    LPMCR0=<span class=\"number\">0x0</span>;</span><br><span class=\"line\">    EDIS;</span><br><span class=\"line\">    a = <span class=\"number\">0</span>, b = <span class=\"number\">0</span>, c = <span class=\"number\">0</span>, d = <span class=\"number\">0</span>, e = <span class=\"number\">0</span>, f = <span class=\"number\">0</span>;</span><br><span class=\"line\">    <span class=\"keyword\">for</span>(;;)&#123;<span class=\"keyword\">asm</span>(<span class=\"string\">&quot; IDLE&quot;</span>);&#125;;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">interrupt <span class=\"type\">void</span> <span class=\"title function_\">INT_1_7</span><span class=\"params\">(<span class=\"type\">void</span>)</span></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"comment\">//第一盏灯</span></span><br><span class=\"line\">    a+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a == <span class=\"number\">500</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFEFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(a == <span class=\"number\">2000</span>)&#123;</span><br><span class=\"line\">        a = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0100</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第二盏灯</span></span><br><span class=\"line\">    b+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b == <span class=\"number\">300</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFDFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(b == <span class=\"number\">1000</span>)&#123;</span><br><span class=\"line\">        b = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0200</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第三盏灯</span></span><br><span class=\"line\">    c+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(c == <span class=\"number\">100</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xFBFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(c == <span class=\"number\">200</span>)&#123;</span><br><span class=\"line\">        c = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0400</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第四盏灯</span></span><br><span class=\"line\">    d+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(d == <span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xF7FF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(d == <span class=\"number\">20</span>)&#123;</span><br><span class=\"line\">        d = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x0800</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第五盏灯</span></span><br><span class=\"line\">    e+=<span class=\"number\">1</span>;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(e == <span class=\"number\">9</span>)&#123;</span><br><span class=\"line\">        GPFDAT=GPFDAT&amp;<span class=\"number\">0xEFFF</span>;<span class=\"comment\">//变亮</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">if</span>(e == <span class=\"number\">10</span>)&#123;</span><br><span class=\"line\">        e = <span class=\"number\">0</span>;</span><br><span class=\"line\">        GPFDAT=GPFDAT|<span class=\"number\">0x1000</span>;<span class=\"comment\">//变暗</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//第六盏灯</span></span><br><span class=\"line\">    GPFDAT=GPFDAT|<span class=\"number\">0x2000</span>;</span><br><span class=\"line\">    PIEACK=<span class=\"number\">0x1</span>;</span><br><span class=\"line\">    TIMER0TCR=<span class=\"number\">0xf000</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\r\n"},{"title":"理","top_img":"/image/top3.jpg","mathjax":true,"cover":"/image/Back_Li.jpg","description":"从前有个小镇，从前有个青年。很普通的姓，单名一个理。","indexing":false,"post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者##","_content":"\n## 正文\n\n​\t\t在不是很久以前，有一个青年，坐不改姓，行不更名，最普通的姓，单名一个“理”。一个不算外地也不算本地的青年，来到这座滨海小城当老师。人如其名，正教高中物理。总之，他有了他的第一批学生。\n\n​\t\t可是这样一个大学刚毕业的青年，总有一些理想和热情，从他的心里喷出来，怀揣着满腔的热血，秉承着理工生挑战难题的痴迷和执着的学院风，不愿只是困囿于日常带着镣铐跳舞的课堂教学：按部就班、平稳渐进，但缺少烧脑的挑战和思维的激情。于是，他想走另外一条，名叫竞赛的路。\n\n​\t\t可这又是如此的困难，这是座普普通通小镇的普普通通的学校。他看着底下的学生，他们是百里挑一的天才；但所有人也都知道，想要踏入竞赛的大门，谁又不是光芒瞩目、举国无双？消息闭塞，不受待见，唯有后来转来的同为物理教师的校长肯给予他一些帮助。几年过去了，他还是他。\n\n​\t\t直到有一天，他收到了这样一群人，桀骜不驯，顽固不羁，也有一些青黄不接。不知为何，几年下来空白的成就墙和挫败感并没有消磨完他的锐气。学生的班主任同样也是一个物理老师，年级并不比他大多少，却早已结婚生子，过着平淡而极其有规律的生活。听到他要来招人的消息，她略有些意外，抿了抿嘴，并不鼓励也没打压的轻描淡写的向她的学生描述了这个事实。几个消息灵通的人悄悄对其他人说了些什么，然后摇了摇头。只害他多来了好几次，才有了足数的学生。\n\n​\t\t他和他的学生度过了数百日夜，两载寒暑，班上的人越来越少，从最初的二三十个，剩下了最后的七个。\n\n​\t\t那是第一个暑假，当所有人都还在的时候，他硬是上了整整一个月的课。当时学校里的课程还差很多，他就极快的将重要内容再上一遍。学竞赛要用到高等数学，他就自己硬生生的把半本高数教完。每天早上八点不到，他们刚在教室里落座不久，他便顶着一头乱糟糟的头发进来，嘴里啃着一个菜包，手上还拿着一个。课上了一个半小时，他便会“讲不动了”，开始让学生们写题，然后开始坐下来啃另外一个菜包。每天如此，一瓶牛奶，两个菜包，雷打不动。这俨然已经和微微驮着的背、街边甩卖的短袖，一起成为他的标签。\n\n​\t\t那个暑假走个最多的人，因为那实在是压力不小。着实，他的学生并不是一群令他期待已久的天才，而只是一些不成器的小孩。或者说，他们也并不是很服他，这也是氛围所致。\n\n​\t\t那是极其有规律的一段时间。每周的两节社团课，都被占去；周六下午，周日晚上，也是如此，每周五六个小时，都在305实验室里度过。常常，他们望着墙壁上牛顿的画像发呆，反复翻弄着桌上的导线和学生电源。周围是老旧的、别处用旧后换下来的桌椅，拥有完整凳面的凳子屈指可数，连电风扇都只有一个是能看出来它在动的，通常不过是嘎嘎作响的噪音显示着它还在工作。\n\n​\t\t日日如此，周周如此，他在学生班级里的“名声”日益高涨——诸如谁在校园前的车站偶遇了他的前女友，又如他的前女友是如何拉着谁畅谈四十分钟，再比如临近校门的教学楼不时能听见疑似他前女友的尖叫。\n\n​\t\t时间终于是来到了第二个寒假，学生们总算写完了令人望而生畏的“黑白皮”——标志着他们终于踏上了所谓竞赛的门槛。二月，学校里空空如也，只有几个零星的身影还在。他在前面走，他的几个学生在后面，看他如何落后校长和其他学校的竞赛教练半步，不敢多说几句；看他如何间歇的略有些佝偻着背，随声应和；看他如何一边用手支开另一侧前来的前女友，一边降低自己的存在感。\n\n​\t\t九月上旬，终于，迎来了备战长达整整一年半的考试。他有些兴奋，尽管不是亲自上阵，同时也带有些紧张。那并不具有多少口才的嘴中并不能蹦出几个有力的加油字眼。不一会儿，他又遇到了某某中学的竞赛教练，三步并作两步地上前去攀谈了起来。三个小时的漫长考试，仅仅是在一眨眼间就结束了，他看到高三的学长学姐喜笑颜开，看到高二的学生愁眉苦脸，唉声叹气。这种场景，那年如此，之前如此，之后如此。\n\n​\t\t半个月后的一天，他极其高兴的欢呼了起来，因为他的一个学生过了初赛。这或许是他任教七年来第一个考过了初赛的学生——至少传闻是如此。在那以后半个多月的故事倒是和他没了什么关系。不久后得知多少年来终于有人能在复赛中得奖，大抵是首次了。\n\n​\t\t然而所有的学生们都不太愿意学下去了，因为马上就会到高三了，他们需要时间留给“正课”。人一个个的走掉，他挣扎着，劝说着，但他的学生还是退出了。那一段时间，他的心或许是最痛的，不仅仅是两年心血灌注出的努力近乎付诸东流，更是刚有希望点燃了火柴，就被熄灭在黑暗里。\n\n​\t\t后来，他们很少再联系，他曾经的学生们搬去了独栋的高三楼。于是，之后发生的故事，都变成了写在后来的事。\n\n​\t\t后来，当他的学生在路上偶尔碰到他，在校门口简易的面店中看见他，有时在远处就远远的走开，亦或是尴尬的面无表情的路过。那原本就是亚健康的身体，现在已经凸起了一个不大不小的啤酒肚，搭配着一年四季相似的衣服，在寒风的吹拂下格外的明显。\n\n​\t\t后来，学校开设了数学竞赛，有着学校的支持，更多更好的学生都去了那里，他的学生听许多人说，再去物理竞赛的，都是所谓“挑剩下的学生”。\n\n​\t\t后来，连最后倔强的305实验室都换了模样，焕然一新，再也没有以往的一丝破旧之感可循。与此同时，它也失去了桌板上刻着的大字，失去了原本艰苦奋斗的回忆，失去了顶着40度高温上课的苦难，失去了一切它原本具有的样子，拥有了一切它理应具有的东西。\n\n​\t\t后来，当我时隔数月再度打开手机qq，却发现原本那个半年没有动静，本来消息就寥寥无几的竞赛群聊，仍然静悄悄的被置顶在最上面。我叹了口气，手指在屏幕上轻轻滑动了几下，随着它置顶标识的消失，我再也找不到它了。\n\n## 后记\n\n​\t\t很久很久以后，突然有人在群里@我，说：“快看，陈理结婚了。”我打开朋友圈，一股浓浓的乡村抖音中年大叔气息涌到我的脸上来。他不再像是青年人了，坐在汽车的座椅上也不能看清是否还有啤酒肚，好在破旧的短袖和衬衫是换掉了，变得人模人样。\n\n​\t\t我精神有些恍惚，思绪又回到了那天，他的前女友拉着我在校门口聊了半个小时的那个下午。\n","source":"_posts/理.md","raw":"---\ntitle: 理\ntop_img: /image/top3.jpg\nmathjax: true\ncover: /image/Back_Li.jpg\ndescription: 从前有个小镇，从前有个青年。很普通的姓，单名一个理。\ntags: \n  - 随笔\ncategories: 随笔\nindexing: false\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者##\n---\n\n## 正文\n\n​\t\t在不是很久以前，有一个青年，坐不改姓，行不更名，最普通的姓，单名一个“理”。一个不算外地也不算本地的青年，来到这座滨海小城当老师。人如其名，正教高中物理。总之，他有了他的第一批学生。\n\n​\t\t可是这样一个大学刚毕业的青年，总有一些理想和热情，从他的心里喷出来，怀揣着满腔的热血，秉承着理工生挑战难题的痴迷和执着的学院风，不愿只是困囿于日常带着镣铐跳舞的课堂教学：按部就班、平稳渐进，但缺少烧脑的挑战和思维的激情。于是，他想走另外一条，名叫竞赛的路。\n\n​\t\t可这又是如此的困难，这是座普普通通小镇的普普通通的学校。他看着底下的学生，他们是百里挑一的天才；但所有人也都知道，想要踏入竞赛的大门，谁又不是光芒瞩目、举国无双？消息闭塞，不受待见，唯有后来转来的同为物理教师的校长肯给予他一些帮助。几年过去了，他还是他。\n\n​\t\t直到有一天，他收到了这样一群人，桀骜不驯，顽固不羁，也有一些青黄不接。不知为何，几年下来空白的成就墙和挫败感并没有消磨完他的锐气。学生的班主任同样也是一个物理老师，年级并不比他大多少，却早已结婚生子，过着平淡而极其有规律的生活。听到他要来招人的消息，她略有些意外，抿了抿嘴，并不鼓励也没打压的轻描淡写的向她的学生描述了这个事实。几个消息灵通的人悄悄对其他人说了些什么，然后摇了摇头。只害他多来了好几次，才有了足数的学生。\n\n​\t\t他和他的学生度过了数百日夜，两载寒暑，班上的人越来越少，从最初的二三十个，剩下了最后的七个。\n\n​\t\t那是第一个暑假，当所有人都还在的时候，他硬是上了整整一个月的课。当时学校里的课程还差很多，他就极快的将重要内容再上一遍。学竞赛要用到高等数学，他就自己硬生生的把半本高数教完。每天早上八点不到，他们刚在教室里落座不久，他便顶着一头乱糟糟的头发进来，嘴里啃着一个菜包，手上还拿着一个。课上了一个半小时，他便会“讲不动了”，开始让学生们写题，然后开始坐下来啃另外一个菜包。每天如此，一瓶牛奶，两个菜包，雷打不动。这俨然已经和微微驮着的背、街边甩卖的短袖，一起成为他的标签。\n\n​\t\t那个暑假走个最多的人，因为那实在是压力不小。着实，他的学生并不是一群令他期待已久的天才，而只是一些不成器的小孩。或者说，他们也并不是很服他，这也是氛围所致。\n\n​\t\t那是极其有规律的一段时间。每周的两节社团课，都被占去；周六下午，周日晚上，也是如此，每周五六个小时，都在305实验室里度过。常常，他们望着墙壁上牛顿的画像发呆，反复翻弄着桌上的导线和学生电源。周围是老旧的、别处用旧后换下来的桌椅，拥有完整凳面的凳子屈指可数，连电风扇都只有一个是能看出来它在动的，通常不过是嘎嘎作响的噪音显示着它还在工作。\n\n​\t\t日日如此，周周如此，他在学生班级里的“名声”日益高涨——诸如谁在校园前的车站偶遇了他的前女友，又如他的前女友是如何拉着谁畅谈四十分钟，再比如临近校门的教学楼不时能听见疑似他前女友的尖叫。\n\n​\t\t时间终于是来到了第二个寒假，学生们总算写完了令人望而生畏的“黑白皮”——标志着他们终于踏上了所谓竞赛的门槛。二月，学校里空空如也，只有几个零星的身影还在。他在前面走，他的几个学生在后面，看他如何落后校长和其他学校的竞赛教练半步，不敢多说几句；看他如何间歇的略有些佝偻着背，随声应和；看他如何一边用手支开另一侧前来的前女友，一边降低自己的存在感。\n\n​\t\t九月上旬，终于，迎来了备战长达整整一年半的考试。他有些兴奋，尽管不是亲自上阵，同时也带有些紧张。那并不具有多少口才的嘴中并不能蹦出几个有力的加油字眼。不一会儿，他又遇到了某某中学的竞赛教练，三步并作两步地上前去攀谈了起来。三个小时的漫长考试，仅仅是在一眨眼间就结束了，他看到高三的学长学姐喜笑颜开，看到高二的学生愁眉苦脸，唉声叹气。这种场景，那年如此，之前如此，之后如此。\n\n​\t\t半个月后的一天，他极其高兴的欢呼了起来，因为他的一个学生过了初赛。这或许是他任教七年来第一个考过了初赛的学生——至少传闻是如此。在那以后半个多月的故事倒是和他没了什么关系。不久后得知多少年来终于有人能在复赛中得奖，大抵是首次了。\n\n​\t\t然而所有的学生们都不太愿意学下去了，因为马上就会到高三了，他们需要时间留给“正课”。人一个个的走掉，他挣扎着，劝说着，但他的学生还是退出了。那一段时间，他的心或许是最痛的，不仅仅是两年心血灌注出的努力近乎付诸东流，更是刚有希望点燃了火柴，就被熄灭在黑暗里。\n\n​\t\t后来，他们很少再联系，他曾经的学生们搬去了独栋的高三楼。于是，之后发生的故事，都变成了写在后来的事。\n\n​\t\t后来，当他的学生在路上偶尔碰到他，在校门口简易的面店中看见他，有时在远处就远远的走开，亦或是尴尬的面无表情的路过。那原本就是亚健康的身体，现在已经凸起了一个不大不小的啤酒肚，搭配着一年四季相似的衣服，在寒风的吹拂下格外的明显。\n\n​\t\t后来，学校开设了数学竞赛，有着学校的支持，更多更好的学生都去了那里，他的学生听许多人说，再去物理竞赛的，都是所谓“挑剩下的学生”。\n\n​\t\t后来，连最后倔强的305实验室都换了模样，焕然一新，再也没有以往的一丝破旧之感可循。与此同时，它也失去了桌板上刻着的大字，失去了原本艰苦奋斗的回忆，失去了顶着40度高温上课的苦难，失去了一切它原本具有的样子，拥有了一切它理应具有的东西。\n\n​\t\t后来，当我时隔数月再度打开手机qq，却发现原本那个半年没有动静，本来消息就寥寥无几的竞赛群聊，仍然静悄悄的被置顶在最上面。我叹了口气，手指在屏幕上轻轻滑动了几下，随着它置顶标识的消失，我再也找不到它了。\n\n## 后记\n\n​\t\t很久很久以后，突然有人在群里@我，说：“快看，陈理结婚了。”我打开朋友圈，一股浓浓的乡村抖音中年大叔气息涌到我的脸上来。他不再像是青年人了，坐在汽车的座椅上也不能看清是否还有啤酒肚，好在破旧的短袖和衬衫是换掉了，变得人模人样。\n\n​\t\t我精神有些恍惚，思绪又回到了那天，他的前女友拉着我在校门口聊了半个小时的那个下午。\n","slug":"理","published":1,"date":"2023-09-26T06:29:24.445Z","updated":"2023-09-27T11:51:30.386Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0l00219kthezmg13zf","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"正文\">正文</h2>\r\n<p>​\r\n在不是很久以前，有一个青年，坐不改姓，行不更名，最普通的姓，单名一个“理”。一个不算外地也不算本地的青年，来到这座滨海小城当老师。人如其名，正教高中物理。总之，他有了他的第一批学生。</p>\r\n<p>​\r\n可是这样一个大学刚毕业的青年，总有一些理想和热情，从他的心里喷出来，怀揣着满腔的热血，秉承着理工生挑战难题的痴迷和执着的学院风，不愿只是困囿于日常带着镣铐跳舞的课堂教学：按部就班、平稳渐进，但缺少烧脑的挑战和思维的激情。于是，他想走另外一条，名叫竞赛的路。</p>\r\n<p>​\r\n可这又是如此的困难，这是座普普通通小镇的普普通通的学校。他看着底下的学生，他们是百里挑一的天才；但所有人也都知道，想要踏入竞赛的大门，谁又不是光芒瞩目、举国无双？消息闭塞，不受待见，唯有后来转来的同为物理教师的校长肯给予他一些帮助。几年过去了，他还是他。</p>\r\n<p>​\r\n直到有一天，他收到了这样一群人，桀骜不驯，顽固不羁，也有一些青黄不接。不知为何，几年下来空白的成就墙和挫败感并没有消磨完他的锐气。学生的班主任同样也是一个物理老师，年级并不比他大多少，却早已结婚生子，过着平淡而极其有规律的生活。听到他要来招人的消息，她略有些意外，抿了抿嘴，并不鼓励也没打压的轻描淡写的向她的学生描述了这个事实。几个消息灵通的人悄悄对其他人说了些什么，然后摇了摇头。只害他多来了好几次，才有了足数的学生。</p>\r\n<p>​\r\n他和他的学生度过了数百日夜，两载寒暑，班上的人越来越少，从最初的二三十个，剩下了最后的七个。</p>\r\n<p>​\r\n那是第一个暑假，当所有人都还在的时候，他硬是上了整整一个月的课。当时学校里的课程还差很多，他就极快的将重要内容再上一遍。学竞赛要用到高等数学，他就自己硬生生的把半本高数教完。每天早上八点不到，他们刚在教室里落座不久，他便顶着一头乱糟糟的头发进来，嘴里啃着一个菜包，手上还拿着一个。课上了一个半小时，他便会“讲不动了”，开始让学生们写题，然后开始坐下来啃另外一个菜包。每天如此，一瓶牛奶，两个菜包，雷打不动。这俨然已经和微微驮着的背、街边甩卖的短袖，一起成为他的标签。</p>\r\n<p>​\r\n那个暑假走个最多的人，因为那实在是压力不小。着实，他的学生并不是一群令他期待已久的天才，而只是一些不成器的小孩。或者说，他们也并不是很服他，这也是氛围所致。</p>\r\n<p>​\r\n那是极其有规律的一段时间。每周的两节社团课，都被占去；周六下午，周日晚上，也是如此，每周五六个小时，都在305实验室里度过。常常，他们望着墙壁上牛顿的画像发呆，反复翻弄着桌上的导线和学生电源。周围是老旧的、别处用旧后换下来的桌椅，拥有完整凳面的凳子屈指可数，连电风扇都只有一个是能看出来它在动的，通常不过是嘎嘎作响的噪音显示着它还在工作。</p>\r\n<p>​\r\n日日如此，周周如此，他在学生班级里的“名声”日益高涨——诸如谁在校园前的车站偶遇了他的前女友，又如他的前女友是如何拉着谁畅谈四十分钟，再比如临近校门的教学楼不时能听见疑似他前女友的尖叫。</p>\r\n<p>​\r\n时间终于是来到了第二个寒假，学生们总算写完了令人望而生畏的“黑白皮”——标志着他们终于踏上了所谓竞赛的门槛。二月，学校里空空如也，只有几个零星的身影还在。他在前面走，他的几个学生在后面，看他如何落后校长和其他学校的竞赛教练半步，不敢多说几句；看他如何间歇的略有些佝偻着背，随声应和；看他如何一边用手支开另一侧前来的前女友，一边降低自己的存在感。</p>\r\n<p>​\r\n九月上旬，终于，迎来了备战长达整整一年半的考试。他有些兴奋，尽管不是亲自上阵，同时也带有些紧张。那并不具有多少口才的嘴中并不能蹦出几个有力的加油字眼。不一会儿，他又遇到了某某中学的竞赛教练，三步并作两步地上前去攀谈了起来。三个小时的漫长考试，仅仅是在一眨眼间就结束了，他看到高三的学长学姐喜笑颜开，看到高二的学生愁眉苦脸，唉声叹气。这种场景，那年如此，之前如此，之后如此。</p>\r\n<p>​\r\n半个月后的一天，他极其高兴的欢呼了起来，因为他的一个学生过了初赛。这或许是他任教七年来第一个考过了初赛的学生——至少传闻是如此。在那以后半个多月的故事倒是和他没了什么关系。不久后得知多少年来终于有人能在复赛中得奖，大抵是首次了。</p>\r\n<p>​\r\n然而所有的学生们都不太愿意学下去了，因为马上就会到高三了，他们需要时间留给“正课”。人一个个的走掉，他挣扎着，劝说着，但他的学生还是退出了。那一段时间，他的心或许是最痛的，不仅仅是两年心血灌注出的努力近乎付诸东流，更是刚有希望点燃了火柴，就被熄灭在黑暗里。</p>\r\n<p>​\r\n后来，他们很少再联系，他曾经的学生们搬去了独栋的高三楼。于是，之后发生的故事，都变成了写在后来的事。</p>\r\n<p>​\r\n后来，当他的学生在路上偶尔碰到他，在校门口简易的面店中看见他，有时在远处就远远的走开，亦或是尴尬的面无表情的路过。那原本就是亚健康的身体，现在已经凸起了一个不大不小的啤酒肚，搭配着一年四季相似的衣服，在寒风的吹拂下格外的明显。</p>\r\n<p>​\r\n后来，学校开设了数学竞赛，有着学校的支持，更多更好的学生都去了那里，他的学生听许多人说，再去物理竞赛的，都是所谓“挑剩下的学生”。</p>\r\n<p>​\r\n后来，连最后倔强的305实验室都换了模样，焕然一新，再也没有以往的一丝破旧之感可循。与此同时，它也失去了桌板上刻着的大字，失去了原本艰苦奋斗的回忆，失去了顶着40度高温上课的苦难，失去了一切它原本具有的样子，拥有了一切它理应具有的东西。</p>\r\n<p>​\r\n后来，当我时隔数月再度打开手机qq，却发现原本那个半年没有动静，本来消息就寥寥无几的竞赛群聊，仍然静悄悄的被置顶在最上面。我叹了口气，手指在屏幕上轻轻滑动了几下，随着它置顶标识的消失，我再也找不到它了。</p>\r\n<h2 id=\"后记\">后记</h2>\r\n<p>​\r\n很久很久以后，突然有人在群里@我，说：“快看，陈理结婚了。”我打开朋友圈，一股浓浓的乡村抖音中年大叔气息涌到我的脸上来。他不再像是青年人了，坐在汽车的座椅上也不能看清是否还有啤酒肚，好在破旧的短袖和衬衫是换掉了，变得人模人样。</p>\r\n<p>​\r\n我精神有些恍惚，思绪又回到了那天，他的前女友拉着我在校门口聊了半个小时的那个下午。</p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"正文\">正文</h2>\r\n<p>​\r\n在不是很久以前，有一个青年，坐不改姓，行不更名，最普通的姓，单名一个“理”。一个不算外地也不算本地的青年，来到这座滨海小城当老师。人如其名，正教高中物理。总之，他有了他的第一批学生。</p>\r\n<p>​\r\n可是这样一个大学刚毕业的青年，总有一些理想和热情，从他的心里喷出来，怀揣着满腔的热血，秉承着理工生挑战难题的痴迷和执着的学院风，不愿只是困囿于日常带着镣铐跳舞的课堂教学：按部就班、平稳渐进，但缺少烧脑的挑战和思维的激情。于是，他想走另外一条，名叫竞赛的路。</p>\r\n<p>​\r\n可这又是如此的困难，这是座普普通通小镇的普普通通的学校。他看着底下的学生，他们是百里挑一的天才；但所有人也都知道，想要踏入竞赛的大门，谁又不是光芒瞩目、举国无双？消息闭塞，不受待见，唯有后来转来的同为物理教师的校长肯给予他一些帮助。几年过去了，他还是他。</p>\r\n<p>​\r\n直到有一天，他收到了这样一群人，桀骜不驯，顽固不羁，也有一些青黄不接。不知为何，几年下来空白的成就墙和挫败感并没有消磨完他的锐气。学生的班主任同样也是一个物理老师，年级并不比他大多少，却早已结婚生子，过着平淡而极其有规律的生活。听到他要来招人的消息，她略有些意外，抿了抿嘴，并不鼓励也没打压的轻描淡写的向她的学生描述了这个事实。几个消息灵通的人悄悄对其他人说了些什么，然后摇了摇头。只害他多来了好几次，才有了足数的学生。</p>\r\n<p>​\r\n他和他的学生度过了数百日夜，两载寒暑，班上的人越来越少，从最初的二三十个，剩下了最后的七个。</p>\r\n<p>​\r\n那是第一个暑假，当所有人都还在的时候，他硬是上了整整一个月的课。当时学校里的课程还差很多，他就极快的将重要内容再上一遍。学竞赛要用到高等数学，他就自己硬生生的把半本高数教完。每天早上八点不到，他们刚在教室里落座不久，他便顶着一头乱糟糟的头发进来，嘴里啃着一个菜包，手上还拿着一个。课上了一个半小时，他便会“讲不动了”，开始让学生们写题，然后开始坐下来啃另外一个菜包。每天如此，一瓶牛奶，两个菜包，雷打不动。这俨然已经和微微驮着的背、街边甩卖的短袖，一起成为他的标签。</p>\r\n<p>​\r\n那个暑假走个最多的人，因为那实在是压力不小。着实，他的学生并不是一群令他期待已久的天才，而只是一些不成器的小孩。或者说，他们也并不是很服他，这也是氛围所致。</p>\r\n<p>​\r\n那是极其有规律的一段时间。每周的两节社团课，都被占去；周六下午，周日晚上，也是如此，每周五六个小时，都在305实验室里度过。常常，他们望着墙壁上牛顿的画像发呆，反复翻弄着桌上的导线和学生电源。周围是老旧的、别处用旧后换下来的桌椅，拥有完整凳面的凳子屈指可数，连电风扇都只有一个是能看出来它在动的，通常不过是嘎嘎作响的噪音显示着它还在工作。</p>\r\n<p>​\r\n日日如此，周周如此，他在学生班级里的“名声”日益高涨——诸如谁在校园前的车站偶遇了他的前女友，又如他的前女友是如何拉着谁畅谈四十分钟，再比如临近校门的教学楼不时能听见疑似他前女友的尖叫。</p>\r\n<p>​\r\n时间终于是来到了第二个寒假，学生们总算写完了令人望而生畏的“黑白皮”——标志着他们终于踏上了所谓竞赛的门槛。二月，学校里空空如也，只有几个零星的身影还在。他在前面走，他的几个学生在后面，看他如何落后校长和其他学校的竞赛教练半步，不敢多说几句；看他如何间歇的略有些佝偻着背，随声应和；看他如何一边用手支开另一侧前来的前女友，一边降低自己的存在感。</p>\r\n<p>​\r\n九月上旬，终于，迎来了备战长达整整一年半的考试。他有些兴奋，尽管不是亲自上阵，同时也带有些紧张。那并不具有多少口才的嘴中并不能蹦出几个有力的加油字眼。不一会儿，他又遇到了某某中学的竞赛教练，三步并作两步地上前去攀谈了起来。三个小时的漫长考试，仅仅是在一眨眼间就结束了，他看到高三的学长学姐喜笑颜开，看到高二的学生愁眉苦脸，唉声叹气。这种场景，那年如此，之前如此，之后如此。</p>\r\n<p>​\r\n半个月后的一天，他极其高兴的欢呼了起来，因为他的一个学生过了初赛。这或许是他任教七年来第一个考过了初赛的学生——至少传闻是如此。在那以后半个多月的故事倒是和他没了什么关系。不久后得知多少年来终于有人能在复赛中得奖，大抵是首次了。</p>\r\n<p>​\r\n然而所有的学生们都不太愿意学下去了，因为马上就会到高三了，他们需要时间留给“正课”。人一个个的走掉，他挣扎着，劝说着，但他的学生还是退出了。那一段时间，他的心或许是最痛的，不仅仅是两年心血灌注出的努力近乎付诸东流，更是刚有希望点燃了火柴，就被熄灭在黑暗里。</p>\r\n<p>​\r\n后来，他们很少再联系，他曾经的学生们搬去了独栋的高三楼。于是，之后发生的故事，都变成了写在后来的事。</p>\r\n<p>​\r\n后来，当他的学生在路上偶尔碰到他，在校门口简易的面店中看见他，有时在远处就远远的走开，亦或是尴尬的面无表情的路过。那原本就是亚健康的身体，现在已经凸起了一个不大不小的啤酒肚，搭配着一年四季相似的衣服，在寒风的吹拂下格外的明显。</p>\r\n<p>​\r\n后来，学校开设了数学竞赛，有着学校的支持，更多更好的学生都去了那里，他的学生听许多人说，再去物理竞赛的，都是所谓“挑剩下的学生”。</p>\r\n<p>​\r\n后来，连最后倔强的305实验室都换了模样，焕然一新，再也没有以往的一丝破旧之感可循。与此同时，它也失去了桌板上刻着的大字，失去了原本艰苦奋斗的回忆，失去了顶着40度高温上课的苦难，失去了一切它原本具有的样子，拥有了一切它理应具有的东西。</p>\r\n<p>​\r\n后来，当我时隔数月再度打开手机qq，却发现原本那个半年没有动静，本来消息就寥寥无几的竞赛群聊，仍然静悄悄的被置顶在最上面。我叹了口气，手指在屏幕上轻轻滑动了几下，随着它置顶标识的消失，我再也找不到它了。</p>\r\n<h2 id=\"后记\">后记</h2>\r\n<p>​\r\n很久很久以后，突然有人在群里@我，说：“快看，陈理结婚了。”我打开朋友圈，一股浓浓的乡村抖音中年大叔气息涌到我的脸上来。他不再像是青年人了，坐在汽车的座椅上也不能看清是否还有啤酒肚，好在破旧的短袖和衬衫是换掉了，变得人模人样。</p>\r\n<p>​\r\n我精神有些恍惚，思绪又回到了那天，他的前女友拉着我在校门口聊了半个小时的那个下午。</p>\r\n"},{"title":"电机学笔记（总）","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://ts1.cn.mm.bing.net/th/id/R-C.16fe31a47b243570e4dd3827126484d1?rik=UFWxEkIzc9ykxg&riu=http%3a%2f%2fpic17_1.qiyeku.com%2fqiyeku_pic%2f2017%2f4%2f6%2fzshengde%2fproduct%2fproduct_pic%2fimage%2f2017_04_20%2f20170420043607149.jpg&ehk=%2f2rk02JiJlpv3%2b5dg4gElfbaKqO209Pu6gaaAp3wN5s%3d&risl=&pid=ImgRaw&r=0","description":"电机学（scw老师班）笔记","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n\n\n## 导论与数理基础\n\n|      | 势能                      | 场强      | 流         | 介质          | 阻                   | 欧姆定律            |\n| ---- | ------------------------- | --------- | ---------- | ------------- | -------------------- | ------------------- |\n| 电   | 电动势$U=\\oint E\\text dl$ | 电场强度E | 电流I      | $\\varepsilon$ | $R=\\frac{\\rho l}A$   | $i=\\frac u R$       |\n| 磁   | 磁动势$F=\\oint H\\text dl$ | 磁场强度H | 磁通$\\phi$ | $\\frac1{\\mu}$ | $R_m=\\frac l{\\mu A}$ | $\\phi=\\frac F{R_m}$ |\n\n### 重要定律\n\n1. 全电流定律\n   $$\n   \\oint H\\text dl=\\Sigma i=Ni\n   $$\n   \n2. 基尔霍夫定律\n   $$\n   \\begin{gather*}\n   对任意节点（封闭曲面），流之和为0：&\\Sigma\\phi=0\\\\对任意回路，势之和为0：&\\Sigma F=\\Sigma Ni=\\Sigma Hl=\\Sigma \\phi R_m\n   \\end{gather*}\n   $$\n\n3. 电磁感应定律\n   $$\n   e=-\\frac{\\partial\\Psi}{\\partial t}=-N\\frac{\\text d\\phi}{\\text dt}\n   $$\n\n## 直流电机\n\n### 基本结构\n\n$$\n\\begin{gather*}\n\\begin{cases}\n静止部分：定子\n\\begin{cases}\n机座：支撑、构成磁极间的磁通回路\\\\\n主磁极：产生气隙磁场\n\\begin{cases}\n励磁绕组：用于产生磁场（空载气隙磁场） \\\\\n主磁极铁芯\n\\end{cases}\n\\\\电刷装置：将电枢绕组和外电路联通\\\\\n换向极：改善两换向器间Gap性能\n\\end{cases}\n\\\\\n\\\\\n动子（电枢）\n\\begin{cases}\n电枢铁芯：用来放电枢绕组，由硅钢片叠成\\\\\n电枢绕组：机电能量转换，绕成定性线圈嵌在电枢铁芯内\\\\换向器\n\\end{cases}\n\\end{cases}\n\\end{gather*}\n$$\n\n注：**电枢**和**励磁**究竟谁是定子谁是转子，依据不同的情况来看。直流电机中以上述为主，同步电机中则相反（即电枢变成了定子）。\n\n### 额定值\n\n* 额定功率$P_N$\n  1. 发电机输出电功率：$P=EI=2Blv\\cdot I=2BIlv$\n  2. 电动机输出机械功率：$P=T\\cdot\\Omega=2F\\cdot\\frac D2\\cdot\\frac{2\\pi n}{60}=2BIlv$\n\n### 电枢绕组\n\n​\t\t每一匝绕组元件$i$始于一个换向片$i$，然后其上元件边通过槽$i$，下元件边通过槽$j$，最终另一个端口终于另一个换向片$k$。一个换向片连着两个绕组元件，一个始，一个终。可以看到，一个绕组元件我们用了三个量来表示，因此一个绕组元件的三个特征值就是$i,j,k$。\n\n​\t\t对于叠绕组，一定有$k=i+1$，波绕组则是$k>j>i$。在绕组连接表中，一根实线+一根虚线代表了一个绕组元件，其三个端点正好对应着上文的三个值：$起始片\\&上元件边i,下元件边j,终止片k$。\n$$\n元件数S=虚槽数Z_u=换向片数K\n$$\n\n* Def：主磁极极对数：P（P对，2P个）\n* 在这里，“槽数”变相的成为了一种单位。\n\n| 参数                                           | 叠绕组                             | 波绕组                             |\n| ---------------------------------------------- | ---------------------------------- | ---------------------------------- |\n| 极距$\\tau$：一个主磁极跨度所占据的槽数         | $\\tau=\\frac{Z_u}{2P} =\\frac K{2P}$ | $\\tau=\\frac{Z_u}{2P} =\\frac K{2P}$ |\n| 换向器节距$y_k$=合成节距$y=y_1+y_2$            | $y=\\pm1$                           | $y=\\frac{K-1}P$                    |\n| 第一节距$y_1$：同一线圈上下元件边跨过槽数      | $y_1=\\lfloor\\tau\\rfloor$           | $y_1=\\lfloor\\tau\\rfloor$           |\n| 第二节距$y_2$：上一线圈下层边 - 下一线圈上层边 | $y_2=y-y_1$                        | $y_2=y-y_1$                        |\n| 电刷数（相当于截断）                           | 2P                                 | 理论2，实际2P                      |\n| 并联支路数                                     | 2P个，P对<br />每一级构成一条支路  | 2个<br />同一极性(N/S)一条支路     |\n\n* **两者唯一有区别的就是合成节距的算法**，其他的都一样。\n\n### 直流电机磁场\n\n#### 励磁磁场\n\n励磁方式：\n\n1. 他励：励磁绕组和电枢绕组用不同的独立电源供电\n2. 并励：励磁绕组和电枢绕组并联供电\n3. 串励：励磁绕组和电枢绕组串联供电\n4. 复励：有两个励磁绕组，并+串；积复励/差复励\n\n#### 空载磁场（气隙磁场）：用下标$f$表示\n\n**（一）磁通与磁动势**\n\n定义：电枢里面没有电流，只有励磁里面加上了一点电流。\n\n磁通主回路：主磁极 - 气隙 - 电枢铁芯 - 气隙 - 另一个主磁极 - 定子 - 原主磁极\n\n因此有总磁动势$F_0=\\oint H\\text dl=2I_fN_f$，若忽略漏磁通，则$F_0=2F_f\\,\\,;\\,\\,F_f=I_fN_f$\n\n**（二）磁化曲线**\n\n![](\\image\\电机学02.png)\n\n​\t左图所示是主磁场磁通密度分布，边缘处由于气隙的存在，B显著减小。\n\n​\t把$F,\\phi$和$E,i$对应起来就很好理解右边的图了，一开始磁通都很大很密，给了多大磁动势就能产生多大的磁通。之后由于气隙的存在，“阻力”变大，就非线性了。注意饱和系数的定义，是大于1的数。\n\n​\t或者这样想，$\\phi=BS=Blx$，也就是说磁通是对磁通密度B的积分，在边缘处由于B急剧减小，因此$\\phi$也很只能缓慢的增大。而F与i相关，i均匀分布，因此F线性增大。\n\n#### 电枢磁场：用下标$a$表示\n\n**（一）电刷放置在几何中心线上**\n\n目的：正负电刷之间得到最大电压\n\n在几何中心线上，电刷的位置，磁动势恰好为0，两侧电流流向相反，磁动势极性相反。\n\n![](\\image\\电机学01.png)\n\n因此：$F_a(x)=\\Sigma i=\\frac{Ni}{\\pi D_a}\\cdot x=Ax\\,\\,(x<\\frac{\\tau}2)\\,\\,;\\,\\,A\\triangleq \\frac{Ni}{\\pi D_a}\\,$，（以电刷作为原点）\n\n其中：A的定义是单位长度的电流量，也就是电流线密度。F更严谨的推导应该是全电流定律，画一个闭合曲线，由于铁芯内几乎不产生磁压降（也就是铁芯的H远小于空气中的H），一个闭合回路经过两段气隙所以有：$\\Sigma Hl\\approx \\frac{Ni}{\\pi D_a}\\cdot 2x\\approx 2F_a$，F~a~为**气隙内的磁动势**。\n\n而B不完全这样变化，$B_a(x)=\\mu_0H_a(x)=\\mu_0\\frac{F_a(x)}{\\delta'}$，或者$B=\\frac1{\\mu_0}\\frac{\\Delta\\phi}{\\Delta A}=\\frac{F_a/R_m}{\\Delta A}=\\frac{F_a}{\\Delta A\\cdot\\frac1{\\mu_0}\\frac{\\delta'}{\\Delta A}}=\\mu_0\\frac{F_a(x)}{\\delta'}$，其中$\\delta'$就是气隙的长度。一开始气隙大小不变，因此B线性增加，然后因为气隙急剧增大的缘故B急剧减小，变成马鞍形。\n\n![](\\image\\电机学04.png)\n\n上图就是解释磁动势和磁通密度为什么是静止的，随着电枢的不断旋转，虽然每个绕组元件的电流都不断改变，但是宏观上转前转后是一样的。\n\n**（二）电刷不在几何中心线上**\n\n在实际中，由于误差导致电刷偏离了中心线一个小角度$\\beta$，即长度$b_{\\beta}=\\frac D2\\beta$。\n\n#### 带载磁场（电枢反应）\n\n带载磁场 = 空载磁场 + 电枢磁场\n\n![](\\image\\电机学03.png)\n\n![](\\image\\电机学05.png)\n\n​\t负载运行时，合成磁场由励磁磁动势和电枢磁动势共同产生，即求和。上文讲过，空载气隙磁场是一个两端很小，中间基本平顶的图形；而电枢磁场是一个马鞍形的磁场，那么就把这种对气隙磁场的畸变作用，成为电枢反应。其作用有三：\n\n1. 电枢磁场会使气隙磁场畸变，每个主极下的磁场，一半去磁，一半增磁。\n   1. 发电机：前极尖去磁，后极尖增磁\n   2. 电动机：反之\n2. 磁密零点发生偏移（物理中心线偏移）\n   1. 发电机：物理中性线顺电枢旋转方向前移$\\alpha$\n   2. 电动机：反之\n3. 每极气隙总磁通不变\n\n* 如果饱和了再发生电枢反应，去磁照样去，但是增磁增不上去了（吃撑了再吃就吃不下了），所以总体产生了去磁效应。\n\n### 电枢绕组的感应电动势&电磁转矩\n\n$$\n\\begin{gather*}\nE_a=\\frac{NP}{60a}\\cdot\\phi \\cdot n\\\\T=\\frac{NP}{2\\pi a}\\cdot\\phi\\cdot I_a\n\\end{gather*}\n$$\n\n### 直流发电机\n\n感觉挺简单的，就是说比较好理解\n\n![](\\image\\电机学06.png)\n$$\n\\begin{gather*}\nE_a=U+I_aR_a+2\\Delta U_b\\\\\nU=I_f(R_f+R_j)\\\\\nP_{em}=E_aI=P_2+p_{cu}\\,;\\,(p_{cu}=I_a^2R_a+2\\Delta U_bI_a)\n\\end{gather*}\n$$\n随着电流提高产生去磁效应，用$I_{faq}$来等效产生的去磁效应。意思就是，对于外电路，看起来有$I_f$的电流（比如$\\frac{U}{R_f+R_j}$和$I_{fN}$），但是对电枢的空载特性而言，只有$I_{f0}=I_f-I_{faq}$的电流产生电枢电动势，也就是查表用的/查到的都是$I_{f0}$\n","source":"_posts/电机学.md","raw":"---\ntitle: 电机学笔记（总）\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://ts1.cn.mm.bing.net/th/id/R-C.16fe31a47b243570e4dd3827126484d1?rik=UFWxEkIzc9ykxg&riu=http%3a%2f%2fpic17_1.qiyeku.com%2fqiyeku_pic%2f2017%2f4%2f6%2fzshengde%2fproduct%2fproduct_pic%2fimage%2f2017_04_20%2f20170420043607149.jpg&ehk=%2f2rk02JiJlpv3%2b5dg4gElfbaKqO209Pu6gaaAp3wN5s%3d&risl=&pid=ImgRaw&r=0\ndescription: 电机学（scw老师班）笔记\ntags: \n  - 电气\n  - 笔记\n  - 大三\n  - 电机学\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n\n\n## 导论与数理基础\n\n|      | 势能                      | 场强      | 流         | 介质          | 阻                   | 欧姆定律            |\n| ---- | ------------------------- | --------- | ---------- | ------------- | -------------------- | ------------------- |\n| 电   | 电动势$U=\\oint E\\text dl$ | 电场强度E | 电流I      | $\\varepsilon$ | $R=\\frac{\\rho l}A$   | $i=\\frac u R$       |\n| 磁   | 磁动势$F=\\oint H\\text dl$ | 磁场强度H | 磁通$\\phi$ | $\\frac1{\\mu}$ | $R_m=\\frac l{\\mu A}$ | $\\phi=\\frac F{R_m}$ |\n\n### 重要定律\n\n1. 全电流定律\n   $$\n   \\oint H\\text dl=\\Sigma i=Ni\n   $$\n   \n2. 基尔霍夫定律\n   $$\n   \\begin{gather*}\n   对任意节点（封闭曲面），流之和为0：&\\Sigma\\phi=0\\\\对任意回路，势之和为0：&\\Sigma F=\\Sigma Ni=\\Sigma Hl=\\Sigma \\phi R_m\n   \\end{gather*}\n   $$\n\n3. 电磁感应定律\n   $$\n   e=-\\frac{\\partial\\Psi}{\\partial t}=-N\\frac{\\text d\\phi}{\\text dt}\n   $$\n\n## 直流电机\n\n### 基本结构\n\n$$\n\\begin{gather*}\n\\begin{cases}\n静止部分：定子\n\\begin{cases}\n机座：支撑、构成磁极间的磁通回路\\\\\n主磁极：产生气隙磁场\n\\begin{cases}\n励磁绕组：用于产生磁场（空载气隙磁场） \\\\\n主磁极铁芯\n\\end{cases}\n\\\\电刷装置：将电枢绕组和外电路联通\\\\\n换向极：改善两换向器间Gap性能\n\\end{cases}\n\\\\\n\\\\\n动子（电枢）\n\\begin{cases}\n电枢铁芯：用来放电枢绕组，由硅钢片叠成\\\\\n电枢绕组：机电能量转换，绕成定性线圈嵌在电枢铁芯内\\\\换向器\n\\end{cases}\n\\end{cases}\n\\end{gather*}\n$$\n\n注：**电枢**和**励磁**究竟谁是定子谁是转子，依据不同的情况来看。直流电机中以上述为主，同步电机中则相反（即电枢变成了定子）。\n\n### 额定值\n\n* 额定功率$P_N$\n  1. 发电机输出电功率：$P=EI=2Blv\\cdot I=2BIlv$\n  2. 电动机输出机械功率：$P=T\\cdot\\Omega=2F\\cdot\\frac D2\\cdot\\frac{2\\pi n}{60}=2BIlv$\n\n### 电枢绕组\n\n​\t\t每一匝绕组元件$i$始于一个换向片$i$，然后其上元件边通过槽$i$，下元件边通过槽$j$，最终另一个端口终于另一个换向片$k$。一个换向片连着两个绕组元件，一个始，一个终。可以看到，一个绕组元件我们用了三个量来表示，因此一个绕组元件的三个特征值就是$i,j,k$。\n\n​\t\t对于叠绕组，一定有$k=i+1$，波绕组则是$k>j>i$。在绕组连接表中，一根实线+一根虚线代表了一个绕组元件，其三个端点正好对应着上文的三个值：$起始片\\&上元件边i,下元件边j,终止片k$。\n$$\n元件数S=虚槽数Z_u=换向片数K\n$$\n\n* Def：主磁极极对数：P（P对，2P个）\n* 在这里，“槽数”变相的成为了一种单位。\n\n| 参数                                           | 叠绕组                             | 波绕组                             |\n| ---------------------------------------------- | ---------------------------------- | ---------------------------------- |\n| 极距$\\tau$：一个主磁极跨度所占据的槽数         | $\\tau=\\frac{Z_u}{2P} =\\frac K{2P}$ | $\\tau=\\frac{Z_u}{2P} =\\frac K{2P}$ |\n| 换向器节距$y_k$=合成节距$y=y_1+y_2$            | $y=\\pm1$                           | $y=\\frac{K-1}P$                    |\n| 第一节距$y_1$：同一线圈上下元件边跨过槽数      | $y_1=\\lfloor\\tau\\rfloor$           | $y_1=\\lfloor\\tau\\rfloor$           |\n| 第二节距$y_2$：上一线圈下层边 - 下一线圈上层边 | $y_2=y-y_1$                        | $y_2=y-y_1$                        |\n| 电刷数（相当于截断）                           | 2P                                 | 理论2，实际2P                      |\n| 并联支路数                                     | 2P个，P对<br />每一级构成一条支路  | 2个<br />同一极性(N/S)一条支路     |\n\n* **两者唯一有区别的就是合成节距的算法**，其他的都一样。\n\n### 直流电机磁场\n\n#### 励磁磁场\n\n励磁方式：\n\n1. 他励：励磁绕组和电枢绕组用不同的独立电源供电\n2. 并励：励磁绕组和电枢绕组并联供电\n3. 串励：励磁绕组和电枢绕组串联供电\n4. 复励：有两个励磁绕组，并+串；积复励/差复励\n\n#### 空载磁场（气隙磁场）：用下标$f$表示\n\n**（一）磁通与磁动势**\n\n定义：电枢里面没有电流，只有励磁里面加上了一点电流。\n\n磁通主回路：主磁极 - 气隙 - 电枢铁芯 - 气隙 - 另一个主磁极 - 定子 - 原主磁极\n\n因此有总磁动势$F_0=\\oint H\\text dl=2I_fN_f$，若忽略漏磁通，则$F_0=2F_f\\,\\,;\\,\\,F_f=I_fN_f$\n\n**（二）磁化曲线**\n\n![](\\image\\电机学02.png)\n\n​\t左图所示是主磁场磁通密度分布，边缘处由于气隙的存在，B显著减小。\n\n​\t把$F,\\phi$和$E,i$对应起来就很好理解右边的图了，一开始磁通都很大很密，给了多大磁动势就能产生多大的磁通。之后由于气隙的存在，“阻力”变大，就非线性了。注意饱和系数的定义，是大于1的数。\n\n​\t或者这样想，$\\phi=BS=Blx$，也就是说磁通是对磁通密度B的积分，在边缘处由于B急剧减小，因此$\\phi$也很只能缓慢的增大。而F与i相关，i均匀分布，因此F线性增大。\n\n#### 电枢磁场：用下标$a$表示\n\n**（一）电刷放置在几何中心线上**\n\n目的：正负电刷之间得到最大电压\n\n在几何中心线上，电刷的位置，磁动势恰好为0，两侧电流流向相反，磁动势极性相反。\n\n![](\\image\\电机学01.png)\n\n因此：$F_a(x)=\\Sigma i=\\frac{Ni}{\\pi D_a}\\cdot x=Ax\\,\\,(x<\\frac{\\tau}2)\\,\\,;\\,\\,A\\triangleq \\frac{Ni}{\\pi D_a}\\,$，（以电刷作为原点）\n\n其中：A的定义是单位长度的电流量，也就是电流线密度。F更严谨的推导应该是全电流定律，画一个闭合曲线，由于铁芯内几乎不产生磁压降（也就是铁芯的H远小于空气中的H），一个闭合回路经过两段气隙所以有：$\\Sigma Hl\\approx \\frac{Ni}{\\pi D_a}\\cdot 2x\\approx 2F_a$，F~a~为**气隙内的磁动势**。\n\n而B不完全这样变化，$B_a(x)=\\mu_0H_a(x)=\\mu_0\\frac{F_a(x)}{\\delta'}$，或者$B=\\frac1{\\mu_0}\\frac{\\Delta\\phi}{\\Delta A}=\\frac{F_a/R_m}{\\Delta A}=\\frac{F_a}{\\Delta A\\cdot\\frac1{\\mu_0}\\frac{\\delta'}{\\Delta A}}=\\mu_0\\frac{F_a(x)}{\\delta'}$，其中$\\delta'$就是气隙的长度。一开始气隙大小不变，因此B线性增加，然后因为气隙急剧增大的缘故B急剧减小，变成马鞍形。\n\n![](\\image\\电机学04.png)\n\n上图就是解释磁动势和磁通密度为什么是静止的，随着电枢的不断旋转，虽然每个绕组元件的电流都不断改变，但是宏观上转前转后是一样的。\n\n**（二）电刷不在几何中心线上**\n\n在实际中，由于误差导致电刷偏离了中心线一个小角度$\\beta$，即长度$b_{\\beta}=\\frac D2\\beta$。\n\n#### 带载磁场（电枢反应）\n\n带载磁场 = 空载磁场 + 电枢磁场\n\n![](\\image\\电机学03.png)\n\n![](\\image\\电机学05.png)\n\n​\t负载运行时，合成磁场由励磁磁动势和电枢磁动势共同产生，即求和。上文讲过，空载气隙磁场是一个两端很小，中间基本平顶的图形；而电枢磁场是一个马鞍形的磁场，那么就把这种对气隙磁场的畸变作用，成为电枢反应。其作用有三：\n\n1. 电枢磁场会使气隙磁场畸变，每个主极下的磁场，一半去磁，一半增磁。\n   1. 发电机：前极尖去磁，后极尖增磁\n   2. 电动机：反之\n2. 磁密零点发生偏移（物理中心线偏移）\n   1. 发电机：物理中性线顺电枢旋转方向前移$\\alpha$\n   2. 电动机：反之\n3. 每极气隙总磁通不变\n\n* 如果饱和了再发生电枢反应，去磁照样去，但是增磁增不上去了（吃撑了再吃就吃不下了），所以总体产生了去磁效应。\n\n### 电枢绕组的感应电动势&电磁转矩\n\n$$\n\\begin{gather*}\nE_a=\\frac{NP}{60a}\\cdot\\phi \\cdot n\\\\T=\\frac{NP}{2\\pi a}\\cdot\\phi\\cdot I_a\n\\end{gather*}\n$$\n\n### 直流发电机\n\n感觉挺简单的，就是说比较好理解\n\n![](\\image\\电机学06.png)\n$$\n\\begin{gather*}\nE_a=U+I_aR_a+2\\Delta U_b\\\\\nU=I_f(R_f+R_j)\\\\\nP_{em}=E_aI=P_2+p_{cu}\\,;\\,(p_{cu}=I_a^2R_a+2\\Delta U_bI_a)\n\\end{gather*}\n$$\n随着电流提高产生去磁效应，用$I_{faq}$来等效产生的去磁效应。意思就是，对于外电路，看起来有$I_f$的电流（比如$\\frac{U}{R_f+R_j}$和$I_{fN}$），但是对电枢的空载特性而言，只有$I_{f0}=I_f-I_{faq}$的电流产生电枢电动势，也就是查表用的/查到的都是$I_{f0}$\n","slug":"电机学","published":1,"date":"2023-10-07T08:23:35.757Z","updated":"2023-10-20T07:28:13.947Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0m00229kthg8qqce65","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2 id=\"导论与数理基础\">导论与数理基础</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 4%\" />\r\n<col style=\"width: 25%\" />\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 13%\" />\r\n<col style=\"width: 20%\" />\r\n<col style=\"width: 19%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th></th>\r\n<th>势能</th>\r\n<th>场强</th>\r\n<th>流</th>\r\n<th>介质</th>\r\n<th>阻</th>\r\n<th>欧姆定律</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电</td>\r\n<td>电动势<span class=\"math inline\">\\(U=\\oint E\\text dl\\)</span></td>\r\n<td>电场强度E</td>\r\n<td>电流I</td>\r\n<td><span class=\"math inline\">\\(\\varepsilon\\)</span></td>\r\n<td><span class=\"math inline\">\\(R=\\frac{\\rho l}A\\)</span></td>\r\n<td><span class=\"math inline\">\\(i=\\frac u R\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>磁</td>\r\n<td>磁动势<span class=\"math inline\">\\(F=\\oint H\\text dl\\)</span></td>\r\n<td>磁场强度H</td>\r\n<td>磁通<span class=\"math inline\">\\(\\phi\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac1{\\mu}\\)</span></td>\r\n<td><span class=\"math inline\">\\(R_m=\\frac l{\\mu A}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\phi=\\frac F{R_m}\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h3 id=\"重要定律\">重要定律</h3>\r\n<ol type=\"1\">\r\n<li><p>全电流定律<br />\r\n<span class=\"math display\">\\[\r\n\\oint H\\text dl=\\Sigma i=Ni\r\n\\]</span></p></li>\r\n<li><p>基尔霍夫定律<br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n对任意节点（封闭曲面），流之和为0：&amp;\\Sigma\\phi=0\\\\对任意回路，势之和为0：&amp;\\Sigma\r\nF=\\Sigma Ni=\\Sigma Hl=\\Sigma \\phi R_m\r\n\\end{gather*}\r\n\\]</span></p></li>\r\n<li><p>电磁感应定律<br />\r\n<span class=\"math display\">\\[\r\ne=-\\frac{\\partial\\Psi}{\\partial t}=-N\\frac{\\text d\\phi}{\\text dt}\r\n\\]</span></p></li>\r\n</ol>\r\n<h2 id=\"直流电机\">直流电机</h2>\r\n<h3 id=\"基本结构\">基本结构</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n\\begin{cases}\r\n静止部分：定子\r\n\\begin{cases}\r\n机座：支撑、构成磁极间的磁通回路\\\\\r\n主磁极：产生气隙磁场\r\n\\begin{cases}\r\n励磁绕组：用于产生磁场（空载气隙磁场） \\\\\r\n主磁极铁芯\r\n\\end{cases}\r\n\\\\电刷装置：将电枢绕组和外电路联通\\\\\r\n换向极：改善两换向器间Gap性能\r\n\\end{cases}\r\n\\\\\r\n\\\\\r\n动子（电枢）\r\n\\begin{cases}\r\n电枢铁芯：用来放电枢绕组，由硅钢片叠成\\\\\r\n电枢绕组：机电能量转换，绕成定性线圈嵌在电枢铁芯内\\\\换向器\r\n\\end{cases}\r\n\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>注：<strong>电枢</strong>和<strong>励磁</strong>究竟谁是定子谁是转子，依据不同的情况来看。直流电机中以上述为主，同步电机中则相反（即电枢变成了定子）。</p>\r\n<h3 id=\"额定值\">额定值</h3>\r\n<ul>\r\n<li>额定功率<span class=\"math inline\">\\(P_N\\)</span>\r\n<ol type=\"1\">\r\n<li>发电机输出电功率：<span class=\"math inline\">\\(P=EI=2Blv\\cdot\r\nI=2BIlv\\)</span></li>\r\n<li>电动机输出机械功率：<span\r\nclass=\"math inline\">\\(P=T\\cdot\\Omega=2F\\cdot\\frac D2\\cdot\\frac{2\\pi\r\nn}{60}=2BIlv\\)</span></li>\r\n</ol></li>\r\n</ul>\r\n<h3 id=\"电枢绕组\">电枢绕组</h3>\r\n<p>​ 每一匝绕组元件<span\r\nclass=\"math inline\">\\(i\\)</span>始于一个换向片<span\r\nclass=\"math inline\">\\(i\\)</span>，然后其上元件边通过槽<span\r\nclass=\"math inline\">\\(i\\)</span>，下元件边通过槽<span\r\nclass=\"math inline\">\\(j\\)</span>，最终另一个端口终于另一个换向片<span\r\nclass=\"math inline\">\\(k\\)</span>。一个换向片连着两个绕组元件，一个始，一个终。可以看到，一个绕组元件我们用了三个量来表示，因此一个绕组元件的三个特征值就是<span\r\nclass=\"math inline\">\\(i,j,k\\)</span>。</p>\r\n<p>​ 对于叠绕组，一定有<span\r\nclass=\"math inline\">\\(k=i+1\\)</span>，波绕组则是<span\r\nclass=\"math inline\">\\(k&gt;j&gt;i\\)</span>。在绕组连接表中，一根实线+一根虚线代表了一个绕组元件，其三个端点正好对应着上文的三个值：<span\r\nclass=\"math inline\">\\(起始片\\&amp;上元件边i,下元件边j,终止片k\\)</span>。<br />\r\n<span class=\"math display\">\\[\r\n元件数S=虚槽数Z_u=换向片数K\r\n\\]</span></p>\r\n<ul>\r\n<li>Def：主磁极极对数：P（P对，2P个）</li>\r\n<li>在这里，“槽数”变相的成为了一种单位。</li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 40%\" />\r\n<col style=\"width: 29%\" />\r\n<col style=\"width: 29%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>参数</th>\r\n<th>叠绕组</th>\r\n<th>波绕组</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>极距<span\r\nclass=\"math inline\">\\(\\tau\\)</span>：一个主磁极跨度所占据的槽数</td>\r\n<td><span class=\"math inline\">\\(\\tau=\\frac{Z_u}{2P} =\\frac\r\nK{2P}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\tau=\\frac{Z_u}{2P} =\\frac\r\nK{2P}\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>换向器节距<span class=\"math inline\">\\(y_k\\)</span>=合成节距<span\r\nclass=\"math inline\">\\(y=y_1+y_2\\)</span></td>\r\n<td><span class=\"math inline\">\\(y=\\pm1\\)</span></td>\r\n<td><span class=\"math inline\">\\(y=\\frac{K-1}P\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>第一节距<span\r\nclass=\"math inline\">\\(y_1\\)</span>：同一线圈上下元件边跨过槽数</td>\r\n<td><span class=\"math inline\">\\(y_1=\\lfloor\\tau\\rfloor\\)</span></td>\r\n<td><span class=\"math inline\">\\(y_1=\\lfloor\\tau\\rfloor\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>第二节距<span class=\"math inline\">\\(y_2\\)</span>：上一线圈下层边 -\r\n下一线圈上层边</td>\r\n<td><span class=\"math inline\">\\(y_2=y-y_1\\)</span></td>\r\n<td><span class=\"math inline\">\\(y_2=y-y_1\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>电刷数（相当于截断）</td>\r\n<td>2P</td>\r\n<td>理论2，实际2P</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>并联支路数</td>\r\n<td>2P个，P对<br />每一级构成一条支路</td>\r\n<td>2个<br />同一极性(N/S)一条支路</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li><strong>两者唯一有区别的就是合成节距的算法</strong>，其他的都一样。</li>\r\n</ul>\r\n<h3 id=\"直流电机磁场\">直流电机磁场</h3>\r\n<h4 id=\"励磁磁场\">励磁磁场</h4>\r\n<p>励磁方式：</p>\r\n<ol type=\"1\">\r\n<li>他励：励磁绕组和电枢绕组用不同的独立电源供电</li>\r\n<li>并励：励磁绕组和电枢绕组并联供电</li>\r\n<li>串励：励磁绕组和电枢绕组串联供电</li>\r\n<li>复励：有两个励磁绕组，并+串；积复励/差复励</li>\r\n</ol>\r\n<h4 id=\"空载磁场气隙磁场用下标f表示\">空载磁场（气隙磁场）：用下标<span\r\nclass=\"math inline\">\\(f\\)</span>表示</h4>\r\n<p><strong>（一）磁通与磁动势</strong></p>\r\n<p>定义：电枢里面没有电流，只有励磁里面加上了一点电流。</p>\r\n<p>磁通主回路：主磁极 - 气隙 - 电枢铁芯 - 气隙 - 另一个主磁极 - 定子 -\r\n原主磁极</p>\r\n<p>因此有总磁动势<span class=\"math inline\">\\(F_0=\\oint H\\text\r\ndl=2I_fN_f\\)</span>，若忽略漏磁通，则<span\r\nclass=\"math inline\">\\(F_0=2F_f\\,\\,;\\,\\,F_f=I_fN_f\\)</span></p>\r\n<p><strong>（二）磁化曲线</strong></p>\r\n<p><img src=\"\\image\\电机学02.png\" /></p>\r\n<p>​ 左图所示是主磁场磁通密度分布，边缘处由于气隙的存在，B显著减小。</p>\r\n<p>​ 把<span class=\"math inline\">\\(F,\\phi\\)</span>和<span\r\nclass=\"math inline\">\\(E,i\\)</span>对应起来就很好理解右边的图了，一开始磁通都很大很密，给了多大磁动势就能产生多大的磁通。之后由于气隙的存在，“阻力”变大，就非线性了。注意饱和系数的定义，是大于1的数。</p>\r\n<p>​ 或者这样想，<span\r\nclass=\"math inline\">\\(\\phi=BS=Blx\\)</span>，也就是说磁通是对磁通密度B的积分，在边缘处由于B急剧减小，因此<span\r\nclass=\"math inline\">\\(\\phi\\)</span>也很只能缓慢的增大。而F与i相关，i均匀分布，因此F线性增大。</p>\r\n<h4 id=\"电枢磁场用下标a表示\">电枢磁场：用下标<span\r\nclass=\"math inline\">\\(a\\)</span>表示</h4>\r\n<p><strong>（一）电刷放置在几何中心线上</strong></p>\r\n<p>目的：正负电刷之间得到最大电压</p>\r\n<p>在几何中心线上，电刷的位置，磁动势恰好为0，两侧电流流向相反，磁动势极性相反。</p>\r\n<p><img src=\"\\image\\电机学01.png\" /></p>\r\n<p>因此：<span class=\"math inline\">\\(F_a(x)=\\Sigma i=\\frac{Ni}{\\pi\r\nD_a}\\cdot x=Ax\\,\\,(x&lt;\\frac{\\tau}2)\\,\\,;\\,\\,A\\triangleq \\frac{Ni}{\\pi\r\nD_a}\\,\\)</span>，（以电刷作为原点）</p>\r\n<p>其中：A的定义是单位长度的电流量，也就是电流线密度。F更严谨的推导应该是全电流定律，画一个闭合曲线，由于铁芯内几乎不产生磁压降（也就是铁芯的H远小于空气中的H），一个闭合回路经过两段气隙所以有：<span\r\nclass=\"math inline\">\\(\\Sigma Hl\\approx \\frac{Ni}{\\pi D_a}\\cdot 2x\\approx\r\n2F_a\\)</span>，F<sub>a</sub>为<strong>气隙内的磁动势</strong>。</p>\r\n<p>而B不完全这样变化，<span\r\nclass=\"math inline\">\\(B_a(x)=\\mu_0H_a(x)=\\mu_0\\frac{F_a(x)}{\\delta&#39;}\\)</span>，或者<span\r\nclass=\"math inline\">\\(B=\\frac1{\\mu_0}\\frac{\\Delta\\phi}{\\Delta\r\nA}=\\frac{F_a/R_m}{\\Delta A}=\\frac{F_a}{\\Delta\r\nA\\cdot\\frac1{\\mu_0}\\frac{\\delta&#39;}{\\Delta\r\nA}}=\\mu_0\\frac{F_a(x)}{\\delta&#39;}\\)</span>，其中<span\r\nclass=\"math inline\">\\(\\delta&#39;\\)</span>就是气隙的长度。一开始气隙大小不变，因此B线性增加，然后因为气隙急剧增大的缘故B急剧减小，变成马鞍形。</p>\r\n<p><img src=\"\\image\\电机学04.png\" /></p>\r\n<p>上图就是解释磁动势和磁通密度为什么是静止的，随着电枢的不断旋转，虽然每个绕组元件的电流都不断改变，但是宏观上转前转后是一样的。</p>\r\n<p><strong>（二）电刷不在几何中心线上</strong></p>\r\n<p>在实际中，由于误差导致电刷偏离了中心线一个小角度<span\r\nclass=\"math inline\">\\(\\beta\\)</span>，即长度<span\r\nclass=\"math inline\">\\(b_{\\beta}=\\frac D2\\beta\\)</span>。</p>\r\n<h4 id=\"带载磁场电枢反应\">带载磁场（电枢反应）</h4>\r\n<p>带载磁场 = 空载磁场 + 电枢磁场</p>\r\n<p><img src=\"\\image\\电机学03.png\" /></p>\r\n<p><img src=\"\\image\\电机学05.png\" /></p>\r\n<p>​\r\n负载运行时，合成磁场由励磁磁动势和电枢磁动势共同产生，即求和。上文讲过，空载气隙磁场是一个两端很小，中间基本平顶的图形；而电枢磁场是一个马鞍形的磁场，那么就把这种对气隙磁场的畸变作用，成为电枢反应。其作用有三：</p>\r\n<ol type=\"1\">\r\n<li>电枢磁场会使气隙磁场畸变，每个主极下的磁场，一半去磁，一半增磁。\r\n<ol type=\"1\">\r\n<li>发电机：前极尖去磁，后极尖增磁</li>\r\n<li>电动机：反之</li>\r\n</ol></li>\r\n<li>磁密零点发生偏移（物理中心线偏移）\r\n<ol type=\"1\">\r\n<li>发电机：物理中性线顺电枢旋转方向前移<span\r\nclass=\"math inline\">\\(\\alpha\\)</span></li>\r\n<li>电动机：反之</li>\r\n</ol></li>\r\n<li>每极气隙总磁通不变</li>\r\n</ol>\r\n<ul>\r\n<li>如果饱和了再发生电枢反应，去磁照样去，但是增磁增不上去了（吃撑了再吃就吃不下了），所以总体产生了去磁效应。</li>\r\n</ul>\r\n<h3\r\nid=\"电枢绕组的感应电动势电磁转矩\">电枢绕组的感应电动势&amp;电磁转矩</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\nE_a=\\frac{NP}{60a}\\cdot\\phi \\cdot n\\\\T=\\frac{NP}{2\\pi a}\\cdot\\phi\\cdot\r\nI_a\r\n\\end{gather*}\r\n\\]</span></p>\r\n<h3 id=\"直流发电机\">直流发电机</h3>\r\n<p>感觉挺简单的，就是说比较好理解</p>\r\n<p><img src=\"\\image\\电机学06.png\" /><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\nE_a=U+I_aR_a+2\\Delta U_b\\\\\r\nU=I_f(R_f+R_j)\\\\\r\nP_{em}=E_aI=P_2+p_{cu}\\,;\\,(p_{cu}=I_a^2R_a+2\\Delta U_bI_a)\r\n\\end{gather*}\r\n\\]</span><br />\r\n随着电流提高产生去磁效应，用<span\r\nclass=\"math inline\">\\(I_{faq}\\)</span>来等效产生的去磁效应。意思就是，对于外电路，看起来有<span\r\nclass=\"math inline\">\\(I_f\\)</span>的电流（比如<span\r\nclass=\"math inline\">\\(\\frac{U}{R_f+R_j}\\)</span>和<span\r\nclass=\"math inline\">\\(I_{fN}\\)</span>），但是对电枢的空载特性而言，只有<span\r\nclass=\"math inline\">\\(I_{f0}=I_f-I_{faq}\\)</span>的电流产生电枢电动势，也就是查表用的/查到的都是<span\r\nclass=\"math inline\">\\(I_{f0}\\)</span></p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2 id=\"导论与数理基础\">导论与数理基础</h2>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 4%\" />\r\n<col style=\"width: 25%\" />\r\n<col style=\"width: 9%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 13%\" />\r\n<col style=\"width: 20%\" />\r\n<col style=\"width: 19%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th></th>\r\n<th>势能</th>\r\n<th>场强</th>\r\n<th>流</th>\r\n<th>介质</th>\r\n<th>阻</th>\r\n<th>欧姆定律</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电</td>\r\n<td>电动势<span class=\"math inline\">\\(U=\\oint E\\text dl\\)</span></td>\r\n<td>电场强度E</td>\r\n<td>电流I</td>\r\n<td><span class=\"math inline\">\\(\\varepsilon\\)</span></td>\r\n<td><span class=\"math inline\">\\(R=\\frac{\\rho l}A\\)</span></td>\r\n<td><span class=\"math inline\">\\(i=\\frac u R\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>磁</td>\r\n<td>磁动势<span class=\"math inline\">\\(F=\\oint H\\text dl\\)</span></td>\r\n<td>磁场强度H</td>\r\n<td>磁通<span class=\"math inline\">\\(\\phi\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac1{\\mu}\\)</span></td>\r\n<td><span class=\"math inline\">\\(R_m=\\frac l{\\mu A}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\phi=\\frac F{R_m}\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h3 id=\"重要定律\">重要定律</h3>\r\n<ol type=\"1\">\r\n<li><p>全电流定律<br />\r\n<span class=\"math display\">\\[\r\n\\oint H\\text dl=\\Sigma i=Ni\r\n\\]</span></p></li>\r\n<li><p>基尔霍夫定律<br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\n对任意节点（封闭曲面），流之和为0：&amp;\\Sigma\\phi=0\\\\对任意回路，势之和为0：&amp;\\Sigma\r\nF=\\Sigma Ni=\\Sigma Hl=\\Sigma \\phi R_m\r\n\\end{gather*}\r\n\\]</span></p></li>\r\n<li><p>电磁感应定律<br />\r\n<span class=\"math display\">\\[\r\ne=-\\frac{\\partial\\Psi}{\\partial t}=-N\\frac{\\text d\\phi}{\\text dt}\r\n\\]</span></p></li>\r\n</ol>\r\n<h2 id=\"直流电机\">直流电机</h2>\r\n<h3 id=\"基本结构\">基本结构</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n\\begin{cases}\r\n静止部分：定子\r\n\\begin{cases}\r\n机座：支撑、构成磁极间的磁通回路\\\\\r\n主磁极：产生气隙磁场\r\n\\begin{cases}\r\n励磁绕组：用于产生磁场（空载气隙磁场） \\\\\r\n主磁极铁芯\r\n\\end{cases}\r\n\\\\电刷装置：将电枢绕组和外电路联通\\\\\r\n换向极：改善两换向器间Gap性能\r\n\\end{cases}\r\n\\\\\r\n\\\\\r\n动子（电枢）\r\n\\begin{cases}\r\n电枢铁芯：用来放电枢绕组，由硅钢片叠成\\\\\r\n电枢绕组：机电能量转换，绕成定性线圈嵌在电枢铁芯内\\\\换向器\r\n\\end{cases}\r\n\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>注：<strong>电枢</strong>和<strong>励磁</strong>究竟谁是定子谁是转子，依据不同的情况来看。直流电机中以上述为主，同步电机中则相反（即电枢变成了定子）。</p>\r\n<h3 id=\"额定值\">额定值</h3>\r\n<ul>\r\n<li>额定功率<span class=\"math inline\">\\(P_N\\)</span>\r\n<ol type=\"1\">\r\n<li>发电机输出电功率：<span class=\"math inline\">\\(P=EI=2Blv\\cdot\r\nI=2BIlv\\)</span></li>\r\n<li>电动机输出机械功率：<span\r\nclass=\"math inline\">\\(P=T\\cdot\\Omega=2F\\cdot\\frac D2\\cdot\\frac{2\\pi\r\nn}{60}=2BIlv\\)</span></li>\r\n</ol></li>\r\n</ul>\r\n<h3 id=\"电枢绕组\">电枢绕组</h3>\r\n<p>​ 每一匝绕组元件<span\r\nclass=\"math inline\">\\(i\\)</span>始于一个换向片<span\r\nclass=\"math inline\">\\(i\\)</span>，然后其上元件边通过槽<span\r\nclass=\"math inline\">\\(i\\)</span>，下元件边通过槽<span\r\nclass=\"math inline\">\\(j\\)</span>，最终另一个端口终于另一个换向片<span\r\nclass=\"math inline\">\\(k\\)</span>。一个换向片连着两个绕组元件，一个始，一个终。可以看到，一个绕组元件我们用了三个量来表示，因此一个绕组元件的三个特征值就是<span\r\nclass=\"math inline\">\\(i,j,k\\)</span>。</p>\r\n<p>​ 对于叠绕组，一定有<span\r\nclass=\"math inline\">\\(k=i+1\\)</span>，波绕组则是<span\r\nclass=\"math inline\">\\(k&gt;j&gt;i\\)</span>。在绕组连接表中，一根实线+一根虚线代表了一个绕组元件，其三个端点正好对应着上文的三个值：<span\r\nclass=\"math inline\">\\(起始片\\&amp;上元件边i,下元件边j,终止片k\\)</span>。<br />\r\n<span class=\"math display\">\\[\r\n元件数S=虚槽数Z_u=换向片数K\r\n\\]</span></p>\r\n<ul>\r\n<li>Def：主磁极极对数：P（P对，2P个）</li>\r\n<li>在这里，“槽数”变相的成为了一种单位。</li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 40%\" />\r\n<col style=\"width: 29%\" />\r\n<col style=\"width: 29%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>参数</th>\r\n<th>叠绕组</th>\r\n<th>波绕组</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>极距<span\r\nclass=\"math inline\">\\(\\tau\\)</span>：一个主磁极跨度所占据的槽数</td>\r\n<td><span class=\"math inline\">\\(\\tau=\\frac{Z_u}{2P} =\\frac\r\nK{2P}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\tau=\\frac{Z_u}{2P} =\\frac\r\nK{2P}\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>换向器节距<span class=\"math inline\">\\(y_k\\)</span>=合成节距<span\r\nclass=\"math inline\">\\(y=y_1+y_2\\)</span></td>\r\n<td><span class=\"math inline\">\\(y=\\pm1\\)</span></td>\r\n<td><span class=\"math inline\">\\(y=\\frac{K-1}P\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>第一节距<span\r\nclass=\"math inline\">\\(y_1\\)</span>：同一线圈上下元件边跨过槽数</td>\r\n<td><span class=\"math inline\">\\(y_1=\\lfloor\\tau\\rfloor\\)</span></td>\r\n<td><span class=\"math inline\">\\(y_1=\\lfloor\\tau\\rfloor\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>第二节距<span class=\"math inline\">\\(y_2\\)</span>：上一线圈下层边 -\r\n下一线圈上层边</td>\r\n<td><span class=\"math inline\">\\(y_2=y-y_1\\)</span></td>\r\n<td><span class=\"math inline\">\\(y_2=y-y_1\\)</span></td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>电刷数（相当于截断）</td>\r\n<td>2P</td>\r\n<td>理论2，实际2P</td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>并联支路数</td>\r\n<td>2P个，P对<br />每一级构成一条支路</td>\r\n<td>2个<br />同一极性(N/S)一条支路</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li><strong>两者唯一有区别的就是合成节距的算法</strong>，其他的都一样。</li>\r\n</ul>\r\n<h3 id=\"直流电机磁场\">直流电机磁场</h3>\r\n<h4 id=\"励磁磁场\">励磁磁场</h4>\r\n<p>励磁方式：</p>\r\n<ol type=\"1\">\r\n<li>他励：励磁绕组和电枢绕组用不同的独立电源供电</li>\r\n<li>并励：励磁绕组和电枢绕组并联供电</li>\r\n<li>串励：励磁绕组和电枢绕组串联供电</li>\r\n<li>复励：有两个励磁绕组，并+串；积复励/差复励</li>\r\n</ol>\r\n<h4 id=\"空载磁场气隙磁场用下标f表示\">空载磁场（气隙磁场）：用下标<span\r\nclass=\"math inline\">\\(f\\)</span>表示</h4>\r\n<p><strong>（一）磁通与磁动势</strong></p>\r\n<p>定义：电枢里面没有电流，只有励磁里面加上了一点电流。</p>\r\n<p>磁通主回路：主磁极 - 气隙 - 电枢铁芯 - 气隙 - 另一个主磁极 - 定子 -\r\n原主磁极</p>\r\n<p>因此有总磁动势<span class=\"math inline\">\\(F_0=\\oint H\\text\r\ndl=2I_fN_f\\)</span>，若忽略漏磁通，则<span\r\nclass=\"math inline\">\\(F_0=2F_f\\,\\,;\\,\\,F_f=I_fN_f\\)</span></p>\r\n<p><strong>（二）磁化曲线</strong></p>\r\n<p><img src=\"\\image\\电机学02.png\" /></p>\r\n<p>​ 左图所示是主磁场磁通密度分布，边缘处由于气隙的存在，B显著减小。</p>\r\n<p>​ 把<span class=\"math inline\">\\(F,\\phi\\)</span>和<span\r\nclass=\"math inline\">\\(E,i\\)</span>对应起来就很好理解右边的图了，一开始磁通都很大很密，给了多大磁动势就能产生多大的磁通。之后由于气隙的存在，“阻力”变大，就非线性了。注意饱和系数的定义，是大于1的数。</p>\r\n<p>​ 或者这样想，<span\r\nclass=\"math inline\">\\(\\phi=BS=Blx\\)</span>，也就是说磁通是对磁通密度B的积分，在边缘处由于B急剧减小，因此<span\r\nclass=\"math inline\">\\(\\phi\\)</span>也很只能缓慢的增大。而F与i相关，i均匀分布，因此F线性增大。</p>\r\n<h4 id=\"电枢磁场用下标a表示\">电枢磁场：用下标<span\r\nclass=\"math inline\">\\(a\\)</span>表示</h4>\r\n<p><strong>（一）电刷放置在几何中心线上</strong></p>\r\n<p>目的：正负电刷之间得到最大电压</p>\r\n<p>在几何中心线上，电刷的位置，磁动势恰好为0，两侧电流流向相反，磁动势极性相反。</p>\r\n<p><img src=\"\\image\\电机学01.png\" /></p>\r\n<p>因此：<span class=\"math inline\">\\(F_a(x)=\\Sigma i=\\frac{Ni}{\\pi\r\nD_a}\\cdot x=Ax\\,\\,(x&lt;\\frac{\\tau}2)\\,\\,;\\,\\,A\\triangleq \\frac{Ni}{\\pi\r\nD_a}\\,\\)</span>，（以电刷作为原点）</p>\r\n<p>其中：A的定义是单位长度的电流量，也就是电流线密度。F更严谨的推导应该是全电流定律，画一个闭合曲线，由于铁芯内几乎不产生磁压降（也就是铁芯的H远小于空气中的H），一个闭合回路经过两段气隙所以有：<span\r\nclass=\"math inline\">\\(\\Sigma Hl\\approx \\frac{Ni}{\\pi D_a}\\cdot 2x\\approx\r\n2F_a\\)</span>，F<sub>a</sub>为<strong>气隙内的磁动势</strong>。</p>\r\n<p>而B不完全这样变化，<span\r\nclass=\"math inline\">\\(B_a(x)=\\mu_0H_a(x)=\\mu_0\\frac{F_a(x)}{\\delta&#39;}\\)</span>，或者<span\r\nclass=\"math inline\">\\(B=\\frac1{\\mu_0}\\frac{\\Delta\\phi}{\\Delta\r\nA}=\\frac{F_a/R_m}{\\Delta A}=\\frac{F_a}{\\Delta\r\nA\\cdot\\frac1{\\mu_0}\\frac{\\delta&#39;}{\\Delta\r\nA}}=\\mu_0\\frac{F_a(x)}{\\delta&#39;}\\)</span>，其中<span\r\nclass=\"math inline\">\\(\\delta&#39;\\)</span>就是气隙的长度。一开始气隙大小不变，因此B线性增加，然后因为气隙急剧增大的缘故B急剧减小，变成马鞍形。</p>\r\n<p><img src=\"\\image\\电机学04.png\" /></p>\r\n<p>上图就是解释磁动势和磁通密度为什么是静止的，随着电枢的不断旋转，虽然每个绕组元件的电流都不断改变，但是宏观上转前转后是一样的。</p>\r\n<p><strong>（二）电刷不在几何中心线上</strong></p>\r\n<p>在实际中，由于误差导致电刷偏离了中心线一个小角度<span\r\nclass=\"math inline\">\\(\\beta\\)</span>，即长度<span\r\nclass=\"math inline\">\\(b_{\\beta}=\\frac D2\\beta\\)</span>。</p>\r\n<h4 id=\"带载磁场电枢反应\">带载磁场（电枢反应）</h4>\r\n<p>带载磁场 = 空载磁场 + 电枢磁场</p>\r\n<p><img src=\"\\image\\电机学03.png\" /></p>\r\n<p><img src=\"\\image\\电机学05.png\" /></p>\r\n<p>​\r\n负载运行时，合成磁场由励磁磁动势和电枢磁动势共同产生，即求和。上文讲过，空载气隙磁场是一个两端很小，中间基本平顶的图形；而电枢磁场是一个马鞍形的磁场，那么就把这种对气隙磁场的畸变作用，成为电枢反应。其作用有三：</p>\r\n<ol type=\"1\">\r\n<li>电枢磁场会使气隙磁场畸变，每个主极下的磁场，一半去磁，一半增磁。\r\n<ol type=\"1\">\r\n<li>发电机：前极尖去磁，后极尖增磁</li>\r\n<li>电动机：反之</li>\r\n</ol></li>\r\n<li>磁密零点发生偏移（物理中心线偏移）\r\n<ol type=\"1\">\r\n<li>发电机：物理中性线顺电枢旋转方向前移<span\r\nclass=\"math inline\">\\(\\alpha\\)</span></li>\r\n<li>电动机：反之</li>\r\n</ol></li>\r\n<li>每极气隙总磁通不变</li>\r\n</ol>\r\n<ul>\r\n<li>如果饱和了再发生电枢反应，去磁照样去，但是增磁增不上去了（吃撑了再吃就吃不下了），所以总体产生了去磁效应。</li>\r\n</ul>\r\n<h3\r\nid=\"电枢绕组的感应电动势电磁转矩\">电枢绕组的感应电动势&amp;电磁转矩</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\nE_a=\\frac{NP}{60a}\\cdot\\phi \\cdot n\\\\T=\\frac{NP}{2\\pi a}\\cdot\\phi\\cdot\r\nI_a\r\n\\end{gather*}\r\n\\]</span></p>\r\n<h3 id=\"直流发电机\">直流发电机</h3>\r\n<p>感觉挺简单的，就是说比较好理解</p>\r\n<p><img src=\"\\image\\电机学06.png\" /><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather*}\r\nE_a=U+I_aR_a+2\\Delta U_b\\\\\r\nU=I_f(R_f+R_j)\\\\\r\nP_{em}=E_aI=P_2+p_{cu}\\,;\\,(p_{cu}=I_a^2R_a+2\\Delta U_bI_a)\r\n\\end{gather*}\r\n\\]</span><br />\r\n随着电流提高产生去磁效应，用<span\r\nclass=\"math inline\">\\(I_{faq}\\)</span>来等效产生的去磁效应。意思就是，对于外电路，看起来有<span\r\nclass=\"math inline\">\\(I_f\\)</span>的电流（比如<span\r\nclass=\"math inline\">\\(\\frac{U}{R_f+R_j}\\)</span>和<span\r\nclass=\"math inline\">\\(I_{fN}\\)</span>），但是对电枢的空载特性而言，只有<span\r\nclass=\"math inline\">\\(I_{f0}=I_f-I_{faq}\\)</span>的电流产生电枢电动势，也就是查表用的/查到的都是<span\r\nclass=\"math inline\">\\(I_{f0}\\)</span></p>\r\n"},{"title":"电力系统稳态分析笔记","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://ts1.cn.mm.bing.net/th/id/R-C.8305e77baddb6a1d66427138c4bcf314?rik=I%2b2vBdO0M0WXZw&riu=http%3a%2f%2fdrdbsz.oss-cn-shenzhen.aliyuncs.com%2f2102221710291487864535.jpeg&ehk=OO%2b7zr1kzXoAe8kaZ8%2bFn21amKId1R0r%2bfo0%2fH%2fGxpE%3d&risl=&pid=ImgRaw&r=0","description":"电力系统稳态分析笔记（grp讲的依托）","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者","_content":"\n\n\n【学习天地】电力系统稳态分析知识点整理 样卷 https://www.cc98.org/topic/4901089 复制本链接，打开【CC98】微信小程序，直接查看本帖！\n\n\n\n# 二、电力系统元件数学模型\n\n## 三相电力线路\n\n### 电路参数\n\n在集总参数模型中，我们可以用四个量来表示电路，即L,R,C,G。\n\n* **分裂导线：**\n  * 每相导线的分裂导线的根数：n\n  * 三相导线几何间距：$D_m =\\sqrt[3]{D_{12}D_{23}D_{13}}$；分裂导线内部导线等值半径：$r_{eq} =\\sqrt[n]{rd_{12}d_{13}\\cdots d_{1n}}$\n* **电感：**\n  * 架空线路正序电感：$x_1=2\\pi fL_1=0.06283\\text{ln}\\frac{D_m}r+0.0157\\,(\\Omega/km)$\n  *  分裂导线正序电感：$x_1 =2\\pi fL_1=0.06283\\text{ln}\\frac{D_m}{r_{eq}}+\\frac{0.0157}n\\,(\\Omega/km)$\n\n* **电纳：**\n  * 架空线路正序电纳：$b_1=2\\pi fC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}r}\\times10^{-6}(s/km)$\n  * 分裂导线正序电纳：$b_1=2\\pi fC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}{ r  _{eq}} }\\times10^{-6}(s/km)$\n\n* 电晕临界电压：$U_{cr}\\propto r\\text{lg}\\frac{D_m}r$\n\n### 等值电路\n\n**基本知识：**\n\n* 单位长度等值阻抗：$Z_1=r_1+jx_1$\n\n* 单位长度等值导纳：$Y_1=g_1+jb_1$\n\n* 波阻抗（特性阻抗）：$Z_c=\\sqrt{Z_1/Y_1}\\,(\\Omega)$；传播系数：$\\gamma=\\sqrt{Z_1Y_1}=\\alpha+j\\beta$\n\n* 当电路达成**匹配**（$Z_c=Z_2$）和**无损耗**（$g_1=r_1=0$）时，有：\n\n  $$\\begin{gather}\\begin{bmatrix}U \\\\ I \\end{bmatrix}=e^{j\\alpha x}\\begin{bmatrix}U_2 \\\\ I_2 \\end{bmatrix}\\end{gather}$$\n\n* ![](\\image\\稳态01.png)\n\n**结论：**\n$$\n\\begin{gather}\\begin{cases}\n（中）100-300km的架空线或100km以内的电缆线：&\n\\begin{cases}\nZ=Z_1l\\\\Y=Y_1l\n\\end{cases}\\\\\n（长）超300km的架空线或超100km的电缆线：&\n\\begin{cases}\nZ=K_ZZ_1l\\\\Y=K_YY_1l\n\\end{cases}&\n\\begin{cases}\nK_Z=1+\\frac{Z_1Y_1}6l^2\\\\K_Y=1-\\frac{Z_1Y_1}{12}l^2\n\\end{cases}\n\\\\\n（短）小于100km且电压低于35kV的架空线：&将\\pi型等效电路的两个导纳删了\n\\end{cases}\\end{gather}\n$$\n\n## 变压器\n\n### 双绕组变压器\n\n根据变压器内部的量值大小关系，简化双绕组变压器的电路图如下图所示：\n\n![](\\image\\稳态02.png)\n\n也就是说，我们需要求出R,X,G~m~,B~m~四个量。下面给出变压器的基本参数和求解方法。\n\n**变压器参数：**哪些东西是我们事先知道的\n\n* 变压器四个额定值：输入$U_ {1N},I_{1N}$，输出$U_{2N},I_ {2N}$\n* 变压器额定容量：$S_N=\\sqrt3U_ {1N}I_{1N}=\\sqrt3U_ {2N}I_ {2N}$\n* 原理：输出有功功率跟电感、电容大小无关，因此通过这个可以知道电阻、电导的大小；已知电阻、电导远小于电抗、电纳，因此电压降基本只和电抗、电纳有关，通过求电压降得到电感、电容大小。\n\n**短路实验求R,X：**\n\n* 输出端短路$U_2=0$，使左边达到额定电流$I_{1N}$，记下此时的电压$U_{k}$和输出功率$P_k$\n* $R=\\frac{P_ k}{3I_{1N}^2}=\\frac{P_k}{1000}\\frac{U_{1N}^2}{S _ {N}^2}\\,(\\Omega)$\n* $X=\\frac{U _k}{\\sqrt3I_ {1N}}=U_k\\frac{U_ {1N}}{S_ N}=(\\frac{U _k}{U_{1N}})\\frac{U_ {1N}^2}{S _N}=\\frac{U_k\\%}{100}\\frac{U_ {1N}^2}{S _N}(\\Omega)$\n\n**开路实验求G,B：**\n\n* 输出端断路$I_2=0$，使左边达到额定电压$U_{1N}$，记下此时的电流$I_0$和输出功率$P_0$\n* $G _m=\\frac{P_ 0}{U _{1N}^2}\\times 10^{-3}(s)$\n* $B_ m=\\frac{\\sqrt3I_0}{U _{1N}}=(\\frac{I _0}{I_ {1N}})\\frac{S _N}{U_ {1N}^2}=\\frac{I_k\\%}{100}\\frac{S _N}{U_ {1N}^2}(s)$（**一定要取负号！这个B~m~只是大小，感纳为负**）\n\n### 三绕组变压器\n\n三绕组变压器的公式与双绕组完全一样，但是多了两步。\n\n![](\\image\\稳态03.png)\n\n**P和U的必要归算：**\n\n* 因为三绕组每次短路只能选两个端口，因此有三个电压和损耗功率，并且是由两条支路的数据平分。\n* ![](\\image\\稳态04.png)\n* 电压（$U_k%$）写法一模一样。\n\n**因为额定容量不同导致的归算：**\n\n* 以100/50/100为例，仅有1-3侧能达到额定容量，剩下两个都只有一般的额定电压。因此**要将$U$乘上2，$P$乘上4**。\n\n**G和B：**\n\n* 不需要上面这么麻烦的算，直接整就好。见课本例题。\n\n**最大短路损耗：**\n\n* 有些厂家只提供了P~kmax~，那么就把这个当成**容量最大的两个支路一起提供的损耗**。然后**电阻按照容量大小反向分配**，即100/100/50就是两个100的电阻等大平分，50那组的电阻值大小就是100的两倍。比如：$R_1=R_2=\\frac12\\frac{P_{kmax}}{1000}\\frac{U_{1N}^2}{S_N^2}\\,;\\,R_3=2R_1$\n\n### 自耦变压器\n\n![](\\image\\稳态05.png)\n\n* 变比：$k_ {12}=\\frac{U _{1N}}{U_ {2N}}=1+\\frac{\\omega _s}{\\omega _c}$\n* 效益系数：$k_ b=\\frac{I_ {com}}{I_2}=1-\\frac1{k _{12}}$\n* 通过磁耦合传递的最大功率（标准容量、设计容量）：$S_{st}=K_bS_N$\n* 其用铜量、短路损耗都是普通变压器的$K_b$倍，其等值电路与普通变压器相同。\n* 三相自耦变压器，公共绕组不过载的条件：$S_ {com}=\\sqrt{(K _bP_1+P _3)^2+(K _bQ_1+Q _3)^2}<K_ b S _N$\n* 三侧不过载条件：$S_i<\\eta S_N$（$\\eta=\\frac{容量}{最大容量}$）\n\n## 同步发电机和调相机\n\n### 同步发电机\n\n![](\\image\\稳态06.png)\n\n**参数：**\n\n| 定子空载相电势 | 每相绕组电阻 | 定子纵轴、横轴同步电抗 | 功率角（$U$和$E_q$的夹角）         |\n| -------------- | ------------ | ---------------------- | ---------------------------------- |\n| $E_q$或$jE_q$  | $r$          | $x_d,x_q$              | $\\delta$（注意和功率因数角区分！） |\n\n| 参数     | 隐极发电机$(x_d=x_q)$                | 凸极发电机                       |\n| -------- | ------------------------------------ | -------------------------------- |\n| 电压方程 | $U=jE_q-(r+jx_q)I$                   | $U=jE_q-j(x_d-x_q)I_d-(r+jx_q)I$ |\n| 有功功率 | $P=\\frac{E_qU}{x_d}\\text{sin}\\delta$ | 爬                               |\n| 无功功率 | 爬                                   | 爬                               |\n\n* 其中，r，x~d~，x~q~可能会提供标么值、两种形式的百分值等。其转换如下（都一样的，以r为例）：\n  * $r=r_*\\frac{U_N^2}{S_N}=\\frac{r%}{100}\\frac{U_N^2}{S_N}$\n\n### 无功补偿设备\n\n|          | 调相机                      | 并联电容   | 并联电抗     | 静止补偿器                               |\n| -------- | --------------------------- | ---------- | ------------ | ---------------------------------------- |\n| 电压方程 | $U=E_q-jx_dI$               |            |              |                                          |\n| 无功功率 | $Q=UI=\\frac{U(E_q-U)}{x_d}$ | $Q=U^2B_C$ | $Q=|U^2B_L|$ | $Q=Q_C+Q_L=U^2(\\frac1{x_C}-\\frac1{x_L})$ |\n\n## 多级电力系统\n\n方法：设定基本级——用实际变比归算到基本级——解归算后的网络——解耦至原级\n$$\nU'=kU;I'=\\frac{I}k;Z'=k^2Z;Y'=\\frac Y{k^2}\n$$\n\n### 标幺值\n\n| 三相功率        | 线电压          | 阻抗                    | 导纳                    | 电流                        |\n| --------------- | --------------- | ----------------------- | ----------------------- | --------------------------- |\n| **基准值$S_B$** | **基准值$U_B$** | $Z_B=\\frac{U_B^2}{S_B}$ | $Y_B=\\frac{S_B}{U_B^2}$ | $I_B=\\frac{\\sqrt3S_B}{U_B}$ |\n\n* 方法：将**基本级**的**基准值**归算到各级（实际上只用归算U），然后用这个U和S~B~来计算各级的阻抗、导纳。\n\n### 非标准变比\n\n![](\\image\\稳态07.png)\n\n* 用变压器标准变比来归算（从基本级到各级），代价是把变压器的$\\tau$型等值电路变成了$\\pi$型，要复杂一点\n\n* 书里的图片不好，不应该用k，容易引起误导，应该用k^*^（从1到2是1:k^*^，注意顺序）\n\n  * $$\n    \\frac{k^*}1\\cdot\\frac{U_{2B}}{U_{1B}}(标准变比)=\\frac{U_{2T}}{U_{1T}}(实际变比)\\Rightarrow k^*=\\frac{U_{2T}/U_{1T}}{U_{2B}/U_{1B}}\n    $$\n\n# 三、电力系统潮流计算\n\n## 手算公式\n\n### 电力线路\n\n![](\\image\\稳态08.png)\n\n| $\\Delta U$          | $\\delta U$          | $\\frac B2$损耗S(等于Q)               | $Z$上损耗S(P+jQ)                  |\n| ------------------- | ------------------- | ------------------------------------ | --------------------------------- |\n| $\\frac{PR+QX}{U_j}$ | $\\frac{PX-QR}{U_j}$ | $-jU_i^2\\frac B2$和$-jU_j^2\\frac B2$ | $\\frac{P_j^2+Q_j^2}{U_j^2}(R+jX)$ |\n\n* 一些简化：一般而言X远大于R，$\\Delta U$对电压的影响远大于$\\delta U$\n\n| 电压降落             | 电压损耗                         | 电压偏移                             | 电压调整                               | 输电效率                     |\n| -------------------- | -------------------------------- | ------------------------------------ | -------------------------------------- | ---------------------------- |\n| $\\Delta U+j\\delta U$ | $\\frac{U_1-U_2}{U_N}\\times100\\%$ | $\\frac{U_{1/2}-U_N}{U_N}\\times100\\%$ | $\\frac{U_{20}-U_2}{U_{20}}\\times100\\%$ | $\\frac{P_2}{P_1}\\times100\\%$ |\n\n### 变压器\n\n（为什么我没有什么印象感觉没做到过一样）\n\n* $\\Delta P=\\frac{P^2+Q^2}{U_j^2}R_T+U_i^2G_T$\n* $\\Delta Q=\\frac{P^2+Q^2}{U_j^2}X_T+U_i^2B_T$\n\n### 手算潮流\n\n* 辐射型网络：功率推算过去，电压推算回来\n\n* 两端供电网：\n\n![](\\image\\稳态09.png)\n\n* 环形供电网：\n  * 单电压级：任一点解环，用两端供电网求解，dU=0\n  * 多电压级：阻抗端解环，$\\text dU=U_A(\\frac1{k_1}-\\frac1{k_2})$\n\n## 电算潮流\n\n### 数理基础推导\n\n* **节点电压方程（原方程）**：$\\dot I_i=\\sum_j y_{ij}(\\dot U_i-\\dot U_j)$\n* 节点导纳矩阵：$Y=[y_{ij}]$，其中$Y_{ij}=-y_{ij}\\,;\\,Y_{ii}=\\sum_{j=0} y_{ij}$\n  * 得：$\\dot I_i=\\sum_{j=1}Y_{ij}\\dot U_j$，$\\dot I=Y\\dot U$\n\n* 对地支路导纳只影响$y_{ii}$，变压器节点要注意使用非标准变比的变压器$\\pi$型等值电路等效，注意$1:k^*$的方向\n\n* **功率方程：**$\\widetilde S_i=P_i+jQ_i=\\dot U_i I^*=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*$\n\n### G-S计算法\n\n* **公式推导：**\n\n$$\n\\begin{gather*}\nP_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*=\\dot U_i(Y_{ii}^*U_i^*+\\sum_{j\\neq i}Y_{ij}^*U_j^*)\\\\\n\\Rightarrow \\begin{cases}\nPQ:&\\dot U_i=\\frac1{Y_{ii}}(\\frac{P+jQ}{U_i^*}-\\sum_{j\\neq i}Y_{ij}\\dot U_j)\\\\\nPV:&Q_p=\\text{Im}(\\dot U_p\\sum_k Y_{pj}^*U_j^*)\n\\end{cases}\n\\end{gather*}\n$$\n\n[注]：PV节点也需要列写上面的电压修正方程，但是最后只修正相角不修正电压幅值。\n\n### N-R计算法\n\n* N-R方程：$y=f'(x_0)(x-x_0)+f(x_0)=0\\Rightarrow x =x_0-\\frac{f(x_0)}{f'(x_0)}$\n\n* **理论依据：**$P_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*$\n\n$$\n\\begin{gather*} \\Rightarrow\n\\begin{cases}\nP_i=U_i\\sum_j(G_{ij}cos_{ij}+B_{ij}sin_{ij})\\\\Q_i=U_i\\sum_j(G_{ij}sin_{ij}-B_{ij}cos_{ij})\\\\\n\\end{cases}\n\\\\\\Rightarrow\n\\begin{cases}\n\\Delta P_i=\\sum_j(\\frac{\\partial\\Delta P}{\\partial \\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta P}{\\partial U_j}\\Delta U_j)=\\sum_j(H_{ij}\\Delta\\theta_j+N_{ij} \\Delta U_j/U_j)\n\\\\\\Delta Q_i=\\sum_j(\\frac{\\partial\\Delta Q}{\\partial \\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta Q}{\\partial U_j}\\Delta U_j)=\\sum_j(J_{ij}\\Delta\\theta_j+L_{ij} \\Delta U_j /U_j)\\\\\n\\end{cases}\\\\\n\\begin{bmatrix}\\Delta P\\\\\\Delta Q  \\end{bmatrix}=\\begin{bmatrix}H&N\\\\J&L \\end{bmatrix}=\\begin{bmatrix}\\Delta\\theta\\\\U^{-1}\\Delta U \\end{bmatrix}\n\\end{gather*}\n$$\n\n![](\\image\\稳态10.png)\n\n* 直角坐标形式：\n\n![](\\image\\稳态11.png)\n\n要把PV节点的方程换成：$f_{Ui}=U_{is}-e^2-f^2$\n\n###  P-Q分解法\n\n$$\n\\begin{gather*}\n简化：\\begin{cases}\ncos\\theta_{ij}\\approx1\\\\G_{ij}sin\\theta_{ij}<<B_{ij}\\\\Q_i(互导纳)<<U_i^2B_i(自导纳)\\\\\n\\end{cases}\n\\Rightarrow \\begin{cases} H_{ij}= L_{ij}\\approx U_iU_jB_{ij}\\\\N_{ij}=L_{ij}\\approx0 \\end{cases}\\\\\n\\Rightarrow \\begin{cases}\\Delta P=UB'U\\Delta\\theta\\\\\\Delta Q=UB''\\Delta U\\end{cases}\n\\end{gather*}\n$$\n\n* 好处：用一个n-1和一个n-m-1阶的方程组代替2(n-1)-m阶的方程组\n\n* 其中，**$B’$是去掉平衡节点的节点导纳矩阵（的虚部），$B''$是去掉平衡节点和PV节点的节点导纳矩阵（的虚部）**，$U$是对角矩阵\n\n### 直流潮流法\n\n$$\n\\begin{gather*}\n继续简化：\\begin{cases}g_{ij}=0,b_{ij}=-\\frac1{x_{ij}}\\\\U_i=1\\\\sin_{ij}=\\theta_i-\\theta_j \\end{cases}\\Rightarrow\\begin{cases} \\theta=(-B')P\\\\P_{ij}=\\frac{\\theta_i-\\theta_j}{x_{ij}}\\end{cases}\n\\end{gather*}\n$$\n\n","source":"_posts/电力系统稳态分析.md","raw":"---\ntitle: 电力系统稳态分析笔记\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://ts1.cn.mm.bing.net/th/id/R-C.8305e77baddb6a1d66427138c4bcf314?rik=I%2b2vBdO0M0WXZw&riu=http%3a%2f%2fdrdbsz.oss-cn-shenzhen.aliyuncs.com%2f2102221710291487864535.jpeg&ehk=OO%2b7zr1kzXoAe8kaZ8%2bFn21amKId1R0r%2bfo0%2fH%2fGxpE%3d&risl=&pid=ImgRaw&r=0\ndescription: 电力系统稳态分析笔记（grp讲的依托）\ntags: \n  - 电气\n  - 笔记\n  - 大三\n  - 稳态\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者\n---\n\n\n\n【学习天地】电力系统稳态分析知识点整理 样卷 https://www.cc98.org/topic/4901089 复制本链接，打开【CC98】微信小程序，直接查看本帖！\n\n\n\n# 二、电力系统元件数学模型\n\n## 三相电力线路\n\n### 电路参数\n\n在集总参数模型中，我们可以用四个量来表示电路，即L,R,C,G。\n\n* **分裂导线：**\n  * 每相导线的分裂导线的根数：n\n  * 三相导线几何间距：$D_m =\\sqrt[3]{D_{12}D_{23}D_{13}}$；分裂导线内部导线等值半径：$r_{eq} =\\sqrt[n]{rd_{12}d_{13}\\cdots d_{1n}}$\n* **电感：**\n  * 架空线路正序电感：$x_1=2\\pi fL_1=0.06283\\text{ln}\\frac{D_m}r+0.0157\\,(\\Omega/km)$\n  *  分裂导线正序电感：$x_1 =2\\pi fL_1=0.06283\\text{ln}\\frac{D_m}{r_{eq}}+\\frac{0.0157}n\\,(\\Omega/km)$\n\n* **电纳：**\n  * 架空线路正序电纳：$b_1=2\\pi fC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}r}\\times10^{-6}(s/km)$\n  * 分裂导线正序电纳：$b_1=2\\pi fC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}{ r  _{eq}} }\\times10^{-6}(s/km)$\n\n* 电晕临界电压：$U_{cr}\\propto r\\text{lg}\\frac{D_m}r$\n\n### 等值电路\n\n**基本知识：**\n\n* 单位长度等值阻抗：$Z_1=r_1+jx_1$\n\n* 单位长度等值导纳：$Y_1=g_1+jb_1$\n\n* 波阻抗（特性阻抗）：$Z_c=\\sqrt{Z_1/Y_1}\\,(\\Omega)$；传播系数：$\\gamma=\\sqrt{Z_1Y_1}=\\alpha+j\\beta$\n\n* 当电路达成**匹配**（$Z_c=Z_2$）和**无损耗**（$g_1=r_1=0$）时，有：\n\n  $$\\begin{gather}\\begin{bmatrix}U \\\\ I \\end{bmatrix}=e^{j\\alpha x}\\begin{bmatrix}U_2 \\\\ I_2 \\end{bmatrix}\\end{gather}$$\n\n* ![](\\image\\稳态01.png)\n\n**结论：**\n$$\n\\begin{gather}\\begin{cases}\n（中）100-300km的架空线或100km以内的电缆线：&\n\\begin{cases}\nZ=Z_1l\\\\Y=Y_1l\n\\end{cases}\\\\\n（长）超300km的架空线或超100km的电缆线：&\n\\begin{cases}\nZ=K_ZZ_1l\\\\Y=K_YY_1l\n\\end{cases}&\n\\begin{cases}\nK_Z=1+\\frac{Z_1Y_1}6l^2\\\\K_Y=1-\\frac{Z_1Y_1}{12}l^2\n\\end{cases}\n\\\\\n（短）小于100km且电压低于35kV的架空线：&将\\pi型等效电路的两个导纳删了\n\\end{cases}\\end{gather}\n$$\n\n## 变压器\n\n### 双绕组变压器\n\n根据变压器内部的量值大小关系，简化双绕组变压器的电路图如下图所示：\n\n![](\\image\\稳态02.png)\n\n也就是说，我们需要求出R,X,G~m~,B~m~四个量。下面给出变压器的基本参数和求解方法。\n\n**变压器参数：**哪些东西是我们事先知道的\n\n* 变压器四个额定值：输入$U_ {1N},I_{1N}$，输出$U_{2N},I_ {2N}$\n* 变压器额定容量：$S_N=\\sqrt3U_ {1N}I_{1N}=\\sqrt3U_ {2N}I_ {2N}$\n* 原理：输出有功功率跟电感、电容大小无关，因此通过这个可以知道电阻、电导的大小；已知电阻、电导远小于电抗、电纳，因此电压降基本只和电抗、电纳有关，通过求电压降得到电感、电容大小。\n\n**短路实验求R,X：**\n\n* 输出端短路$U_2=0$，使左边达到额定电流$I_{1N}$，记下此时的电压$U_{k}$和输出功率$P_k$\n* $R=\\frac{P_ k}{3I_{1N}^2}=\\frac{P_k}{1000}\\frac{U_{1N}^2}{S _ {N}^2}\\,(\\Omega)$\n* $X=\\frac{U _k}{\\sqrt3I_ {1N}}=U_k\\frac{U_ {1N}}{S_ N}=(\\frac{U _k}{U_{1N}})\\frac{U_ {1N}^2}{S _N}=\\frac{U_k\\%}{100}\\frac{U_ {1N}^2}{S _N}(\\Omega)$\n\n**开路实验求G,B：**\n\n* 输出端断路$I_2=0$，使左边达到额定电压$U_{1N}$，记下此时的电流$I_0$和输出功率$P_0$\n* $G _m=\\frac{P_ 0}{U _{1N}^2}\\times 10^{-3}(s)$\n* $B_ m=\\frac{\\sqrt3I_0}{U _{1N}}=(\\frac{I _0}{I_ {1N}})\\frac{S _N}{U_ {1N}^2}=\\frac{I_k\\%}{100}\\frac{S _N}{U_ {1N}^2}(s)$（**一定要取负号！这个B~m~只是大小，感纳为负**）\n\n### 三绕组变压器\n\n三绕组变压器的公式与双绕组完全一样，但是多了两步。\n\n![](\\image\\稳态03.png)\n\n**P和U的必要归算：**\n\n* 因为三绕组每次短路只能选两个端口，因此有三个电压和损耗功率，并且是由两条支路的数据平分。\n* ![](\\image\\稳态04.png)\n* 电压（$U_k%$）写法一模一样。\n\n**因为额定容量不同导致的归算：**\n\n* 以100/50/100为例，仅有1-3侧能达到额定容量，剩下两个都只有一般的额定电压。因此**要将$U$乘上2，$P$乘上4**。\n\n**G和B：**\n\n* 不需要上面这么麻烦的算，直接整就好。见课本例题。\n\n**最大短路损耗：**\n\n* 有些厂家只提供了P~kmax~，那么就把这个当成**容量最大的两个支路一起提供的损耗**。然后**电阻按照容量大小反向分配**，即100/100/50就是两个100的电阻等大平分，50那组的电阻值大小就是100的两倍。比如：$R_1=R_2=\\frac12\\frac{P_{kmax}}{1000}\\frac{U_{1N}^2}{S_N^2}\\,;\\,R_3=2R_1$\n\n### 自耦变压器\n\n![](\\image\\稳态05.png)\n\n* 变比：$k_ {12}=\\frac{U _{1N}}{U_ {2N}}=1+\\frac{\\omega _s}{\\omega _c}$\n* 效益系数：$k_ b=\\frac{I_ {com}}{I_2}=1-\\frac1{k _{12}}$\n* 通过磁耦合传递的最大功率（标准容量、设计容量）：$S_{st}=K_bS_N$\n* 其用铜量、短路损耗都是普通变压器的$K_b$倍，其等值电路与普通变压器相同。\n* 三相自耦变压器，公共绕组不过载的条件：$S_ {com}=\\sqrt{(K _bP_1+P _3)^2+(K _bQ_1+Q _3)^2}<K_ b S _N$\n* 三侧不过载条件：$S_i<\\eta S_N$（$\\eta=\\frac{容量}{最大容量}$）\n\n## 同步发电机和调相机\n\n### 同步发电机\n\n![](\\image\\稳态06.png)\n\n**参数：**\n\n| 定子空载相电势 | 每相绕组电阻 | 定子纵轴、横轴同步电抗 | 功率角（$U$和$E_q$的夹角）         |\n| -------------- | ------------ | ---------------------- | ---------------------------------- |\n| $E_q$或$jE_q$  | $r$          | $x_d,x_q$              | $\\delta$（注意和功率因数角区分！） |\n\n| 参数     | 隐极发电机$(x_d=x_q)$                | 凸极发电机                       |\n| -------- | ------------------------------------ | -------------------------------- |\n| 电压方程 | $U=jE_q-(r+jx_q)I$                   | $U=jE_q-j(x_d-x_q)I_d-(r+jx_q)I$ |\n| 有功功率 | $P=\\frac{E_qU}{x_d}\\text{sin}\\delta$ | 爬                               |\n| 无功功率 | 爬                                   | 爬                               |\n\n* 其中，r，x~d~，x~q~可能会提供标么值、两种形式的百分值等。其转换如下（都一样的，以r为例）：\n  * $r=r_*\\frac{U_N^2}{S_N}=\\frac{r%}{100}\\frac{U_N^2}{S_N}$\n\n### 无功补偿设备\n\n|          | 调相机                      | 并联电容   | 并联电抗     | 静止补偿器                               |\n| -------- | --------------------------- | ---------- | ------------ | ---------------------------------------- |\n| 电压方程 | $U=E_q-jx_dI$               |            |              |                                          |\n| 无功功率 | $Q=UI=\\frac{U(E_q-U)}{x_d}$ | $Q=U^2B_C$ | $Q=|U^2B_L|$ | $Q=Q_C+Q_L=U^2(\\frac1{x_C}-\\frac1{x_L})$ |\n\n## 多级电力系统\n\n方法：设定基本级——用实际变比归算到基本级——解归算后的网络——解耦至原级\n$$\nU'=kU;I'=\\frac{I}k;Z'=k^2Z;Y'=\\frac Y{k^2}\n$$\n\n### 标幺值\n\n| 三相功率        | 线电压          | 阻抗                    | 导纳                    | 电流                        |\n| --------------- | --------------- | ----------------------- | ----------------------- | --------------------------- |\n| **基准值$S_B$** | **基准值$U_B$** | $Z_B=\\frac{U_B^2}{S_B}$ | $Y_B=\\frac{S_B}{U_B^2}$ | $I_B=\\frac{\\sqrt3S_B}{U_B}$ |\n\n* 方法：将**基本级**的**基准值**归算到各级（实际上只用归算U），然后用这个U和S~B~来计算各级的阻抗、导纳。\n\n### 非标准变比\n\n![](\\image\\稳态07.png)\n\n* 用变压器标准变比来归算（从基本级到各级），代价是把变压器的$\\tau$型等值电路变成了$\\pi$型，要复杂一点\n\n* 书里的图片不好，不应该用k，容易引起误导，应该用k^*^（从1到2是1:k^*^，注意顺序）\n\n  * $$\n    \\frac{k^*}1\\cdot\\frac{U_{2B}}{U_{1B}}(标准变比)=\\frac{U_{2T}}{U_{1T}}(实际变比)\\Rightarrow k^*=\\frac{U_{2T}/U_{1T}}{U_{2B}/U_{1B}}\n    $$\n\n# 三、电力系统潮流计算\n\n## 手算公式\n\n### 电力线路\n\n![](\\image\\稳态08.png)\n\n| $\\Delta U$          | $\\delta U$          | $\\frac B2$损耗S(等于Q)               | $Z$上损耗S(P+jQ)                  |\n| ------------------- | ------------------- | ------------------------------------ | --------------------------------- |\n| $\\frac{PR+QX}{U_j}$ | $\\frac{PX-QR}{U_j}$ | $-jU_i^2\\frac B2$和$-jU_j^2\\frac B2$ | $\\frac{P_j^2+Q_j^2}{U_j^2}(R+jX)$ |\n\n* 一些简化：一般而言X远大于R，$\\Delta U$对电压的影响远大于$\\delta U$\n\n| 电压降落             | 电压损耗                         | 电压偏移                             | 电压调整                               | 输电效率                     |\n| -------------------- | -------------------------------- | ------------------------------------ | -------------------------------------- | ---------------------------- |\n| $\\Delta U+j\\delta U$ | $\\frac{U_1-U_2}{U_N}\\times100\\%$ | $\\frac{U_{1/2}-U_N}{U_N}\\times100\\%$ | $\\frac{U_{20}-U_2}{U_{20}}\\times100\\%$ | $\\frac{P_2}{P_1}\\times100\\%$ |\n\n### 变压器\n\n（为什么我没有什么印象感觉没做到过一样）\n\n* $\\Delta P=\\frac{P^2+Q^2}{U_j^2}R_T+U_i^2G_T$\n* $\\Delta Q=\\frac{P^2+Q^2}{U_j^2}X_T+U_i^2B_T$\n\n### 手算潮流\n\n* 辐射型网络：功率推算过去，电压推算回来\n\n* 两端供电网：\n\n![](\\image\\稳态09.png)\n\n* 环形供电网：\n  * 单电压级：任一点解环，用两端供电网求解，dU=0\n  * 多电压级：阻抗端解环，$\\text dU=U_A(\\frac1{k_1}-\\frac1{k_2})$\n\n## 电算潮流\n\n### 数理基础推导\n\n* **节点电压方程（原方程）**：$\\dot I_i=\\sum_j y_{ij}(\\dot U_i-\\dot U_j)$\n* 节点导纳矩阵：$Y=[y_{ij}]$，其中$Y_{ij}=-y_{ij}\\,;\\,Y_{ii}=\\sum_{j=0} y_{ij}$\n  * 得：$\\dot I_i=\\sum_{j=1}Y_{ij}\\dot U_j$，$\\dot I=Y\\dot U$\n\n* 对地支路导纳只影响$y_{ii}$，变压器节点要注意使用非标准变比的变压器$\\pi$型等值电路等效，注意$1:k^*$的方向\n\n* **功率方程：**$\\widetilde S_i=P_i+jQ_i=\\dot U_i I^*=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*$\n\n### G-S计算法\n\n* **公式推导：**\n\n$$\n\\begin{gather*}\nP_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*=\\dot U_i(Y_{ii}^*U_i^*+\\sum_{j\\neq i}Y_{ij}^*U_j^*)\\\\\n\\Rightarrow \\begin{cases}\nPQ:&\\dot U_i=\\frac1{Y_{ii}}(\\frac{P+jQ}{U_i^*}-\\sum_{j\\neq i}Y_{ij}\\dot U_j)\\\\\nPV:&Q_p=\\text{Im}(\\dot U_p\\sum_k Y_{pj}^*U_j^*)\n\\end{cases}\n\\end{gather*}\n$$\n\n[注]：PV节点也需要列写上面的电压修正方程，但是最后只修正相角不修正电压幅值。\n\n### N-R计算法\n\n* N-R方程：$y=f'(x_0)(x-x_0)+f(x_0)=0\\Rightarrow x =x_0-\\frac{f(x_0)}{f'(x_0)}$\n\n* **理论依据：**$P_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*$\n\n$$\n\\begin{gather*} \\Rightarrow\n\\begin{cases}\nP_i=U_i\\sum_j(G_{ij}cos_{ij}+B_{ij}sin_{ij})\\\\Q_i=U_i\\sum_j(G_{ij}sin_{ij}-B_{ij}cos_{ij})\\\\\n\\end{cases}\n\\\\\\Rightarrow\n\\begin{cases}\n\\Delta P_i=\\sum_j(\\frac{\\partial\\Delta P}{\\partial \\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta P}{\\partial U_j}\\Delta U_j)=\\sum_j(H_{ij}\\Delta\\theta_j+N_{ij} \\Delta U_j/U_j)\n\\\\\\Delta Q_i=\\sum_j(\\frac{\\partial\\Delta Q}{\\partial \\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta Q}{\\partial U_j}\\Delta U_j)=\\sum_j(J_{ij}\\Delta\\theta_j+L_{ij} \\Delta U_j /U_j)\\\\\n\\end{cases}\\\\\n\\begin{bmatrix}\\Delta P\\\\\\Delta Q  \\end{bmatrix}=\\begin{bmatrix}H&N\\\\J&L \\end{bmatrix}=\\begin{bmatrix}\\Delta\\theta\\\\U^{-1}\\Delta U \\end{bmatrix}\n\\end{gather*}\n$$\n\n![](\\image\\稳态10.png)\n\n* 直角坐标形式：\n\n![](\\image\\稳态11.png)\n\n要把PV节点的方程换成：$f_{Ui}=U_{is}-e^2-f^2$\n\n###  P-Q分解法\n\n$$\n\\begin{gather*}\n简化：\\begin{cases}\ncos\\theta_{ij}\\approx1\\\\G_{ij}sin\\theta_{ij}<<B_{ij}\\\\Q_i(互导纳)<<U_i^2B_i(自导纳)\\\\\n\\end{cases}\n\\Rightarrow \\begin{cases} H_{ij}= L_{ij}\\approx U_iU_jB_{ij}\\\\N_{ij}=L_{ij}\\approx0 \\end{cases}\\\\\n\\Rightarrow \\begin{cases}\\Delta P=UB'U\\Delta\\theta\\\\\\Delta Q=UB''\\Delta U\\end{cases}\n\\end{gather*}\n$$\n\n* 好处：用一个n-1和一个n-m-1阶的方程组代替2(n-1)-m阶的方程组\n\n* 其中，**$B’$是去掉平衡节点的节点导纳矩阵（的虚部），$B''$是去掉平衡节点和PV节点的节点导纳矩阵（的虚部）**，$U$是对角矩阵\n\n### 直流潮流法\n\n$$\n\\begin{gather*}\n继续简化：\\begin{cases}g_{ij}=0,b_{ij}=-\\frac1{x_{ij}}\\\\U_i=1\\\\sin_{ij}=\\theta_i-\\theta_j \\end{cases}\\Rightarrow\\begin{cases} \\theta=(-B')P\\\\P_{ij}=\\frac{\\theta_i-\\theta_j}{x_{ij}}\\end{cases}\n\\end{gather*}\n$$\n\n","slug":"电力系统稳态分析","published":1,"date":"2023-10-10T08:20:54.065Z","updated":"2023-11-04T06:49:59.152Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0n00259kthc9r1brxq","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>【学习天地】电力系统稳态分析知识点整理 样卷\r\nhttps://www.cc98.org/topic/4901089\r\n复制本链接，打开【CC98】微信小程序，直接查看本帖！</p>\r\n<h1 id=\"二电力系统元件数学模型\">二、电力系统元件数学模型</h1>\r\n<h2 id=\"三相电力线路\">三相电力线路</h2>\r\n<h3 id=\"电路参数\">电路参数</h3>\r\n<p>在集总参数模型中，我们可以用四个量来表示电路，即L,R,C,G。</p>\r\n<ul>\r\n<li><strong>分裂导线：</strong>\r\n<ul>\r\n<li>每相导线的分裂导线的根数：n</li>\r\n<li>三相导线几何间距：<span class=\"math inline\">\\(D_m\r\n=\\sqrt[3]{D_{12}D_{23}D_{13}}\\)</span>；分裂导线内部导线等值半径：<span\r\nclass=\"math inline\">\\(r_{eq} =\\sqrt[n]{rd_{12}d_{13}\\cdots\r\nd_{1n}}\\)</span></li>\r\n</ul></li>\r\n<li><strong>电感：</strong>\r\n<ul>\r\n<li>架空线路正序电感：<span class=\"math inline\">\\(x_1=2\\pi\r\nfL_1=0.06283\\text{ln}\\frac{D_m}r+0.0157\\,(\\Omega/km)\\)</span></li>\r\n<li>分裂导线正序电感：<span class=\"math inline\">\\(x_1 =2\\pi\r\nfL_1=0.06283\\text{ln}\\frac{D_m}{r_{eq}}+\\frac{0.0157}n\\,(\\Omega/km)\\)</span></li>\r\n</ul></li>\r\n<li><strong>电纳：</strong>\r\n<ul>\r\n<li>架空线路正序电纳：<span class=\"math inline\">\\(b_1=2\\pi\r\nfC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}r}\\times10^{-6}(s/km)\\)</span></li>\r\n<li>分裂导线正序电纳：<span class=\"math inline\">\\(b_1=2\\pi\r\nfC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}{ r _{eq}}\r\n}\\times10^{-6}(s/km)\\)</span></li>\r\n</ul></li>\r\n<li>电晕临界电压：<span class=\"math inline\">\\(U_{cr}\\propto\r\nr\\text{lg}\\frac{D_m}r\\)</span></li>\r\n</ul>\r\n<h3 id=\"等值电路\">等值电路</h3>\r\n<p><strong>基本知识：</strong></p>\r\n<ul>\r\n<li><p>单位长度等值阻抗：<span\r\nclass=\"math inline\">\\(Z_1=r_1+jx_1\\)</span></p></li>\r\n<li><p>单位长度等值导纳：<span\r\nclass=\"math inline\">\\(Y_1=g_1+jb_1\\)</span></p></li>\r\n<li><p>波阻抗（特性阻抗）：<span\r\nclass=\"math inline\">\\(Z_c=\\sqrt{Z_1/Y_1}\\,(\\Omega)\\)</span>；传播系数：<span\r\nclass=\"math inline\">\\(\\gamma=\\sqrt{Z_1Y_1}=\\alpha+j\\beta\\)</span></p></li>\r\n<li><p>当电路达成<strong>匹配</strong>（<span\r\nclass=\"math inline\">\\(Z_c=Z_2\\)</span>）和<strong>无损耗</strong>（<span\r\nclass=\"math inline\">\\(g_1=r_1=0\\)</span>）时，有：</p>\r\n<p><span class=\"math display\">\\[\\begin{gather}\\begin{bmatrix}U \\\\ I\r\n\\end{bmatrix}=e^{j\\alpha x}\\begin{bmatrix}U_2 \\\\ I_2\r\n\\end{bmatrix}\\end{gather}\\]</span></p></li>\r\n<li><p><img src=\"\\image\\稳态01.png\" /></p></li>\r\n</ul>\r\n<p><strong>结论：</strong><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather}\\begin{cases}\r\n（中）100-300km的架空线或100km以内的电缆线：&amp;\r\n\\begin{cases}\r\nZ=Z_1l\\\\Y=Y_1l\r\n\\end{cases}\\\\\r\n（长）超300km的架空线或超100km的电缆线：&amp;\r\n\\begin{cases}\r\nZ=K_ZZ_1l\\\\Y=K_YY_1l\r\n\\end{cases}&amp;\r\n\\begin{cases}\r\nK_Z=1+\\frac{Z_1Y_1}6l^2\\\\K_Y=1-\\frac{Z_1Y_1}{12}l^2\r\n\\end{cases}\r\n\\\\\r\n（短）小于100km且电压低于35kV的架空线：&amp;将\\pi型等效电路的两个导纳删了\r\n\\end{cases}\\end{gather}\r\n\\]</span></p>\r\n<h2 id=\"变压器\">变压器</h2>\r\n<h3 id=\"双绕组变压器\">双绕组变压器</h3>\r\n<p>根据变压器内部的量值大小关系，简化双绕组变压器的电路图如下图所示：</p>\r\n<p><img src=\"\\image\\稳态02.png\" /></p>\r\n<p>也就是说，我们需要求出R,X,G<sub>m</sub>,B<sub>m</sub>四个量。下面给出变压器的基本参数和求解方法。</p>\r\n<p><strong>变压器参数：</strong>哪些东西是我们事先知道的</p>\r\n<ul>\r\n<li>变压器四个额定值：输入<span class=\"math inline\">\\(U_\r\n{1N},I_{1N}\\)</span>，输出<span class=\"math inline\">\\(U_{2N},I_\r\n{2N}\\)</span></li>\r\n<li>变压器额定容量：<span class=\"math inline\">\\(S_N=\\sqrt3U_\r\n{1N}I_{1N}=\\sqrt3U_ {2N}I_ {2N}\\)</span></li>\r\n<li>原理：输出有功功率跟电感、电容大小无关，因此通过这个可以知道电阻、电导的大小；已知电阻、电导远小于电抗、电纳，因此电压降基本只和电抗、电纳有关，通过求电压降得到电感、电容大小。</li>\r\n</ul>\r\n<p><strong>短路实验求R,X：</strong></p>\r\n<ul>\r\n<li>输出端短路<span\r\nclass=\"math inline\">\\(U_2=0\\)</span>，使左边达到额定电流<span\r\nclass=\"math inline\">\\(I_{1N}\\)</span>，记下此时的电压<span\r\nclass=\"math inline\">\\(U_{k}\\)</span>和输出功率<span\r\nclass=\"math inline\">\\(P_k\\)</span></li>\r\n<li><span class=\"math inline\">\\(R=\\frac{P_\r\nk}{3I_{1N}^2}=\\frac{P_k}{1000}\\frac{U_{1N}^2}{S _\r\n{N}^2}\\,(\\Omega)\\)</span></li>\r\n<li><span class=\"math inline\">\\(X=\\frac{U _k}{\\sqrt3I_ {1N}}=U_k\\frac{U_\r\n{1N}}{S_ N}=(\\frac{U _k}{U_{1N}})\\frac{U_ {1N}^2}{S\r\n_N}=\\frac{U_k\\%}{100}\\frac{U_ {1N}^2}{S _N}(\\Omega)\\)</span></li>\r\n</ul>\r\n<p><strong>开路实验求G,B：</strong></p>\r\n<ul>\r\n<li>输出端断路<span\r\nclass=\"math inline\">\\(I_2=0\\)</span>，使左边达到额定电压<span\r\nclass=\"math inline\">\\(U_{1N}\\)</span>，记下此时的电流<span\r\nclass=\"math inline\">\\(I_0\\)</span>和输出功率<span\r\nclass=\"math inline\">\\(P_0\\)</span></li>\r\n<li><span class=\"math inline\">\\(G _m=\\frac{P_ 0}{U _{1N}^2}\\times\r\n10^{-3}(s)\\)</span></li>\r\n<li><span class=\"math inline\">\\(B_ m=\\frac{\\sqrt3I_0}{U _{1N}}=(\\frac{I\r\n_0}{I_ {1N}})\\frac{S _N}{U_ {1N}^2}=\\frac{I_k\\%}{100}\\frac{S _N}{U_\r\n{1N}^2}(s)\\)</span>（<strong>一定要取负号！这个B<sub>m</sub>只是大小，感纳为负</strong>）</li>\r\n</ul>\r\n<h3 id=\"三绕组变压器\">三绕组变压器</h3>\r\n<p>三绕组变压器的公式与双绕组完全一样，但是多了两步。</p>\r\n<p><img src=\"\\image\\稳态03.png\" /></p>\r\n<p><strong>P和U的必要归算：</strong></p>\r\n<ul>\r\n<li>因为三绕组每次短路只能选两个端口，因此有三个电压和损耗功率，并且是由两条支路的数据平分。</li>\r\n<li><img src=\"\\image\\稳态04.png\" /></li>\r\n<li>电压（<span class=\"math inline\">\\(U_k%\\)</span>）写法一模一样。</li>\r\n</ul>\r\n<p><strong>因为额定容量不同导致的归算：</strong></p>\r\n<ul>\r\n<li>以100/50/100为例，仅有1-3侧能达到额定容量，剩下两个都只有一般的额定电压。因此<strong>要将<span\r\nclass=\"math inline\">\\(U\\)</span>乘上2，<span\r\nclass=\"math inline\">\\(P\\)</span>乘上4</strong>。</li>\r\n</ul>\r\n<p><strong>G和B：</strong></p>\r\n<ul>\r\n<li>不需要上面这么麻烦的算，直接整就好。见课本例题。</li>\r\n</ul>\r\n<p><strong>最大短路损耗：</strong></p>\r\n<ul>\r\n<li>有些厂家只提供了P<sub>kmax</sub>，那么就把这个当成<strong>容量最大的两个支路一起提供的损耗</strong>。然后<strong>电阻按照容量大小反向分配</strong>，即100/100/50就是两个100的电阻等大平分，50那组的电阻值大小就是100的两倍。比如：<span\r\nclass=\"math inline\">\\(R_1=R_2=\\frac12\\frac{P_{kmax}}{1000}\\frac{U_{1N}^2}{S_N^2}\\,;\\,R_3=2R_1\\)</span></li>\r\n</ul>\r\n<h3 id=\"自耦变压器\">自耦变压器</h3>\r\n<p><img src=\"\\image\\稳态05.png\" /></p>\r\n<ul>\r\n<li>变比：<span class=\"math inline\">\\(k_ {12}=\\frac{U _{1N}}{U_\r\n{2N}}=1+\\frac{\\omega _s}{\\omega _c}\\)</span></li>\r\n<li>效益系数：<span class=\"math inline\">\\(k_ b=\\frac{I_\r\n{com}}{I_2}=1-\\frac1{k _{12}}\\)</span></li>\r\n<li>通过磁耦合传递的最大功率（标准容量、设计容量）：<span\r\nclass=\"math inline\">\\(S_{st}=K_bS_N\\)</span></li>\r\n<li>其用铜量、短路损耗都是普通变压器的<span\r\nclass=\"math inline\">\\(K_b\\)</span>倍，其等值电路与普通变压器相同。</li>\r\n<li>三相自耦变压器，公共绕组不过载的条件：<span class=\"math inline\">\\(S_\r\n{com}=\\sqrt{(K _bP_1+P _3)^2+(K _bQ_1+Q _3)^2}&lt;K_ b S\r\n_N\\)</span></li>\r\n<li>三侧不过载条件：<span class=\"math inline\">\\(S_i&lt;\\eta\r\nS_N\\)</span>（<span\r\nclass=\"math inline\">\\(\\eta=\\frac{容量}{最大容量}\\)</span>）</li>\r\n</ul>\r\n<h2 id=\"同步发电机和调相机\">同步发电机和调相机</h2>\r\n<h3 id=\"同步发电机\">同步发电机</h3>\r\n<p><img src=\"\\image\\稳态06.png\" /></p>\r\n<p><strong>参数：</strong></p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 26%\" />\r\n<col style=\"width: 41%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>定子空载相电势</th>\r\n<th>每相绕组电阻</th>\r\n<th>定子纵轴、横轴同步电抗</th>\r\n<th>功率角（<span class=\"math inline\">\\(U\\)</span>和<span\r\nclass=\"math inline\">\\(E_q\\)</span>的夹角）</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(E_q\\)</span>或<span\r\nclass=\"math inline\">\\(jE_q\\)</span></td>\r\n<td><span class=\"math inline\">\\(r\\)</span></td>\r\n<td><span class=\"math inline\">\\(x_d,x_q\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\delta\\)</span>（注意和功率因数角区分！）</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 47%\" />\r\n<col style=\"width: 42%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>参数</th>\r\n<th>隐极发电机<span class=\"math inline\">\\((x_d=x_q)\\)</span></th>\r\n<th>凸极发电机</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电压方程</td>\r\n<td><span class=\"math inline\">\\(U=jE_q-(r+jx_q)I\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(U=jE_q-j(x_d-x_q)I_d-(r+jx_q)I\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>有功功率</td>\r\n<td><span\r\nclass=\"math inline\">\\(P=\\frac{E_qU}{x_d}\\text{sin}\\delta\\)</span></td>\r\n<td>爬</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>无功功率</td>\r\n<td>爬</td>\r\n<td>爬</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>其中，r，x<sub>d</sub>，x<sub>q</sub>可能会提供标么值、两种形式的百分值等。其转换如下（都一样的，以r为例）：\r\n<ul>\r\n<li><span\r\nclass=\"math inline\">\\(r=r_*\\frac{U_N^2}{S_N}=\\frac{r%}{100}\\frac{U_N^2}{S_N}\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h3 id=\"无功补偿设备\">无功补偿设备</h3>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 8%\" />\r\n<col style=\"width: 27%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 41%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th></th>\r\n<th>调相机</th>\r\n<th>并联电容</th>\r\n<th>并联电抗</th>\r\n<th>静止补偿器</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电压方程</td>\r\n<td><span class=\"math inline\">\\(U=E_q-jx_dI\\)</span></td>\r\n<td></td>\r\n<td></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>无功功率</td>\r\n<td><span class=\"math inline\">\\(Q=UI=\\frac{U(E_q-U)}{x_d}\\)</span></td>\r\n<td><span class=\"math inline\">\\(Q=U^2B_C\\)</span></td>\r\n<td><span class=\"math inline\">\\(Q=|U^2B_L|\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(Q=Q_C+Q_L=U^2(\\frac1{x_C}-\\frac1{x_L})\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"多级电力系统\">多级电力系统</h2>\r\n<p>方法：设定基本级——用实际变比归算到基本级——解归算后的网络——解耦至原级<br />\r\n<span class=\"math display\">\\[\r\nU&#39;=kU;I&#39;=\\frac{I}k;Z&#39;=k^2Z;Y&#39;=\\frac Y{k^2}\r\n\\]</span></p>\r\n<h3 id=\"标幺值\">标幺值</h3>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 26%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>三相功率</th>\r\n<th>线电压</th>\r\n<th>阻抗</th>\r\n<th>导纳</th>\r\n<th>电流</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><strong>基准值<span class=\"math inline\">\\(S_B\\)</span></strong></td>\r\n<td><strong>基准值<span class=\"math inline\">\\(U_B\\)</span></strong></td>\r\n<td><span class=\"math inline\">\\(Z_B=\\frac{U_B^2}{S_B}\\)</span></td>\r\n<td><span class=\"math inline\">\\(Y_B=\\frac{S_B}{U_B^2}\\)</span></td>\r\n<td><span class=\"math inline\">\\(I_B=\\frac{\\sqrt3S_B}{U_B}\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>方法：将<strong>基本级</strong>的<strong>基准值</strong>归算到各级（实际上只用归算U），然后用这个U和S<sub>B</sub>来计算各级的阻抗、导纳。</li>\r\n</ul>\r\n<h3 id=\"非标准变比\">非标准变比</h3>\r\n<p><img src=\"\\image\\稳态07.png\" /></p>\r\n<ul>\r\n<li><p>用变压器标准变比来归算（从基本级到各级），代价是把变压器的<span\r\nclass=\"math inline\">\\(\\tau\\)</span>型等值电路变成了<span\r\nclass=\"math inline\">\\(\\pi\\)</span>型，要复杂一点</p></li>\r\n<li><p>书里的图片不好，不应该用k，容易引起误导，应该用k<sup><em><sup>（从1到2是1:k</sup></em></sup>，注意顺序）</p>\r\n<ul>\r\n<li><span class=\"math display\">\\[\r\n\\frac{k^*}1\\cdot\\frac{U_{2B}}{U_{1B}}(标准变比)=\\frac{U_{2T}}{U_{1T}}(实际变比)\\Rightarrow\r\nk^*=\\frac{U_{2T}/U_{1T}}{U_{2B}/U_{1B}}\r\n\\]</span></li>\r\n</ul></li>\r\n</ul>\r\n<h1 id=\"三电力系统潮流计算\">三、电力系统潮流计算</h1>\r\n<h2 id=\"手算公式\">手算公式</h2>\r\n<h3 id=\"电力线路\">电力线路</h3>\r\n<p><img src=\"\\image\\稳态08.png\" /></p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 33%\" />\r\n<col style=\"width: 30%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th><span class=\"math inline\">\\(\\Delta U\\)</span></th>\r\n<th><span class=\"math inline\">\\(\\delta U\\)</span></th>\r\n<th><span class=\"math inline\">\\(\\frac B2\\)</span>损耗S(等于Q)</th>\r\n<th><span class=\"math inline\">\\(Z\\)</span>上损耗S(P+jQ)</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(\\frac{PR+QX}{U_j}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac{PX-QR}{U_j}\\)</span></td>\r\n<td><span class=\"math inline\">\\(-jU_i^2\\frac B2\\)</span>和<span\r\nclass=\"math inline\">\\(-jU_j^2\\frac B2\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{P_j^2+Q_j^2}{U_j^2}(R+jX)\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>一些简化：一般而言X远大于R，<span class=\"math inline\">\\(\\Delta\r\nU\\)</span>对电压的影响远大于<span class=\"math inline\">\\(\\delta\r\nU\\)</span></li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 20%\" />\r\n<col style=\"width: 23%\" />\r\n<col style=\"width: 24%\" />\r\n<col style=\"width: 18%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>电压降落</th>\r\n<th>电压损耗</th>\r\n<th>电压偏移</th>\r\n<th>电压调整</th>\r\n<th>输电效率</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(\\Delta U+j\\delta U\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_1-U_2}{U_N}\\times100\\%\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_{1/2}-U_N}{U_N}\\times100\\%\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_{20}-U_2}{U_{20}}\\times100\\%\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac{P_2}{P_1}\\times100\\%\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h3 id=\"变压器-1\">变压器</h3>\r\n<p>（为什么我没有什么印象感觉没做到过一样）</p>\r\n<ul>\r\n<li><span class=\"math inline\">\\(\\Delta\r\nP=\\frac{P^2+Q^2}{U_j^2}R_T+U_i^2G_T\\)</span></li>\r\n<li><span class=\"math inline\">\\(\\Delta\r\nQ=\\frac{P^2+Q^2}{U_j^2}X_T+U_i^2B_T\\)</span></li>\r\n</ul>\r\n<h3 id=\"手算潮流\">手算潮流</h3>\r\n<ul>\r\n<li><p>辐射型网络：功率推算过去，电压推算回来</p></li>\r\n<li><p>两端供电网：</p></li>\r\n</ul>\r\n<p><img src=\"\\image\\稳态09.png\" /></p>\r\n<ul>\r\n<li>环形供电网：\r\n<ul>\r\n<li>单电压级：任一点解环，用两端供电网求解，dU=0</li>\r\n<li>多电压级：阻抗端解环，<span class=\"math inline\">\\(\\text\r\ndU=U_A(\\frac1{k_1}-\\frac1{k_2})\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h2 id=\"电算潮流\">电算潮流</h2>\r\n<h3 id=\"数理基础推导\">数理基础推导</h3>\r\n<ul>\r\n<li><p><strong>节点电压方程（原方程）</strong>：<span\r\nclass=\"math inline\">\\(\\dot I_i=\\sum_j y_{ij}(\\dot U_i-\\dot\r\nU_j)\\)</span></p></li>\r\n<li><p>节点导纳矩阵：<span\r\nclass=\"math inline\">\\(Y=[y_{ij}]\\)</span>，其中<span\r\nclass=\"math inline\">\\(Y_{ij}=-y_{ij}\\,;\\,Y_{ii}=\\sum_{j=0}\r\ny_{ij}\\)</span></p>\r\n<ul>\r\n<li>得：<span class=\"math inline\">\\(\\dot I_i=\\sum_{j=1}Y_{ij}\\dot\r\nU_j\\)</span>，<span class=\"math inline\">\\(\\dot I=Y\\dot U\\)</span></li>\r\n</ul></li>\r\n<li><p>对地支路导纳只影响<span\r\nclass=\"math inline\">\\(y_{ii}\\)</span>，变压器节点要注意使用非标准变比的变压器<span\r\nclass=\"math inline\">\\(\\pi\\)</span>型等值电路等效，注意<span\r\nclass=\"math inline\">\\(1:k^*\\)</span>的方向</p></li>\r\n<li><p><strong>功率方程：</strong><span class=\"math inline\">\\(\\widetilde\r\nS_i=P_i+jQ_i=\\dot U_i I^*=\\dot\r\nU_i\\sum_{j=1}Y_{ij}^*U_j^*\\)</span></p></li>\r\n</ul>\r\n<h3 id=\"g-s计算法\">G-S计算法</h3>\r\n<ul>\r\n<li><strong>公式推导：</strong></li>\r\n</ul>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\nP_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*=\\dot\r\nU_i(Y_{ii}^*U_i^*+\\sum_{j\\neq i}Y_{ij}^*U_j^*)\\\\\r\n\\Rightarrow \\begin{cases}\r\nPQ:&amp;\\dot U_i=\\frac1{Y_{ii}}(\\frac{P+jQ}{U_i^*}-\\sum_{j\\neq\r\ni}Y_{ij}\\dot U_j)\\\\\r\nPV:&amp;Q_p=\\text{Im}(\\dot U_p\\sum_k Y_{pj}^*U_j^*)\r\n\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>[注]：PV节点也需要列写上面的电压修正方程，但是最后只修正相角不修正电压幅值。</p>\r\n<h3 id=\"n-r计算法\">N-R计算法</h3>\r\n<ul>\r\n<li><p>N-R方程：<span\r\nclass=\"math inline\">\\(y=f&#39;(x_0)(x-x_0)+f(x_0)=0\\Rightarrow x\r\n=x_0-\\frac{f(x_0)}{f&#39;(x_0)}\\)</span></p></li>\r\n<li><p><strong>理论依据：</strong><span\r\nclass=\"math inline\">\\(P_i+jQ_i=\\dot\r\nU_i\\sum_{j=1}Y_{ij}^*U_j^*\\)</span></p></li>\r\n</ul>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*} \\Rightarrow\r\n\\begin{cases}\r\nP_i=U_i\\sum_j(G_{ij}cos_{ij}+B_{ij}sin_{ij})\\\\Q_i=U_i\\sum_j(G_{ij}sin_{ij}-B_{ij}cos_{ij})\\\\\r\n\\end{cases}\r\n\\\\\\Rightarrow\r\n\\begin{cases}\r\n\\Delta P_i=\\sum_j(\\frac{\\partial\\Delta P}{\\partial\r\n\\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta P}{\\partial U_j}\\Delta\r\nU_j)=\\sum_j(H_{ij}\\Delta\\theta_j+N_{ij} \\Delta U_j/U_j)\r\n\\\\\\Delta Q_i=\\sum_j(\\frac{\\partial\\Delta Q}{\\partial\r\n\\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta Q}{\\partial U_j}\\Delta\r\nU_j)=\\sum_j(J_{ij}\\Delta\\theta_j+L_{ij} \\Delta U_j /U_j)\\\\\r\n\\end{cases}\\\\\r\n\\begin{bmatrix}\\Delta P\\\\\\Delta\r\nQ  \\end{bmatrix}=\\begin{bmatrix}H&amp;N\\\\J&amp;L\r\n\\end{bmatrix}=\\begin{bmatrix}\\Delta\\theta\\\\U^{-1}\\Delta U \\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p><img src=\"\\image\\稳态10.png\" /></p>\r\n<ul>\r\n<li>直角坐标形式：</li>\r\n</ul>\r\n<p><img src=\"\\image\\稳态11.png\" /></p>\r\n<p>要把PV节点的方程换成：<span\r\nclass=\"math inline\">\\(f_{Ui}=U_{is}-e^2-f^2\\)</span></p>\r\n<h3 id=\"p-q分解法\">P-Q分解法</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n简化：\\begin{cases}\r\ncos\\theta_{ij}\\approx1\\\\G_{ij}sin\\theta_{ij}&lt;&lt;B_{ij}\\\\Q_i(互导纳)&lt;&lt;U_i^2B_i(自导纳)\\\\\r\n\\end{cases}\r\n\\Rightarrow \\begin{cases} H_{ij}= L_{ij}\\approx\r\nU_iU_jB_{ij}\\\\N_{ij}=L_{ij}\\approx0 \\end{cases}\\\\\r\n\\Rightarrow \\begin{cases}\\Delta P=UB&#39;U\\Delta\\theta\\\\\\Delta\r\nQ=UB&#39;&#39;\\Delta U\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<ul>\r\n<li><p>好处：用一个n-1和一个n-m-1阶的方程组代替2(n-1)-m阶的方程组</p></li>\r\n<li><p>其中，<strong><span\r\nclass=\"math inline\">\\(B’\\)</span>是去掉平衡节点的节点导纳矩阵（的虚部），<span\r\nclass=\"math inline\">\\(B&#39;&#39;\\)</span>是去掉平衡节点和PV节点的节点导纳矩阵（的虚部）</strong>，<span\r\nclass=\"math inline\">\\(U\\)</span>是对角矩阵</p></li>\r\n</ul>\r\n<h3 id=\"直流潮流法\">直流潮流法</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n继续简化：\\begin{cases}g_{ij}=0,b_{ij}=-\\frac1{x_{ij}}\\\\U_i=1\\\\sin_{ij}=\\theta_i-\\theta_j\r\n\\end{cases}\\Rightarrow\\begin{cases}\r\n\\theta=(-B&#39;)P\\\\P_{ij}=\\frac{\\theta_i-\\theta_j}{x_{ij}}\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<p>【学习天地】电力系统稳态分析知识点整理 样卷\r\nhttps://www.cc98.org/topic/4901089\r\n复制本链接，打开【CC98】微信小程序，直接查看本帖！</p>\r\n<h1 id=\"二电力系统元件数学模型\">二、电力系统元件数学模型</h1>\r\n<h2 id=\"三相电力线路\">三相电力线路</h2>\r\n<h3 id=\"电路参数\">电路参数</h3>\r\n<p>在集总参数模型中，我们可以用四个量来表示电路，即L,R,C,G。</p>\r\n<ul>\r\n<li><strong>分裂导线：</strong>\r\n<ul>\r\n<li>每相导线的分裂导线的根数：n</li>\r\n<li>三相导线几何间距：<span class=\"math inline\">\\(D_m\r\n=\\sqrt[3]{D_{12}D_{23}D_{13}}\\)</span>；分裂导线内部导线等值半径：<span\r\nclass=\"math inline\">\\(r_{eq} =\\sqrt[n]{rd_{12}d_{13}\\cdots\r\nd_{1n}}\\)</span></li>\r\n</ul></li>\r\n<li><strong>电感：</strong>\r\n<ul>\r\n<li>架空线路正序电感：<span class=\"math inline\">\\(x_1=2\\pi\r\nfL_1=0.06283\\text{ln}\\frac{D_m}r+0.0157\\,(\\Omega/km)\\)</span></li>\r\n<li>分裂导线正序电感：<span class=\"math inline\">\\(x_1 =2\\pi\r\nfL_1=0.06283\\text{ln}\\frac{D_m}{r_{eq}}+\\frac{0.0157}n\\,(\\Omega/km)\\)</span></li>\r\n</ul></li>\r\n<li><strong>电纳：</strong>\r\n<ul>\r\n<li>架空线路正序电纳：<span class=\"math inline\">\\(b_1=2\\pi\r\nfC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}r}\\times10^{-6}(s/km)\\)</span></li>\r\n<li>分裂导线正序电纳：<span class=\"math inline\">\\(b_1=2\\pi\r\nfC_1=\\frac{17.45}{\\text{ln}\\frac{D_m}{ r _{eq}}\r\n}\\times10^{-6}(s/km)\\)</span></li>\r\n</ul></li>\r\n<li>电晕临界电压：<span class=\"math inline\">\\(U_{cr}\\propto\r\nr\\text{lg}\\frac{D_m}r\\)</span></li>\r\n</ul>\r\n<h3 id=\"等值电路\">等值电路</h3>\r\n<p><strong>基本知识：</strong></p>\r\n<ul>\r\n<li><p>单位长度等值阻抗：<span\r\nclass=\"math inline\">\\(Z_1=r_1+jx_1\\)</span></p></li>\r\n<li><p>单位长度等值导纳：<span\r\nclass=\"math inline\">\\(Y_1=g_1+jb_1\\)</span></p></li>\r\n<li><p>波阻抗（特性阻抗）：<span\r\nclass=\"math inline\">\\(Z_c=\\sqrt{Z_1/Y_1}\\,(\\Omega)\\)</span>；传播系数：<span\r\nclass=\"math inline\">\\(\\gamma=\\sqrt{Z_1Y_1}=\\alpha+j\\beta\\)</span></p></li>\r\n<li><p>当电路达成<strong>匹配</strong>（<span\r\nclass=\"math inline\">\\(Z_c=Z_2\\)</span>）和<strong>无损耗</strong>（<span\r\nclass=\"math inline\">\\(g_1=r_1=0\\)</span>）时，有：</p>\r\n<p><span class=\"math display\">\\[\\begin{gather}\\begin{bmatrix}U \\\\ I\r\n\\end{bmatrix}=e^{j\\alpha x}\\begin{bmatrix}U_2 \\\\ I_2\r\n\\end{bmatrix}\\end{gather}\\]</span></p></li>\r\n<li><p><img src=\"\\image\\稳态01.png\" /></p></li>\r\n</ul>\r\n<p><strong>结论：</strong><br />\r\n<span class=\"math display\">\\[\r\n\\begin{gather}\\begin{cases}\r\n（中）100-300km的架空线或100km以内的电缆线：&amp;\r\n\\begin{cases}\r\nZ=Z_1l\\\\Y=Y_1l\r\n\\end{cases}\\\\\r\n（长）超300km的架空线或超100km的电缆线：&amp;\r\n\\begin{cases}\r\nZ=K_ZZ_1l\\\\Y=K_YY_1l\r\n\\end{cases}&amp;\r\n\\begin{cases}\r\nK_Z=1+\\frac{Z_1Y_1}6l^2\\\\K_Y=1-\\frac{Z_1Y_1}{12}l^2\r\n\\end{cases}\r\n\\\\\r\n（短）小于100km且电压低于35kV的架空线：&amp;将\\pi型等效电路的两个导纳删了\r\n\\end{cases}\\end{gather}\r\n\\]</span></p>\r\n<h2 id=\"变压器\">变压器</h2>\r\n<h3 id=\"双绕组变压器\">双绕组变压器</h3>\r\n<p>根据变压器内部的量值大小关系，简化双绕组变压器的电路图如下图所示：</p>\r\n<p><img src=\"\\image\\稳态02.png\" /></p>\r\n<p>也就是说，我们需要求出R,X,G<sub>m</sub>,B<sub>m</sub>四个量。下面给出变压器的基本参数和求解方法。</p>\r\n<p><strong>变压器参数：</strong>哪些东西是我们事先知道的</p>\r\n<ul>\r\n<li>变压器四个额定值：输入<span class=\"math inline\">\\(U_\r\n{1N},I_{1N}\\)</span>，输出<span class=\"math inline\">\\(U_{2N},I_\r\n{2N}\\)</span></li>\r\n<li>变压器额定容量：<span class=\"math inline\">\\(S_N=\\sqrt3U_\r\n{1N}I_{1N}=\\sqrt3U_ {2N}I_ {2N}\\)</span></li>\r\n<li>原理：输出有功功率跟电感、电容大小无关，因此通过这个可以知道电阻、电导的大小；已知电阻、电导远小于电抗、电纳，因此电压降基本只和电抗、电纳有关，通过求电压降得到电感、电容大小。</li>\r\n</ul>\r\n<p><strong>短路实验求R,X：</strong></p>\r\n<ul>\r\n<li>输出端短路<span\r\nclass=\"math inline\">\\(U_2=0\\)</span>，使左边达到额定电流<span\r\nclass=\"math inline\">\\(I_{1N}\\)</span>，记下此时的电压<span\r\nclass=\"math inline\">\\(U_{k}\\)</span>和输出功率<span\r\nclass=\"math inline\">\\(P_k\\)</span></li>\r\n<li><span class=\"math inline\">\\(R=\\frac{P_\r\nk}{3I_{1N}^2}=\\frac{P_k}{1000}\\frac{U_{1N}^2}{S _\r\n{N}^2}\\,(\\Omega)\\)</span></li>\r\n<li><span class=\"math inline\">\\(X=\\frac{U _k}{\\sqrt3I_ {1N}}=U_k\\frac{U_\r\n{1N}}{S_ N}=(\\frac{U _k}{U_{1N}})\\frac{U_ {1N}^2}{S\r\n_N}=\\frac{U_k\\%}{100}\\frac{U_ {1N}^2}{S _N}(\\Omega)\\)</span></li>\r\n</ul>\r\n<p><strong>开路实验求G,B：</strong></p>\r\n<ul>\r\n<li>输出端断路<span\r\nclass=\"math inline\">\\(I_2=0\\)</span>，使左边达到额定电压<span\r\nclass=\"math inline\">\\(U_{1N}\\)</span>，记下此时的电流<span\r\nclass=\"math inline\">\\(I_0\\)</span>和输出功率<span\r\nclass=\"math inline\">\\(P_0\\)</span></li>\r\n<li><span class=\"math inline\">\\(G _m=\\frac{P_ 0}{U _{1N}^2}\\times\r\n10^{-3}(s)\\)</span></li>\r\n<li><span class=\"math inline\">\\(B_ m=\\frac{\\sqrt3I_0}{U _{1N}}=(\\frac{I\r\n_0}{I_ {1N}})\\frac{S _N}{U_ {1N}^2}=\\frac{I_k\\%}{100}\\frac{S _N}{U_\r\n{1N}^2}(s)\\)</span>（<strong>一定要取负号！这个B<sub>m</sub>只是大小，感纳为负</strong>）</li>\r\n</ul>\r\n<h3 id=\"三绕组变压器\">三绕组变压器</h3>\r\n<p>三绕组变压器的公式与双绕组完全一样，但是多了两步。</p>\r\n<p><img src=\"\\image\\稳态03.png\" /></p>\r\n<p><strong>P和U的必要归算：</strong></p>\r\n<ul>\r\n<li>因为三绕组每次短路只能选两个端口，因此有三个电压和损耗功率，并且是由两条支路的数据平分。</li>\r\n<li><img src=\"\\image\\稳态04.png\" /></li>\r\n<li>电压（<span class=\"math inline\">\\(U_k%\\)</span>）写法一模一样。</li>\r\n</ul>\r\n<p><strong>因为额定容量不同导致的归算：</strong></p>\r\n<ul>\r\n<li>以100/50/100为例，仅有1-3侧能达到额定容量，剩下两个都只有一般的额定电压。因此<strong>要将<span\r\nclass=\"math inline\">\\(U\\)</span>乘上2，<span\r\nclass=\"math inline\">\\(P\\)</span>乘上4</strong>。</li>\r\n</ul>\r\n<p><strong>G和B：</strong></p>\r\n<ul>\r\n<li>不需要上面这么麻烦的算，直接整就好。见课本例题。</li>\r\n</ul>\r\n<p><strong>最大短路损耗：</strong></p>\r\n<ul>\r\n<li>有些厂家只提供了P<sub>kmax</sub>，那么就把这个当成<strong>容量最大的两个支路一起提供的损耗</strong>。然后<strong>电阻按照容量大小反向分配</strong>，即100/100/50就是两个100的电阻等大平分，50那组的电阻值大小就是100的两倍。比如：<span\r\nclass=\"math inline\">\\(R_1=R_2=\\frac12\\frac{P_{kmax}}{1000}\\frac{U_{1N}^2}{S_N^2}\\,;\\,R_3=2R_1\\)</span></li>\r\n</ul>\r\n<h3 id=\"自耦变压器\">自耦变压器</h3>\r\n<p><img src=\"\\image\\稳态05.png\" /></p>\r\n<ul>\r\n<li>变比：<span class=\"math inline\">\\(k_ {12}=\\frac{U _{1N}}{U_\r\n{2N}}=1+\\frac{\\omega _s}{\\omega _c}\\)</span></li>\r\n<li>效益系数：<span class=\"math inline\">\\(k_ b=\\frac{I_\r\n{com}}{I_2}=1-\\frac1{k _{12}}\\)</span></li>\r\n<li>通过磁耦合传递的最大功率（标准容量、设计容量）：<span\r\nclass=\"math inline\">\\(S_{st}=K_bS_N\\)</span></li>\r\n<li>其用铜量、短路损耗都是普通变压器的<span\r\nclass=\"math inline\">\\(K_b\\)</span>倍，其等值电路与普通变压器相同。</li>\r\n<li>三相自耦变压器，公共绕组不过载的条件：<span class=\"math inline\">\\(S_\r\n{com}=\\sqrt{(K _bP_1+P _3)^2+(K _bQ_1+Q _3)^2}&lt;K_ b S\r\n_N\\)</span></li>\r\n<li>三侧不过载条件：<span class=\"math inline\">\\(S_i&lt;\\eta\r\nS_N\\)</span>（<span\r\nclass=\"math inline\">\\(\\eta=\\frac{容量}{最大容量}\\)</span>）</li>\r\n</ul>\r\n<h2 id=\"同步发电机和调相机\">同步发电机和调相机</h2>\r\n<h3 id=\"同步发电机\">同步发电机</h3>\r\n<p><img src=\"\\image\\稳态06.png\" /></p>\r\n<p><strong>参数：</strong></p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 26%\" />\r\n<col style=\"width: 41%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>定子空载相电势</th>\r\n<th>每相绕组电阻</th>\r\n<th>定子纵轴、横轴同步电抗</th>\r\n<th>功率角（<span class=\"math inline\">\\(U\\)</span>和<span\r\nclass=\"math inline\">\\(E_q\\)</span>的夹角）</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(E_q\\)</span>或<span\r\nclass=\"math inline\">\\(jE_q\\)</span></td>\r\n<td><span class=\"math inline\">\\(r\\)</span></td>\r\n<td><span class=\"math inline\">\\(x_d,x_q\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\delta\\)</span>（注意和功率因数角区分！）</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 47%\" />\r\n<col style=\"width: 42%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>参数</th>\r\n<th>隐极发电机<span class=\"math inline\">\\((x_d=x_q)\\)</span></th>\r\n<th>凸极发电机</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电压方程</td>\r\n<td><span class=\"math inline\">\\(U=jE_q-(r+jx_q)I\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(U=jE_q-j(x_d-x_q)I_d-(r+jx_q)I\\)</span></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>有功功率</td>\r\n<td><span\r\nclass=\"math inline\">\\(P=\\frac{E_qU}{x_d}\\text{sin}\\delta\\)</span></td>\r\n<td>爬</td>\r\n</tr>\r\n<tr class=\"odd\">\r\n<td>无功功率</td>\r\n<td>爬</td>\r\n<td>爬</td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>其中，r，x<sub>d</sub>，x<sub>q</sub>可能会提供标么值、两种形式的百分值等。其转换如下（都一样的，以r为例）：\r\n<ul>\r\n<li><span\r\nclass=\"math inline\">\\(r=r_*\\frac{U_N^2}{S_N}=\\frac{r%}{100}\\frac{U_N^2}{S_N}\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h3 id=\"无功补偿设备\">无功补偿设备</h3>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 8%\" />\r\n<col style=\"width: 27%\" />\r\n<col style=\"width: 10%\" />\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 41%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th></th>\r\n<th>调相机</th>\r\n<th>并联电容</th>\r\n<th>并联电抗</th>\r\n<th>静止补偿器</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td>电压方程</td>\r\n<td><span class=\"math inline\">\\(U=E_q-jx_dI\\)</span></td>\r\n<td></td>\r\n<td></td>\r\n<td></td>\r\n</tr>\r\n<tr class=\"even\">\r\n<td>无功功率</td>\r\n<td><span class=\"math inline\">\\(Q=UI=\\frac{U(E_q-U)}{x_d}\\)</span></td>\r\n<td><span class=\"math inline\">\\(Q=U^2B_C\\)</span></td>\r\n<td><span class=\"math inline\">\\(Q=|U^2B_L|\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(Q=Q_C+Q_L=U^2(\\frac1{x_C}-\\frac1{x_L})\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h2 id=\"多级电力系统\">多级电力系统</h2>\r\n<p>方法：设定基本级——用实际变比归算到基本级——解归算后的网络——解耦至原级<br />\r\n<span class=\"math display\">\\[\r\nU&#39;=kU;I&#39;=\\frac{I}k;Z&#39;=k^2Z;Y&#39;=\\frac Y{k^2}\r\n\\]</span></p>\r\n<h3 id=\"标幺值\">标幺值</h3>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 14%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 22%\" />\r\n<col style=\"width: 26%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>三相功率</th>\r\n<th>线电压</th>\r\n<th>阻抗</th>\r\n<th>导纳</th>\r\n<th>电流</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><strong>基准值<span class=\"math inline\">\\(S_B\\)</span></strong></td>\r\n<td><strong>基准值<span class=\"math inline\">\\(U_B\\)</span></strong></td>\r\n<td><span class=\"math inline\">\\(Z_B=\\frac{U_B^2}{S_B}\\)</span></td>\r\n<td><span class=\"math inline\">\\(Y_B=\\frac{S_B}{U_B^2}\\)</span></td>\r\n<td><span class=\"math inline\">\\(I_B=\\frac{\\sqrt3S_B}{U_B}\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>方法：将<strong>基本级</strong>的<strong>基准值</strong>归算到各级（实际上只用归算U），然后用这个U和S<sub>B</sub>来计算各级的阻抗、导纳。</li>\r\n</ul>\r\n<h3 id=\"非标准变比\">非标准变比</h3>\r\n<p><img src=\"\\image\\稳态07.png\" /></p>\r\n<ul>\r\n<li><p>用变压器标准变比来归算（从基本级到各级），代价是把变压器的<span\r\nclass=\"math inline\">\\(\\tau\\)</span>型等值电路变成了<span\r\nclass=\"math inline\">\\(\\pi\\)</span>型，要复杂一点</p></li>\r\n<li><p>书里的图片不好，不应该用k，容易引起误导，应该用k<sup><em><sup>（从1到2是1:k</sup></em></sup>，注意顺序）</p>\r\n<ul>\r\n<li><span class=\"math display\">\\[\r\n\\frac{k^*}1\\cdot\\frac{U_{2B}}{U_{1B}}(标准变比)=\\frac{U_{2T}}{U_{1T}}(实际变比)\\Rightarrow\r\nk^*=\\frac{U_{2T}/U_{1T}}{U_{2B}/U_{1B}}\r\n\\]</span></li>\r\n</ul></li>\r\n</ul>\r\n<h1 id=\"三电力系统潮流计算\">三、电力系统潮流计算</h1>\r\n<h2 id=\"手算公式\">手算公式</h2>\r\n<h3 id=\"电力线路\">电力线路</h3>\r\n<p><img src=\"\\image\\稳态08.png\" /></p>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 17%\" />\r\n<col style=\"width: 33%\" />\r\n<col style=\"width: 30%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th><span class=\"math inline\">\\(\\Delta U\\)</span></th>\r\n<th><span class=\"math inline\">\\(\\delta U\\)</span></th>\r\n<th><span class=\"math inline\">\\(\\frac B2\\)</span>损耗S(等于Q)</th>\r\n<th><span class=\"math inline\">\\(Z\\)</span>上损耗S(P+jQ)</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(\\frac{PR+QX}{U_j}\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac{PX-QR}{U_j}\\)</span></td>\r\n<td><span class=\"math inline\">\\(-jU_i^2\\frac B2\\)</span>和<span\r\nclass=\"math inline\">\\(-jU_j^2\\frac B2\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{P_j^2+Q_j^2}{U_j^2}(R+jX)\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<ul>\r\n<li>一些简化：一般而言X远大于R，<span class=\"math inline\">\\(\\Delta\r\nU\\)</span>对电压的影响远大于<span class=\"math inline\">\\(\\delta\r\nU\\)</span></li>\r\n</ul>\r\n<table>\r\n<colgroup>\r\n<col style=\"width: 12%\" />\r\n<col style=\"width: 20%\" />\r\n<col style=\"width: 23%\" />\r\n<col style=\"width: 24%\" />\r\n<col style=\"width: 18%\" />\r\n</colgroup>\r\n<thead>\r\n<tr class=\"header\">\r\n<th>电压降落</th>\r\n<th>电压损耗</th>\r\n<th>电压偏移</th>\r\n<th>电压调整</th>\r\n<th>输电效率</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n<tr class=\"odd\">\r\n<td><span class=\"math inline\">\\(\\Delta U+j\\delta U\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_1-U_2}{U_N}\\times100\\%\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_{1/2}-U_N}{U_N}\\times100\\%\\)</span></td>\r\n<td><span\r\nclass=\"math inline\">\\(\\frac{U_{20}-U_2}{U_{20}}\\times100\\%\\)</span></td>\r\n<td><span class=\"math inline\">\\(\\frac{P_2}{P_1}\\times100\\%\\)</span></td>\r\n</tr>\r\n</tbody>\r\n</table>\r\n<h3 id=\"变压器-1\">变压器</h3>\r\n<p>（为什么我没有什么印象感觉没做到过一样）</p>\r\n<ul>\r\n<li><span class=\"math inline\">\\(\\Delta\r\nP=\\frac{P^2+Q^2}{U_j^2}R_T+U_i^2G_T\\)</span></li>\r\n<li><span class=\"math inline\">\\(\\Delta\r\nQ=\\frac{P^2+Q^2}{U_j^2}X_T+U_i^2B_T\\)</span></li>\r\n</ul>\r\n<h3 id=\"手算潮流\">手算潮流</h3>\r\n<ul>\r\n<li><p>辐射型网络：功率推算过去，电压推算回来</p></li>\r\n<li><p>两端供电网：</p></li>\r\n</ul>\r\n<p><img src=\"\\image\\稳态09.png\" /></p>\r\n<ul>\r\n<li>环形供电网：\r\n<ul>\r\n<li>单电压级：任一点解环，用两端供电网求解，dU=0</li>\r\n<li>多电压级：阻抗端解环，<span class=\"math inline\">\\(\\text\r\ndU=U_A(\\frac1{k_1}-\\frac1{k_2})\\)</span></li>\r\n</ul></li>\r\n</ul>\r\n<h2 id=\"电算潮流\">电算潮流</h2>\r\n<h3 id=\"数理基础推导\">数理基础推导</h3>\r\n<ul>\r\n<li><p><strong>节点电压方程（原方程）</strong>：<span\r\nclass=\"math inline\">\\(\\dot I_i=\\sum_j y_{ij}(\\dot U_i-\\dot\r\nU_j)\\)</span></p></li>\r\n<li><p>节点导纳矩阵：<span\r\nclass=\"math inline\">\\(Y=[y_{ij}]\\)</span>，其中<span\r\nclass=\"math inline\">\\(Y_{ij}=-y_{ij}\\,;\\,Y_{ii}=\\sum_{j=0}\r\ny_{ij}\\)</span></p>\r\n<ul>\r\n<li>得：<span class=\"math inline\">\\(\\dot I_i=\\sum_{j=1}Y_{ij}\\dot\r\nU_j\\)</span>，<span class=\"math inline\">\\(\\dot I=Y\\dot U\\)</span></li>\r\n</ul></li>\r\n<li><p>对地支路导纳只影响<span\r\nclass=\"math inline\">\\(y_{ii}\\)</span>，变压器节点要注意使用非标准变比的变压器<span\r\nclass=\"math inline\">\\(\\pi\\)</span>型等值电路等效，注意<span\r\nclass=\"math inline\">\\(1:k^*\\)</span>的方向</p></li>\r\n<li><p><strong>功率方程：</strong><span class=\"math inline\">\\(\\widetilde\r\nS_i=P_i+jQ_i=\\dot U_i I^*=\\dot\r\nU_i\\sum_{j=1}Y_{ij}^*U_j^*\\)</span></p></li>\r\n</ul>\r\n<h3 id=\"g-s计算法\">G-S计算法</h3>\r\n<ul>\r\n<li><strong>公式推导：</strong></li>\r\n</ul>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\nP_i+jQ_i=\\dot U_i\\sum_{j=1}Y_{ij}^*U_j^*=\\dot\r\nU_i(Y_{ii}^*U_i^*+\\sum_{j\\neq i}Y_{ij}^*U_j^*)\\\\\r\n\\Rightarrow \\begin{cases}\r\nPQ:&amp;\\dot U_i=\\frac1{Y_{ii}}(\\frac{P+jQ}{U_i^*}-\\sum_{j\\neq\r\ni}Y_{ij}\\dot U_j)\\\\\r\nPV:&amp;Q_p=\\text{Im}(\\dot U_p\\sum_k Y_{pj}^*U_j^*)\r\n\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p>[注]：PV节点也需要列写上面的电压修正方程，但是最后只修正相角不修正电压幅值。</p>\r\n<h3 id=\"n-r计算法\">N-R计算法</h3>\r\n<ul>\r\n<li><p>N-R方程：<span\r\nclass=\"math inline\">\\(y=f&#39;(x_0)(x-x_0)+f(x_0)=0\\Rightarrow x\r\n=x_0-\\frac{f(x_0)}{f&#39;(x_0)}\\)</span></p></li>\r\n<li><p><strong>理论依据：</strong><span\r\nclass=\"math inline\">\\(P_i+jQ_i=\\dot\r\nU_i\\sum_{j=1}Y_{ij}^*U_j^*\\)</span></p></li>\r\n</ul>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*} \\Rightarrow\r\n\\begin{cases}\r\nP_i=U_i\\sum_j(G_{ij}cos_{ij}+B_{ij}sin_{ij})\\\\Q_i=U_i\\sum_j(G_{ij}sin_{ij}-B_{ij}cos_{ij})\\\\\r\n\\end{cases}\r\n\\\\\\Rightarrow\r\n\\begin{cases}\r\n\\Delta P_i=\\sum_j(\\frac{\\partial\\Delta P}{\\partial\r\n\\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta P}{\\partial U_j}\\Delta\r\nU_j)=\\sum_j(H_{ij}\\Delta\\theta_j+N_{ij} \\Delta U_j/U_j)\r\n\\\\\\Delta Q_i=\\sum_j(\\frac{\\partial\\Delta Q}{\\partial\r\n\\theta_j}\\Delta\\theta_j+\\frac{\\partial\\Delta Q}{\\partial U_j}\\Delta\r\nU_j)=\\sum_j(J_{ij}\\Delta\\theta_j+L_{ij} \\Delta U_j /U_j)\\\\\r\n\\end{cases}\\\\\r\n\\begin{bmatrix}\\Delta P\\\\\\Delta\r\nQ  \\end{bmatrix}=\\begin{bmatrix}H&amp;N\\\\J&amp;L\r\n\\end{bmatrix}=\\begin{bmatrix}\\Delta\\theta\\\\U^{-1}\\Delta U \\end{bmatrix}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<p><img src=\"\\image\\稳态10.png\" /></p>\r\n<ul>\r\n<li>直角坐标形式：</li>\r\n</ul>\r\n<p><img src=\"\\image\\稳态11.png\" /></p>\r\n<p>要把PV节点的方程换成：<span\r\nclass=\"math inline\">\\(f_{Ui}=U_{is}-e^2-f^2\\)</span></p>\r\n<h3 id=\"p-q分解法\">P-Q分解法</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n简化：\\begin{cases}\r\ncos\\theta_{ij}\\approx1\\\\G_{ij}sin\\theta_{ij}&lt;&lt;B_{ij}\\\\Q_i(互导纳)&lt;&lt;U_i^2B_i(自导纳)\\\\\r\n\\end{cases}\r\n\\Rightarrow \\begin{cases} H_{ij}= L_{ij}\\approx\r\nU_iU_jB_{ij}\\\\N_{ij}=L_{ij}\\approx0 \\end{cases}\\\\\r\n\\Rightarrow \\begin{cases}\\Delta P=UB&#39;U\\Delta\\theta\\\\\\Delta\r\nQ=UB&#39;&#39;\\Delta U\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n<ul>\r\n<li><p>好处：用一个n-1和一个n-m-1阶的方程组代替2(n-1)-m阶的方程组</p></li>\r\n<li><p>其中，<strong><span\r\nclass=\"math inline\">\\(B’\\)</span>是去掉平衡节点的节点导纳矩阵（的虚部），<span\r\nclass=\"math inline\">\\(B&#39;&#39;\\)</span>是去掉平衡节点和PV节点的节点导纳矩阵（的虚部）</strong>，<span\r\nclass=\"math inline\">\\(U\\)</span>是对角矩阵</p></li>\r\n</ul>\r\n<h3 id=\"直流潮流法\">直流潮流法</h3>\r\n<p><span class=\"math display\">\\[\r\n\\begin{gather*}\r\n继续简化：\\begin{cases}g_{ij}=0,b_{ij}=-\\frac1{x_{ij}}\\\\U_i=1\\\\sin_{ij}=\\theta_i-\\theta_j\r\n\\end{cases}\\Rightarrow\\begin{cases}\r\n\\theta=(-B&#39;)P\\\\P_{ij}=\\frac{\\theta_i-\\theta_j}{x_{ij}}\\end{cases}\r\n\\end{gather*}\r\n\\]</span></p>\r\n"},{"title":"电气学院大二（春夏）课程笔记汇总","top_img":"/image/top3.jpg","mathjax":true,"cover":"https://th.bing.com/th/id/R.b3524ee6b2b60929072ed23fd945d3c6?rik=xo7TWOVWse7R6g&riu=http%3a%2f%2fsinastorage.com%2fstorage.caitou.sina.com.cn%2fproducts%2f201712%2f9fe1bdefa6c0317a577a5d210b4f94a7.jpeg&ehk=%2f4npcM1m1h22oSoMrd6vtrRW4XMwssvCkf9uQeO5XZk%3d&risl=&pid=ImgRaw&r=0&sres=1&sresct=1","description":"包含：信号、模电、工磁、人工智能与物联网","post_meta":{"page":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true},"post":{"date_type":"both","date_format":"date","categories":true,"tags":true,"label":true}},"copyright_author":"Paradox","copyright_author_href":"https://github.com/ParadoxTZ","copyright_info":"此文章版权归Paradox所有，如有转载，请注明来自原作者#","_content":"\n## 电气学院大二（春夏）课程笔记汇总\n\n欢迎关注我的公众号“熬夜波比的电院日常”。\n\n\n---\n\n### 信号\n\n<a href=\"\\myfile\\信号.pdf\" target=\"_blank\">信号笔记（PDF）</a>\n\n<a href=\"\\myfile\\张健复习PPT.pdf\" target=\"_blank\">张健复习PPT</a>\n\n<a href=\"\\myfile\\公式附录（考试）.pdf\" target=\"_blank\">公式附录（考试）</a>\n\n### 模电\n\n大家可以去找一下朵朵菜菜的笔记，这里文件太大传不上来。\n\n<a href=\"\\myfile\\电路与电子技术(2)笔记.pdf\" target=\"_blank\">电路与电子技术(2)笔记</a>\n\n<a href=\"\\myfile\\《模拟电子技术基础》童诗白  第四版.pdf\" target=\"_blank\">电子书</a>\n\n<a href=\"\\myfile\\《电路与电子技术II》模电 期末复习.pdf\" target=\"_blank\">蔡忠法复习PPT</a>\n\n### 工磁\n\n<a href=\"\\myfile\\工程电磁场与波.pdf\" target=\"_blank\">工程电磁场与波</a>\n\n### 人工智能与物联网\n\n<a href=\"\\myfile\\人工智能与物联网CheatSheet.pdf\" target=\"_blank\">人工智能与物联网CheatSheet</a>\n\n### 电工电子实习\n\n{% btn 'https://mp.weixin.qq.com/s/Ao07Oi7A92OJ8S7i1vfT6Q',Click,far fa-hand-point-right,center,larger %}\n\n","source":"_posts/电气学院大二下课程汇总.md","raw":"---\ntitle: 电气学院大二（春夏）课程笔记汇总\ntop_img: /image/top3.jpg\nmathjax: true\ncover: https://th.bing.com/th/id/R.b3524ee6b2b60929072ed23fd945d3c6?rik=xo7TWOVWse7R6g&riu=http%3a%2f%2fsinastorage.com%2fstorage.caitou.sina.com.cn%2fproducts%2f201712%2f9fe1bdefa6c0317a577a5d210b4f94a7.jpeg&ehk=%2f4npcM1m1h22oSoMrd6vtrRW4XMwssvCkf9uQeO5XZk%3d&risl=&pid=ImgRaw&r=0&sres=1&sresct=1\ndescription: 包含：信号、模电、工磁、人工智能与物联网\ntags: \n  - 电气\n  - 笔记\n  - 大二\n  - 课程资料\ncategories: 课程\n\npost_meta:\n  page:\n    date_type: both # created or updated or both 主页文章日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 主页是否显示分类\n    tags: true # true or false 主页是否显示标签\n    label: true # true or false 显示描述性文字\n  post:\n    date_type: both # created or updated or both 文章页日期是创建日或者更新日或都显示\n    date_format: date # date/relative 显示日期还是相对日期\n    categories: true # true or false 文章页是否显示分类\n    tags: true # true or false 文章页是否显示标签\n    label: true # true or false 显示描述性文字\n\ncopyright_author: Paradox\ncopyright_author_href: https://github.com/ParadoxTZ\ncopyright_info: 此文章版权归Paradox所有，如有转载，请注明来自原作者# \n---\n\n## 电气学院大二（春夏）课程笔记汇总\n\n欢迎关注我的公众号“熬夜波比的电院日常”。\n\n\n---\n\n### 信号\n\n<a href=\"\\myfile\\信号.pdf\" target=\"_blank\">信号笔记（PDF）</a>\n\n<a href=\"\\myfile\\张健复习PPT.pdf\" target=\"_blank\">张健复习PPT</a>\n\n<a href=\"\\myfile\\公式附录（考试）.pdf\" target=\"_blank\">公式附录（考试）</a>\n\n### 模电\n\n大家可以去找一下朵朵菜菜的笔记，这里文件太大传不上来。\n\n<a href=\"\\myfile\\电路与电子技术(2)笔记.pdf\" target=\"_blank\">电路与电子技术(2)笔记</a>\n\n<a href=\"\\myfile\\《模拟电子技术基础》童诗白  第四版.pdf\" target=\"_blank\">电子书</a>\n\n<a href=\"\\myfile\\《电路与电子技术II》模电 期末复习.pdf\" target=\"_blank\">蔡忠法复习PPT</a>\n\n### 工磁\n\n<a href=\"\\myfile\\工程电磁场与波.pdf\" target=\"_blank\">工程电磁场与波</a>\n\n### 人工智能与物联网\n\n<a href=\"\\myfile\\人工智能与物联网CheatSheet.pdf\" target=\"_blank\">人工智能与物联网CheatSheet</a>\n\n### 电工电子实习\n\n{% btn 'https://mp.weixin.qq.com/s/Ao07Oi7A92OJ8S7i1vfT6Q',Click,far fa-hand-point-right,center,larger %}\n\n","slug":"电气学院大二下课程汇总","published":1,"date":"2023-09-26T10:33:14.849Z","updated":"2023-09-26T12:00:19.048Z","comments":1,"layout":"post","photos":[],"link":"","_id":"clojorf0n00279kthdsgd4tcm","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><h2\r\nid=\"电气学院大二春夏课程笔记汇总\">电气学院大二（春夏）课程笔记汇总</h2>\r\n<p>欢迎关注我的公众号“熬夜波比的电院日常”。</p>\r\n<hr />\r\n<h3 id=\"信号\">信号</h3>\r\n<p><a href=\"\\myfile\\信号.pdf\" target=\"_blank\">信号笔记（PDF）</a></p>\r\n<p><a href=\"\\myfile\\张健复习PPT.pdf\" target=\"_blank\">张健复习PPT</a></p>\r\n<p><a href=\"\\myfile\\公式附录（考试）.pdf\" target=\"_blank\">公式附录（考试）</a></p>\r\n<h3 id=\"模电\">模电</h3>\r\n<p>大家可以去找一下朵朵菜菜的笔记，这里文件太大传不上来。</p>\r\n<p><a href=\"\\myfile\\电路与电子技术(2)笔记.pdf\" target=\"_blank\">电路与电子技术(2)笔记</a></p>\r\n<p><a href=\"\\myfile\\《模拟电子技术基础》童诗白  第四版.pdf\" target=\"_blank\">电子书</a></p>\r\n<p><a href=\"\\myfile\\《电路与电子技术II》模电 期末复习.pdf\" target=\"_blank\">蔡忠法复习PPT</a></p>\r\n<h3 id=\"工磁\">工磁</h3>\r\n<p><a href=\"\\myfile\\工程电磁场与波.pdf\" target=\"_blank\">工程电磁场与波</a></p>\r\n<h3 id=\"人工智能与物联网\">人工智能与物联网</h3>\r\n<p><a href=\"\\myfile\\人工智能与物联网CheatSheet.pdf\" target=\"_blank\">人工智能与物联网CheatSheet</a></p>\r\n<h3 id=\"电工电子实习\">电工电子实习</h3>\r\n<a class=\"btn-beautify center\" href=\"https://mp.weixin.qq.com/s/Ao07Oi7A92OJ8S7i1vfT6Q\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n","site":{"data":{"link":[{"class_name":"友情链接","class_desc":"","link_list":[{"name":"KLBB的小窝","link":"https://zjuklbb.top/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"感谢KLBB的指导"}]},{"class_name":"一些有趣的网站","class_desc":"","link_list":[{"name":"配色网站","link":"https://mycolor.space/","avatar":"/image/wyVe7uLQ_400x400.jpg","descr":"美化你的颜色搭配"},{"name":"青柠起始页","link":"https://limestart.cn/","avatar":"https://www.fy6b.com/wp-content/uploads/2022/01/2022012108065459.jpg","descr":"简洁优美的起始页"},{"name":"Civitai","link":"https://civitai.com","avatar":"https://nimg.ws.126.net/?url=http%3A%2F%2Fdingyue.ws.126.net%2F2023%2F0221%2F39245a8fj00rqe0au014hd000ls00tcp.jpg&thumbnail=660x2147483647&quality=80&type=jpg","descr":"好用的SD模型网站"},{"name":"SD标签超市","link":"https://tags.novelai.dev/","avatar":"http://t13.baidu.com/it/u=2179439742,3852647689&fm=224&app=112&f=JPEG?w=342&h=500","descr":"构建Danbooru标签组合"}]},{"class_name":"大佬的实用网站","class_desc":"","link_list":[{"name":"Butterfly","link":"https://butterfly.js.org/","avatar":"https://d33wubrfki0l68.cloudfront.net/6657ba50e702d84afb32fe846bed54fba1a77add/827ae/logo.svg","descr":"Jerry大佬的Hexo模板"}]}]}},"cover_type":"img","excerpt":"","more":"<h2\r\nid=\"电气学院大二春夏课程笔记汇总\">电气学院大二（春夏）课程笔记汇总</h2>\r\n<p>欢迎关注我的公众号“熬夜波比的电院日常”。</p>\r\n<hr />\r\n<h3 id=\"信号\">信号</h3>\r\n<p><a href=\"\\myfile\\信号.pdf\" target=\"_blank\">信号笔记（PDF）</a></p>\r\n<p><a href=\"\\myfile\\张健复习PPT.pdf\" target=\"_blank\">张健复习PPT</a></p>\r\n<p><a href=\"\\myfile\\公式附录（考试）.pdf\" target=\"_blank\">公式附录（考试）</a></p>\r\n<h3 id=\"模电\">模电</h3>\r\n<p>大家可以去找一下朵朵菜菜的笔记，这里文件太大传不上来。</p>\r\n<p><a href=\"\\myfile\\电路与电子技术(2)笔记.pdf\" target=\"_blank\">电路与电子技术(2)笔记</a></p>\r\n<p><a href=\"\\myfile\\《模拟电子技术基础》童诗白  第四版.pdf\" target=\"_blank\">电子书</a></p>\r\n<p><a href=\"\\myfile\\《电路与电子技术II》模电 期末复习.pdf\" target=\"_blank\">蔡忠法复习PPT</a></p>\r\n<h3 id=\"工磁\">工磁</h3>\r\n<p><a href=\"\\myfile\\工程电磁场与波.pdf\" target=\"_blank\">工程电磁场与波</a></p>\r\n<h3 id=\"人工智能与物联网\">人工智能与物联网</h3>\r\n<p><a href=\"\\myfile\\人工智能与物联网CheatSheet.pdf\" target=\"_blank\">人工智能与物联网CheatSheet</a></p>\r\n<h3 id=\"电工电子实习\">电工电子实习</h3>\r\n<a class=\"btn-beautify center\" href=\"https://mp.weixin.qq.com/s/Ao07Oi7A92OJ8S7i1vfT6Q\" \n  title=\"Click\"><i class=\"far fa-hand-point-right\"></i><span>Click</span></a>\r\n"}],"PostAsset":[],"PostCategory":[{"post_id":"clojorf0300019kth98rj9rd3","category_id":"clojorf0700049kth36gz3kav","_id":"clojorf0c000i9kthgi992oxm"},{"post_id":"clojorf0b000f9kthca6n07af","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0e000o9kthf2uz3zdz"},{"post_id":"clojorf0900079kth2n4peu2p","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0f000s9kth6ehv667q"},{"post_id":"clojorf0c000h9kthgmbp6hrx","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0g000u9kth8nj18yzp"},{"post_id":"clojorf0d000m9kth96s12ril","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0g000x9kthhxv2bc4w"},{"post_id":"clojorf0900099kth2wb36gff","category_id":"clojorf0d000j9ktha4ad6ug6","_id":"clojorf0g000z9kth3oql32w0"},{"post_id":"clojorf0a000b9kthc17v66dq","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0g00109kth5me558c4"},{"post_id":"clojorf0m00229kthg8qqce65","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0n00289kthh3hyevok"},{"post_id":"clojorf0n00259kthc9r1brxq","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0o002a9kthfqr4b5kf"},{"post_id":"clojorf0n00279kthdsgd4tcm","category_id":"clojorf0b000c9kth0bycfu94","_id":"clojorf0o002d9kthgau5as13"},{"post_id":"clojorf0l00219kthezmg13zf","category_id":"clojorf0m00239kth8h161duo","_id":"clojorf0o002f9kth58ksgomr"}],"PostTag":[{"post_id":"clojorf0300019kth98rj9rd3","tag_id":"clojorf0800059kth77i98w5u","_id":"clojorf0f000t9kth96r46bra"},{"post_id":"clojorf0300019kth98rj9rd3","tag_id":"clojorf0b000d9kthhtzdbsit","_id":"clojorf0g000v9kth0ndtgi6d"},{"post_id":"clojorf0300019kth98rj9rd3","tag_id":"clojorf0d000k9kthbd862ms0","_id":"clojorf0g000y9kth3tnogt22"},{"post_id":"clojorf0900079kth2n4peu2p","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0h00139kthb94878ef"},{"post_id":"clojorf0900079kth2n4peu2p","tag_id":"clojorf0g000w9kth0cvqdhze","_id":"clojorf0h00149kth933b5ox1"},{"post_id":"clojorf0900079kth2n4peu2p","tag_id":"clojorf0g00119kth7u9rhs2t","_id":"clojorf0h00169kthdqi62qt5"},{"post_id":"clojorf0900099kth2wb36gff","tag_id":"clojorf0h00129kth37q5hb47","_id":"clojorf0h00189kthf8b3c8tz"},{"post_id":"clojorf0900099kth2wb36gff","tag_id":"clojorf0h00159kth7cpp72xd","_id":"clojorf0h00199kthh0zu4ons"},{"post_id":"clojorf0a000b9kthc17v66dq","tag_id":"clojorf0g00119kth7u9rhs2t","_id":"clojorf0i001d9kthgsfn2tuc"},{"post_id":"clojorf0a000b9kthc17v66dq","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0i001e9kth69wmdf4o"},{"post_id":"clojorf0a000b9kthc17v66dq","tag_id":"clojorf0h001b9kth014tg8yb","_id":"clojorf0i001g9kthaj9qdmjc"},{"post_id":"clojorf0b000f9kthca6n07af","tag_id":"clojorf0i001c9kth8mvh0vp1","_id":"clojorf0i001j9kth86pkccl7"},{"post_id":"clojorf0b000f9kthca6n07af","tag_id":"clojorf0g000w9kth0cvqdhze","_id":"clojorf0i001k9kth3j6y86b1"},{"post_id":"clojorf0b000f9kthca6n07af","tag_id":"clojorf0i001h9kth7wc195e6","_id":"clojorf0j001m9kth7owm3v56"},{"post_id":"clojorf0c000h9kthgmbp6hrx","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0j001q9kth81op3ngq"},{"post_id":"clojorf0c000h9kthgmbp6hrx","tag_id":"clojorf0g000w9kth0cvqdhze","_id":"clojorf0j001r9kth9i5yf759"},{"post_id":"clojorf0c000h9kthgmbp6hrx","tag_id":"clojorf0g00119kth7u9rhs2t","_id":"clojorf0j001t9kth42vohn1t"},{"post_id":"clojorf0c000h9kthgmbp6hrx","tag_id":"clojorf0i001h9kth7wc195e6","_id":"clojorf0j001u9kthcv3m4o9o"},{"post_id":"clojorf0d000m9kth96s12ril","tag_id":"clojorf0i001c9kth8mvh0vp1","_id":"clojorf0k001x9kthgl935ziq"},{"post_id":"clojorf0d000m9kth96s12ril","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0k001y9kth9yty44tx"},{"post_id":"clojorf0d000m9kth96s12ril","tag_id":"clojorf0h001b9kth014tg8yb","_id":"clojorf0k001z9kthdx74by2p"},{"post_id":"clojorf0d000m9kth96s12ril","tag_id":"clojorf0j001w9kthbutm5wbb","_id":"clojorf0k00209kth47vfe11f"},{"post_id":"clojorf0l00219kthezmg13zf","tag_id":"clojorf0h00159kth7cpp72xd","_id":"clojorf0m00249kthgr712piu"},{"post_id":"clojorf0n00279kthdsgd4tcm","tag_id":"clojorf0i001c9kth8mvh0vp1","_id":"clojorf0o00299kth0r1m5ewo"},{"post_id":"clojorf0n00279kthdsgd4tcm","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0o002c9kth89iecs6j"},{"post_id":"clojorf0n00279kthdsgd4tcm","tag_id":"clojorf0g000w9kth0cvqdhze","_id":"clojorf0o002e9kth6ug9846f"},{"post_id":"clojorf0n00279kthdsgd4tcm","tag_id":"clojorf0i001h9kth7wc195e6","_id":"clojorf0o002g9kth78syeaf0"},{"post_id":"clojorf0m00229kthg8qqce65","tag_id":"clojorf0i001c9kth8mvh0vp1","_id":"clojorf0o002h9kthgejda9ie"},{"post_id":"clojorf0m00229kthg8qqce65","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0o002i9kth9mot51oa"},{"post_id":"clojorf0m00229kthg8qqce65","tag_id":"clojorf0h001b9kth014tg8yb","_id":"clojorf0o002j9kthclmoh7r3"},{"post_id":"clojorf0m00229kthg8qqce65","tag_id":"clojorf0n00269kth64uk3yx3","_id":"clojorf0o002k9kth9grwedih"},{"post_id":"clojorf0n00259kthc9r1brxq","tag_id":"clojorf0i001c9kth8mvh0vp1","_id":"clojorf0o002l9kthhriebl30"},{"post_id":"clojorf0n00259kthc9r1brxq","tag_id":"clojorf0e000q9kthddan4nfz","_id":"clojorf0o002m9kthbnhi9yym"},{"post_id":"clojorf0n00259kthc9r1brxq","tag_id":"clojorf0h001b9kth014tg8yb","_id":"clojorf0o002n9kthd7xj1ivj"},{"post_id":"clojorf0n00259kthc9r1brxq","tag_id":"clojorf0o002b9ktha8ft06py","_id":"clojorf0o002o9kthhmqned2l"}],"Tag":[{"name":"教程","_id":"clojorf0800059kth77i98w5u"},{"name":"有趣的东西","_id":"clojorf0b000d9kthhtzdbsit"},{"name":"AI绘画","_id":"clojorf0d000k9kthbd862ms0"},{"name":"笔记","_id":"clojorf0e000q9kthddan4nfz"},{"name":"大二","_id":"clojorf0g000w9kth0cvqdhze"},{"name":"ACEE","_id":"clojorf0g00119kth7u9rhs2t"},{"name":"Hexo","_id":"clojorf0h00129kth37q5hb47"},{"name":"随笔","_id":"clojorf0h00159kth7cpp72xd"},{"name":"大三","_id":"clojorf0h001b9kth014tg8yb"},{"name":"电气","_id":"clojorf0i001c9kth8mvh0vp1"},{"name":"课程资料","_id":"clojorf0i001h9kth7wc195e6"},{"name":"微机","_id":"clojorf0j001w9kthbutm5wbb"},{"name":"电机学","_id":"clojorf0n00269kth64uk3yx3"},{"name":"稳态","_id":"clojorf0o002b9ktha8ft06py"}]}}